{"version":3,"file":"qunit.js","sources":["../lib/global-this-polyfill.js","../src/globals.js","../src/logger.js","../src/core/utilities.js","../src/equiv.js","../src/core/config.js","../src/dump.js","../src/reports/suite.js","../src/module.js","../src/events.js","../lib/promise-polyfill.js","../src/core/logging.js","../src/core/stacktrace.js","../src/core/processing-queue.js","../src/reports/test.js","../src/test.js","../src/assert.js","../src/export.js","../src/reporters/ConsoleReporter.js","../node_modules/kleur/index.mjs","../src/reporters/TapReporter.js","../src/reporters.js","../src/core/on-uncaught-exception.js","../src/core/onerror.js","../src/core.js","../src/html-reporter/fixture.js","../src/html-reporter/urlparams.js","../node_modules/fuzzysort/fuzzysort.js","../src/html-reporter/html.js","../src/html-reporter/diff.js"],"sourcesContent":["/*\nhttps://github.com/ungap/global-this/blob/v0.4.4/esm/index.js\n\nCopyright (c) 2020, Andrea Giammarchi, @WebReflection\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted, provided that the above\ncopyright notice and this permission notice appear in all copies.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE\nOR OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n\n-------\n\nPatches for use in QUnit:\n\n- 2021-02-25: Export as module only, don't change global scope as QUnit must not\n  affect the host context (e.g. people may test their application intentionally\n  with different or no polyfills and we must not affect that).\n\n*/\n\nlet foundGlobalThis;\n\n(function (Object) {\n  if (typeof globalThis === \"object\") {\n    foundGlobalThis = globalThis;\n  } else {\n    this\n      ? get()\n      : (Object.defineProperty(Object.prototype, \"_T_\", {\n          configurable: true,\n          get: get,\n        }),\n        _T_);\n\n    function get() {\n      foundGlobalThis = this || self;\n      delete Object.prototype._T_;\n    }\n  }\n})(Object);\n\nexport default foundGlobalThis;\n","import globalThis from \"../lib/global-this-polyfill\";\n\nexport const window = globalThis.window;\nexport const self = globalThis.self;\nexport const console = globalThis.console;\nexport const setTimeout = globalThis.setTimeout;\nexport const clearTimeout = globalThis.clearTimeout;\n\nexport const document = window && window.document;\nexport const navigator = window && window.navigator;\n\nexport const localSessionStorage = ( function() {\n\tconst x = \"qunit-test-string\";\n\ttry {\n\t\tglobalThis.sessionStorage.setItem( x, x );\n\t\tglobalThis.sessionStorage.removeItem( x );\n\t\treturn globalThis.sessionStorage;\n\t} catch ( e ) {\n\t\treturn undefined;\n\t}\n}() );\n","import { console } from \"./globals\";\n\n// Support: IE 9\n// Detect if the console object exists and no-op otherwise.\n// This allows support for IE 9, which doesn't have a console\n// object if the developer tools are not open.\n\n// Support: IE 9\n// Function#bind is supported, but no console.log.bind().\n\n// Support: SpiderMonkey (mozjs 68+)\n// The console object has a log method, but no warn method.\n\nexport default {\n\twarn: console ?\n\t\tFunction.prototype.bind.call( console.warn || console.log, console ) :\n\t\tfunction() {}\n};\n","import { window } from \"../globals\";\nimport Logger from \"../logger\";\n\nexport const toString = Object.prototype.toString;\nexport const hasOwn = Object.prototype.hasOwnProperty;\nexport const now = Date.now || function() {\n\treturn new Date().getTime();\n};\n\nconst nativePerf = getNativePerf();\n\nfunction getNativePerf() {\n\tif ( window &&\n\t\ttypeof window.performance !== \"undefined\" &&\n\t\ttypeof window.performance.mark === \"function\" &&\n\t\ttypeof window.performance.measure === \"function\"\n\t) {\n\t\treturn window.performance;\n\t} else {\n\t\treturn undefined;\n\t}\n}\n\nexport const performance = {\n\tnow: nativePerf ?\n\t\tnativePerf.now.bind( nativePerf ) :\n\t\tnow,\n\tmeasure: nativePerf ? function( comment, startMark, endMark ) {\n\n\t\t// `performance.measure` may fail if the mark could not be found.\n\t\t// reasons a specific mark could not be found include: outside code invoking `performance.clearMarks()`\n\t\ttry {\n\t\t\tnativePerf.measure( comment, startMark, endMark );\n\t\t} catch ( ex ) {\n\t\t\tLogger.warn( \"performance.measure could not be executed because of \", ex.message );\n\t\t}\n\t} : function() {},\n\tmark: nativePerf ? nativePerf.mark.bind( nativePerf ) : function() {}\n};\n\n// Returns a new Array with the elements that are in a but not in b\nexport function diff( a, b ) {\n\tconst result = a.slice();\n\n\tfor ( let i = 0; i < result.length; i++ ) {\n\t\tfor ( let j = 0; j < b.length; j++ ) {\n\t\t\tif ( result[ i ] === b[ j ] ) {\n\t\t\t\tresult.splice( i, 1 );\n\t\t\t\ti--;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\treturn result;\n}\n\n/**\n * Determines whether an element exists in a given array or not.\n *\n * @method inArray\n * @param {any} elem\n * @param {Array} array\n * @return {boolean}\n */\nexport function inArray( elem, array ) {\n\treturn array.indexOf( elem ) !== -1;\n}\n\n/**\n * Recursively clone an object into a plain array or object, taking only the\n * own enumerable properties.\n *\n * @param {any} obj\n * @param {bool} [allowArray=true]\n * @return {Object|Array}\n */\nexport function objectValues( obj, allowArray = true ) {\n\tconst vals = ( allowArray && is( \"array\", obj ) ) ? [] : {};\n\tfor ( const key in obj ) {\n\t\tif ( hasOwn.call( obj, key ) ) {\n\t\t\tconst val = obj[ key ];\n\t\t\tvals[ key ] = val === Object( val ) ? objectValues( val, allowArray ) : val;\n\t\t}\n\t}\n\treturn vals;\n}\n\n/**\n * Recursively clone an object into a plain object, taking only the\n * subset of own enumerable properties that exist a given model.\n *\n * @param {any} obj\n * @param {any} model\n * @return {Object}\n */\nexport function objectValuesSubset( obj, model ) {\n\n\t// Return primitive values unchanged to avoid false positives or confusing\n\t// results from assert.propContains().\n\t// E.g. an actual null or false wrongly equaling an empty object,\n\t// or an actual string being reported as object not matching a partial object.\n\tif ( obj !== Object( obj ) ) {\n\t\treturn obj;\n\t}\n\n\t// Unlike objectValues(), subset arrays to a plain objects as well.\n\t// This enables subsetting [20, 30] with {1: 30}.\n\tconst subset = {};\n\n\tfor ( const key in model ) {\n\t\tif ( hasOwn.call( model, key ) && hasOwn.call( obj, key ) ) {\n\t\t\tsubset[ key ] = objectValuesSubset( obj[ key ], model[ key ] );\n\t\t}\n\t}\n\treturn subset;\n}\n\nexport function extend( a, b, undefOnly ) {\n\tfor ( const prop in b ) {\n\t\tif ( hasOwn.call( b, prop ) ) {\n\t\t\tif ( b[ prop ] === undefined ) {\n\t\t\t\tdelete a[ prop ];\n\t\t\t} else if ( !( undefOnly && typeof a[ prop ] !== \"undefined\" ) ) {\n\t\t\t\ta[ prop ] = b[ prop ];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn a;\n}\n\nexport function objectType( obj ) {\n\tif ( typeof obj === \"undefined\" ) {\n\t\treturn \"undefined\";\n\t}\n\n\t// Consider: typeof null === object\n\tif ( obj === null ) {\n\t\treturn \"null\";\n\t}\n\n\tconst match = toString.call( obj ).match( /^\\[object\\s(.*)\\]$/ );\n\tconst type = match && match[ 1 ];\n\n\tswitch ( type ) {\n\tcase \"Number\":\n\t\tif ( isNaN( obj ) ) {\n\t\t\treturn \"nan\";\n\t\t}\n\t\treturn \"number\";\n\tcase \"String\":\n\tcase \"Boolean\":\n\tcase \"Array\":\n\tcase \"Set\":\n\tcase \"Map\":\n\tcase \"Date\":\n\tcase \"RegExp\":\n\tcase \"Function\":\n\tcase \"Symbol\":\n\t\treturn type.toLowerCase();\n\tdefault:\n\t\treturn typeof obj;\n\t}\n}\n\n// Safe object type checking\nexport function is( type, obj ) {\n\treturn objectType( obj ) === type;\n}\n\n// Based on Java's String.hashCode, a simple but not\n// rigorously collision resistant hashing function\nexport function generateHash( module, testName ) {\n\tconst str = module + \"\\x1C\" + testName;\n\tlet hash = 0;\n\n\tfor ( let i = 0; i < str.length; i++ ) {\n\t\thash = ( ( hash << 5 ) - hash ) + str.charCodeAt( i );\n\t\thash |= 0;\n\t}\n\n\t// Convert the possibly negative integer hash code into an 8 character hex string, which isn't\n\t// strictly necessary but increases user understanding that the id is a SHA-like hash\n\tlet hex = ( 0x100000000 + hash ).toString( 16 );\n\tif ( hex.length < 8 ) {\n\t\thex = \"0000000\" + hex;\n\t}\n\n\treturn hex.slice( -8 );\n}\n\n/**\n * Converts an error into a simple string for comparisons.\n *\n * @param {Error|any} error\n * @return {string}\n */\nexport function errorString( error ) {\n\n\t// Use String() instead of toString() to handle non-object values like undefined or null.\n\tconst resultErrorString = String( error );\n\n\t// If the error wasn't a subclass of Error but something like\n\t// an object literal with name and message properties...\n\tif ( resultErrorString.slice( 0, 7 ) === \"[object\" ) {\n\n\t\t// Based on https://es5.github.io/#x15.11.4.4\n\t\treturn ( error.name || \"Error\" ) + ( error.message ? `: ${error.message}` : \"\" );\n\t} else {\n\t\treturn resultErrorString;\n\t}\n}\n","import { objectType } from \"./core/utilities\";\n\n// Test for equality any JavaScript type.\n// Authors: Philippe Rathé <prathe@gmail.com>, David Chan <david@troi.org>\nexport default ( function() {\n\n\t// Value pairs queued for comparison. Used for breadth-first processing order, recursion\n\t// detection and avoiding repeated comparison (see below for details).\n\t// Elements are { a: val, b: val }.\n\tlet pairs = [];\n\n\tconst getProto = Object.getPrototypeOf || function( obj ) {\n\t\treturn obj.__proto__;\n\t};\n\n\tfunction useStrictEquality( a, b ) {\n\n\t\t// This only gets called if a and b are not strict equal, and is used to compare on\n\t\t// the primitive values inside object wrappers. For example:\n\t\t// `var i = 1;`\n\t\t// `var j = new Number(1);`\n\t\t// Neither a nor b can be null, as a !== b and they have the same type.\n\t\tif ( typeof a === \"object\" ) {\n\t\t\ta = a.valueOf();\n\t\t}\n\t\tif ( typeof b === \"object\" ) {\n\t\t\tb = b.valueOf();\n\t\t}\n\n\t\treturn a === b;\n\t}\n\n\tfunction compareConstructors( a, b ) {\n\t\tlet protoA = getProto( a );\n\t\tlet protoB = getProto( b );\n\n\t\t// Comparing constructors is more strict than using `instanceof`\n\t\tif ( a.constructor === b.constructor ) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Ref #851\n\t\t// If the obj prototype descends from a null constructor, treat it\n\t\t// as a null prototype.\n\t\tif ( protoA && protoA.constructor === null ) {\n\t\t\tprotoA = null;\n\t\t}\n\t\tif ( protoB && protoB.constructor === null ) {\n\t\t\tprotoB = null;\n\t\t}\n\n\t\t// Allow objects with no prototype to be equivalent to\n\t\t// objects with Object as their constructor.\n\t\tif ( ( protoA === null && protoB === Object.prototype ) ||\n\t\t\t\t( protoB === null && protoA === Object.prototype ) ) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tfunction getRegExpFlags( regexp ) {\n\t\treturn \"flags\" in regexp ? regexp.flags : regexp.toString().match( /[gimuy]*$/ )[ 0 ];\n\t}\n\n\tfunction isContainer( val ) {\n\t\treturn [ \"object\", \"array\", \"map\", \"set\" ].indexOf( objectType( val ) ) !== -1;\n\t}\n\n\tfunction breadthFirstCompareChild( a, b ) {\n\n\t\t// If a is a container not reference-equal to b, postpone the comparison to the\n\t\t// end of the pairs queue -- unless (a, b) has been seen before, in which case skip\n\t\t// over the pair.\n\t\tif ( a === b ) {\n\t\t\treturn true;\n\t\t}\n\t\tif ( !isContainer( a ) ) {\n\t\t\treturn typeEquiv( a, b );\n\t\t}\n\t\tif ( pairs.every( function( pair ) {\n\t\t\treturn pair.a !== a || pair.b !== b;\n\t\t} ) ) {\n\n\t\t\t// Not yet started comparing this pair\n\t\t\tpairs.push( { a: a, b: b } );\n\t\t}\n\t\treturn true;\n\t}\n\n\tconst callbacks = {\n\t\t\"string\": useStrictEquality,\n\t\t\"boolean\": useStrictEquality,\n\t\t\"number\": useStrictEquality,\n\t\t\"null\": useStrictEquality,\n\t\t\"undefined\": useStrictEquality,\n\t\t\"symbol\": useStrictEquality,\n\t\t\"date\": useStrictEquality,\n\n\t\t\"nan\": function() {\n\t\t\treturn true;\n\t\t},\n\n\t\t\"regexp\": function( a, b ) {\n\t\t\treturn a.source === b.source &&\n\n\t\t\t\t// Include flags in the comparison\n\t\t\t\tgetRegExpFlags( a ) === getRegExpFlags( b );\n\t\t},\n\n\t\t// abort (identical references / instance methods were skipped earlier)\n\t\t\"function\": function() {\n\t\t\treturn false;\n\t\t},\n\n\t\t\"array\": function( a, b ) {\n\n\t\t\tconst len = a.length;\n\t\t\tif ( len !== b.length ) {\n\n\t\t\t\t// Safe and faster\n\t\t\t\treturn false;\n\t\t\t}\n\n\n\t\t\tfor ( let i = 0; i < len; i++ ) {\n\n\t\t\t\t// Compare non-containers; queue non-reference-equal containers\n\t\t\t\tif ( !breadthFirstCompareChild( a[ i ], b[ i ] ) ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\n\t\t// Define sets a and b to be equivalent if for each element aVal in a, there\n\t\t// is some element bVal in b such that aVal and bVal are equivalent. Element\n\t\t// repetitions are not counted, so these are equivalent:\n\t\t// a = new Set( [ {}, [], [] ] );\n\t\t// b = new Set( [ {}, {}, [] ] );\n\t\t\"set\": function( a, b ) {\n\n\t\t\tif ( a.size !== b.size ) {\n\n\t\t\t\t// This optimization has certain quirks because of the lack of\n\t\t\t\t// repetition counting. For instance, adding the same\n\t\t\t\t// (reference-identical) element to two equivalent sets can\n\t\t\t\t// make them non-equivalent.\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tlet outerEq = true;\n\n\t\t\ta.forEach( function( aVal ) {\n\n\t\t\t\t// Short-circuit if the result is already known. (Using for...of\n\t\t\t\t// with a break clause would be cleaner here, but it would cause\n\t\t\t\t// a syntax error on older JavaScript implementations even if\n\t\t\t\t// Set is unused)\n\t\t\t\tif ( !outerEq ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tlet innerEq = false;\n\n\t\t\t\tb.forEach( function( bVal ) {\n\n\t\t\t\t\t// Likewise, short-circuit if the result is already known\n\t\t\t\t\tif ( innerEq ) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Swap out the global pairs list, as the nested call to\n\t\t\t\t\t// innerEquiv will clobber its contents\n\t\t\t\t\tconst parentPairs = pairs;\n\t\t\t\t\tif ( innerEquiv( bVal, aVal ) ) {\n\t\t\t\t\t\tinnerEq = true;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Replace the global pairs list\n\t\t\t\t\tpairs = parentPairs;\n\t\t\t\t} );\n\n\t\t\t\tif ( !innerEq ) {\n\t\t\t\t\touterEq = false;\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\treturn outerEq;\n\t\t},\n\n\t\t// Define maps a and b to be equivalent if for each key-value pair (aKey, aVal)\n\t\t// in a, there is some key-value pair (bKey, bVal) in b such that\n\t\t// [ aKey, aVal ] and [ bKey, bVal ] are equivalent. Key repetitions are not\n\t\t// counted, so these are equivalent:\n\t\t// a = new Map( [ [ {}, 1 ], [ {}, 1 ], [ [], 1 ] ] );\n\t\t// b = new Map( [ [ {}, 1 ], [ [], 1 ], [ [], 1 ] ] );\n\t\t\"map\": function( a, b ) {\n\n\t\t\tif ( a.size !== b.size ) {\n\n\t\t\t\t// This optimization has certain quirks because of the lack of\n\t\t\t\t// repetition counting. For instance, adding the same\n\t\t\t\t// (reference-identical) key-value pair to two equivalent maps\n\t\t\t\t// can make them non-equivalent.\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tlet outerEq = true;\n\n\t\t\ta.forEach( function( aVal, aKey ) {\n\n\t\t\t\t// Short-circuit if the result is already known. (Using for...of\n\t\t\t\t// with a break clause would be cleaner here, but it would cause\n\t\t\t\t// a syntax error on older JavaScript implementations even if\n\t\t\t\t// Map is unused)\n\t\t\t\tif ( !outerEq ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tlet innerEq = false;\n\n\t\t\t\tb.forEach( function( bVal, bKey ) {\n\n\t\t\t\t\t// Likewise, short-circuit if the result is already known\n\t\t\t\t\tif ( innerEq ) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Swap out the global pairs list, as the nested call to\n\t\t\t\t\t// innerEquiv will clobber its contents\n\t\t\t\t\tconst parentPairs = pairs;\n\t\t\t\t\tif ( innerEquiv( [ bVal, bKey ], [ aVal, aKey ] ) ) {\n\t\t\t\t\t\tinnerEq = true;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Replace the global pairs list\n\t\t\t\t\tpairs = parentPairs;\n\t\t\t\t} );\n\n\t\t\t\tif ( !innerEq ) {\n\t\t\t\t\touterEq = false;\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\treturn outerEq;\n\t\t},\n\n\t\t\"object\": function( a, b ) {\n\n\t\t\tif ( compareConstructors( a, b ) === false ) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tconst aProperties = [];\n\t\t\tconst bProperties = [];\n\n\t\t\t// Be strict: don't ensure hasOwnProperty and go deep\n\t\t\tfor ( const i in a ) {\n\n\t\t\t\t// Collect a's properties\n\t\t\t\taProperties.push( i );\n\n\t\t\t\t// Skip OOP methods that look the same\n\t\t\t\tif (\n\t\t\t\t\ta.constructor !== Object &&\n\t\t\t\t\ttypeof a.constructor !== \"undefined\" &&\n\t\t\t\t\ttypeof a[ i ] === \"function\" &&\n\t\t\t\t\ttypeof b[ i ] === \"function\" &&\n\t\t\t\t\ta[ i ].toString() === b[ i ].toString()\n\t\t\t\t) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Compare non-containers; queue non-reference-equal containers\n\t\t\t\tif ( !breadthFirstCompareChild( a[ i ], b[ i ] ) ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor ( const i in b ) {\n\n\t\t\t\t// Collect b's properties\n\t\t\t\tbProperties.push( i );\n\t\t\t}\n\n\t\t\t// Ensures identical properties name\n\t\t\treturn typeEquiv( aProperties.sort(), bProperties.sort() );\n\t\t}\n\t};\n\n\tfunction typeEquiv( a, b ) {\n\t\tconst type = objectType( a );\n\n\t\t// Callbacks for containers will append to the pairs queue to achieve breadth-first\n\t\t// search order. The pairs queue is also used to avoid reprocessing any pair of\n\t\t// containers that are reference-equal to a previously visited pair (a special case\n\t\t// this being recursion detection).\n\t\t//\n\t\t// Because of this approach, once typeEquiv returns a false value, it should not be\n\t\t// called again without clearing the pair queue else it may wrongly report a visited\n\t\t// pair as being equivalent.\n\t\treturn objectType( b ) === type && callbacks[ type ]( a, b );\n\t}\n\n\tfunction innerEquiv( a, b ) {\n\n\t\t// We're done when there's nothing more to compare\n\t\tif ( arguments.length < 2 ) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Clear the global pair queue and add the top-level values being compared\n\t\tpairs = [ { a: a, b: b } ];\n\n\t\tfor ( let i = 0; i < pairs.length; i++ ) {\n\t\t\tconst pair = pairs[ i ];\n\n\t\t\t// Perform type-specific comparison on any pairs that are not strictly\n\t\t\t// equal. For container types, that comparison will postpone comparison\n\t\t\t// of any sub-container pair to the end of the pair queue. This gives\n\t\t\t// breadth-first search order. It also avoids the reprocessing of\n\t\t\t// reference-equal siblings, cousins etc, which can have a significant speed\n\t\t\t// impact when comparing a container of small objects each of which has a\n\t\t\t// reference to the same (singleton) large object.\n\t\t\tif ( pair.a !== pair.b && !typeEquiv( pair.a, pair.b ) ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\t// ...across all consecutive argument pairs\n\t\treturn arguments.length === 2 || innerEquiv.apply( this, [].slice.call( arguments, 1 ) );\n\t}\n\n\treturn ( ...args ) => {\n\t\tconst result = innerEquiv( ...args );\n\n\t\t// Release any retained objects\n\t\tpairs.length = 0;\n\t\treturn result;\n\t};\n}() );\n","import { window, localSessionStorage } from \"../globals\";\nimport { extend } from \"./utilities\";\n\n/**\n * Config object: Maintain internal state\n * Later exposed as QUnit.config\n * `config` initialized at top of scope\n */\nconst config = {\n\n\t// The queue of tests to run\n\tqueue: [],\n\n\tstats: { all: 0, bad: 0, testCount: 0 },\n\n\t// Block until document ready\n\tblocking: true,\n\n\t// whether or not to fail when there are zero tests\n\t// defaults to `true`\n\tfailOnZeroTests: true,\n\n\t// By default, run previously failed tests first\n\t// very useful in combination with \"Hide passed tests\" checked\n\treorder: true,\n\n\t// By default, modify document.title when suite is done\n\taltertitle: true,\n\n\t// HTML Reporter: collapse every test except the first failing test\n\t// If false, all failing tests will be expanded\n\tcollapse: true,\n\n\t// By default, scroll to top of the page when suite is done\n\tscrolltop: true,\n\n\t// Depth up-to which object will be dumped\n\tmaxDepth: 5,\n\n\t// When enabled, all tests must call expect()\n\trequireExpects: false,\n\n\t// Placeholder for user-configurable form-exposed URL parameters\n\turlConfig: [],\n\n\t// Set of all modules.\n\tmodules: [],\n\n\t// The first unnamed module\n\t//\n\t// By being defined as the intial value for currentModule, it is the\n\t// receptacle and implied parent for any global tests. It is as if we\n\t// called `QUnit.module( \"\" );` before any other tests were defined.\n\t//\n\t// If we reach begin() and no tests were put in it, we dequeue it as if it\n\t// never existed, and in that case never expose it to the events and\n\t// callbacks API.\n\t//\n\t// When global tests are defined, then this unnamed module will execute\n\t// as any other module, including moduleStart/moduleDone events etc.\n\t//\n\t// Since this module isn't explicitly created by the user, they have no\n\t// access to add hooks for it. The hooks object is defined to comply\n\t// with internal expectations of test.js, but they will be empty.\n\t// To apply hooks, place tests explicitly in a QUnit.module(), and use\n\t// its hooks accordingly.\n\t//\n\t// For global hooks that apply to all tests and all modules, use QUnit.hooks.\n\t//\n\t// NOTE: This is *not* a \"global module\". It is not an ancestor of all modules\n\t// and tests. It is merely the parent for any tests defined globally,\n\t// before the first QUnit.module(). As such, the events for this unnamed\n\t// module will fire as normal, right after its last test, and *not* at\n\t// the end of the test run.\n\t//\n\t// NOTE: This also should probably also not become a global module, unless\n\t// we keep it out of the public API. For example, it would likely not\n\t// improve the user interface and plugin behaviour if all modules became\n\t// wrapped between the start and end events of this module, and thus\n\t// needlessly add indentation, indirection, or other visible noise.\n\t// Unit tests for the callbacks API would detect that as a regression.\n\tcurrentModule: {\n\t\tname: \"\",\n\t\ttests: [],\n\t\tchildModules: [],\n\t\ttestsRun: 0,\n\t\ttestsIgnored: 0,\n\t\thooks: {\n\t\t\tbefore: [],\n\t\t\tbeforeEach: [],\n\t\t\tafterEach: [],\n\t\t\tafter: []\n\t\t}\n\t},\n\n\tcallbacks: {},\n\n\t// The storage module to use for reordering tests\n\tstorage: localSessionStorage\n};\n\n// take a predefined QUnit.config and extend the defaults\nconst globalConfig = window && window.QUnit && window.QUnit.config;\n\n// only extend the global config if there is no QUnit overload\nif ( window && window.QUnit && !window.QUnit.version ) {\n\textend( config, globalConfig );\n}\n\n// Push a loose unnamed module to the modules collection\nconfig.modules.push( config.currentModule );\n\nexport default config;\n","// QUnit.dump is based on jsDump 1.0.0 by Ariel Flesler\n// From <https://flesler.blogspot.com/2008/05/jsdump-pretty-dump-of-any-javascript.html>\n// Licensed under BSD <https://opensource.org/licenses/BSD-2-Clause>\n//\n// -------\n// Copyright 2008 Ariel Flesler - aflesler(at)gmail(dot)com\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n// 1. Redistributions of source code must retain the above copyright\n//    notice, this list of conditions and the following disclaimer.\n//\n// 2. Redistributions in binary form must reproduce the above copyright\n//    notice, this list of conditions and the following disclaimer in the\n//    documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n// -------\n\nimport config from \"./core/config\";\nimport { inArray, toString, is } from \"./core/utilities\";\n\nexport default ( function() {\n\tfunction quote( str ) {\n\t\treturn \"\\\"\" + str.toString().replace( /\\\\/g, \"\\\\\\\\\" ).replace( /\"/g, \"\\\\\\\"\" ) + \"\\\"\";\n\t}\n\tfunction literal( o ) {\n\t\treturn o + \"\";\n\t}\n\tfunction join( pre, arr, post ) {\n\t\tconst s = dump.separator();\n\t\tconst inner = dump.indent( 1 );\n\t\tif ( arr.join ) {\n\t\t\tarr = arr.join( \",\" + s + inner );\n\t\t}\n\t\tif ( !arr ) {\n\t\t\treturn pre + post;\n\t\t}\n\t\tconst base = dump.indent();\n\t\treturn [ pre, inner + arr, base + post ].join( s );\n\t}\n\tfunction array( arr, stack ) {\n\n\t\tif ( dump.maxDepth && dump.depth > dump.maxDepth ) {\n\t\t\treturn \"[object Array]\";\n\t\t}\n\n\t\tthis.up();\n\n\t\tlet i = arr.length;\n\t\tconst ret = new Array( i );\n\t\twhile ( i-- ) {\n\t\t\tret[ i ] = this.parse( arr[ i ], undefined, stack );\n\t\t}\n\t\tthis.down();\n\t\treturn join( \"[\", ret, \"]\" );\n\t}\n\n\tfunction isArray( obj ) {\n\t\treturn (\n\n\t\t\t//Native Arrays\n\t\t\ttoString.call( obj ) === \"[object Array]\" ||\n\n\t\t\t// NodeList objects\n\t\t\t( typeof obj.length === \"number\" && obj.item !== undefined ) &&\n\t\t\t( obj.length ?\n\t\t\t\tobj.item( 0 ) === obj[ 0 ] :\n\t\t\t\t( obj.item( 0 ) === null && obj[ 0 ] === undefined )\n\t\t\t)\n\t\t);\n\t}\n\n\tconst reName = /^function (\\w+)/;\n\tconst dump = {\n\n\t\t// The objType is used mostly internally, you can fix a (custom) type in advance\n\t\tparse: function( obj, objType, stack ) {\n\t\t\tstack = stack || [];\n\t\t\tconst objIndex = stack.indexOf( obj );\n\n\t\t\tif ( objIndex !== -1 ) {\n\t\t\t\treturn `recursion(${objIndex - stack.length})`;\n\t\t\t}\n\n\t\t\tobjType = objType || this.typeOf( obj );\n\t\t\tconst parser = this.parsers[ objType ];\n\t\t\tconst parserType = typeof parser;\n\n\t\t\tif ( parserType === \"function\" ) {\n\t\t\t\tstack.push( obj );\n\t\t\t\tconst res = parser.call( this, obj, stack );\n\t\t\t\tstack.pop();\n\t\t\t\treturn res;\n\t\t\t}\n\t\t\tif ( parserType === \"string\" ) {\n\t\t\t\treturn parser;\n\t\t\t}\n\t\t\treturn \"[ERROR: Missing QUnit.dump formatter for type \" + objType + \"]\";\n\t\t},\n\t\ttypeOf: function( obj ) {\n\t\t\tlet type;\n\n\t\t\tif ( obj === null ) {\n\t\t\t\ttype = \"null\";\n\t\t\t} else if ( typeof obj === \"undefined\" ) {\n\t\t\t\ttype = \"undefined\";\n\t\t\t} else if ( is( \"regexp\", obj ) ) {\n\t\t\t\ttype = \"regexp\";\n\t\t\t} else if ( is( \"date\", obj ) ) {\n\t\t\t\ttype = \"date\";\n\t\t\t} else if ( is( \"function\", obj ) ) {\n\t\t\t\ttype = \"function\";\n\t\t\t} else if ( obj.setInterval !== undefined &&\n\t\t\t\t\tobj.document !== undefined &&\n\t\t\t\t\tobj.nodeType === undefined ) {\n\t\t\t\ttype = \"window\";\n\t\t\t} else if ( obj.nodeType === 9 ) {\n\t\t\t\ttype = \"document\";\n\t\t\t} else if ( obj.nodeType ) {\n\t\t\t\ttype = \"node\";\n\t\t\t} else if ( isArray( obj ) ) {\n\t\t\t\ttype = \"array\";\n\t\t\t} else if ( obj.constructor === Error.prototype.constructor ) {\n\t\t\t\ttype = \"error\";\n\t\t\t} else {\n\t\t\t\ttype = typeof obj;\n\t\t\t}\n\t\t\treturn type;\n\t\t},\n\n\t\tseparator: function() {\n\t\t\tif ( this.multiline ) {\n\t\t\t\treturn this.HTML ? \"<br />\" : \"\\n\";\n\t\t\t} else {\n\t\t\t\treturn this.HTML ? \"&#160;\" : \" \";\n\t\t\t}\n\t\t},\n\n\t\t// Extra can be a number, shortcut for increasing-calling-decreasing\n\t\tindent: function( extra ) {\n\t\t\tif ( !this.multiline ) {\n\t\t\t\treturn \"\";\n\t\t\t}\n\t\t\tlet chr = this.indentChar;\n\t\t\tif ( this.HTML ) {\n\t\t\t\tchr = chr.replace( /\\t/g, \"   \" ).replace( / /g, \"&#160;\" );\n\t\t\t}\n\t\t\treturn new Array( this.depth + ( extra || 0 ) ).join( chr );\n\t\t},\n\t\tup: function( a ) {\n\t\t\tthis.depth += a || 1;\n\t\t},\n\t\tdown: function( a ) {\n\t\t\tthis.depth -= a || 1;\n\t\t},\n\t\tsetParser: function( name, parser ) {\n\t\t\tthis.parsers[ name ] = parser;\n\t\t},\n\n\t\t// The next 3 are exposed so you can use them\n\t\tquote: quote,\n\t\tliteral: literal,\n\t\tjoin: join,\n\t\tdepth: 1,\n\t\tmaxDepth: config.maxDepth,\n\n\t\t// This is the list of parsers, to modify them, use dump.setParser\n\t\tparsers: {\n\t\t\twindow: \"[Window]\",\n\t\t\tdocument: \"[Document]\",\n\t\t\terror: function( error ) {\n\t\t\t\treturn \"Error(\\\"\" + error.message + \"\\\")\";\n\t\t\t},\n\n\t\t\t// This has been unused since QUnit 1.0.0.\n\t\t\t// @todo Deprecate and remove.\n\t\t\tunknown: \"[Unknown]\",\n\t\t\t\"null\": \"null\",\n\t\t\t\"undefined\": \"undefined\",\n\t\t\t\"function\": function( fn ) {\n\t\t\t\tlet ret = \"function\";\n\n\t\t\t\t// Functions never have name in IE\n\t\t\t\tconst name = \"name\" in fn ? fn.name : ( reName.exec( fn ) || [] )[ 1 ];\n\n\t\t\t\tif ( name ) {\n\t\t\t\t\tret += \" \" + name;\n\t\t\t\t}\n\t\t\t\tret += \"(\";\n\n\t\t\t\tret = [ ret, dump.parse( fn, \"functionArgs\" ), \"){\" ].join( \"\" );\n\t\t\t\treturn join( ret, dump.parse( fn, \"functionCode\" ), \"}\" );\n\t\t\t},\n\t\t\tarray: array,\n\t\t\tnodelist: array,\n\t\t\t\"arguments\": array,\n\t\t\tobject: function( map, stack ) {\n\t\t\t\tconst ret = [];\n\n\t\t\t\tif ( dump.maxDepth && dump.depth > dump.maxDepth ) {\n\t\t\t\t\treturn \"[object Object]\";\n\t\t\t\t}\n\n\t\t\t\tdump.up();\n\t\t\t\tconst keys = [];\n\t\t\t\tfor ( const key in map ) {\n\t\t\t\t\tkeys.push( key );\n\t\t\t\t}\n\n\t\t\t\t// Some properties are not always enumerable on Error objects.\n\t\t\t\tconst nonEnumerableProperties = [ \"message\", \"name\" ];\n\t\t\t\tfor ( const i in nonEnumerableProperties ) {\n\t\t\t\t\tconst key = nonEnumerableProperties[ i ];\n\t\t\t\t\tif ( key in map && !inArray( key, keys ) ) {\n\t\t\t\t\t\tkeys.push( key );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tkeys.sort();\n\t\t\t\tfor ( let i = 0; i < keys.length; i++ ) {\n\t\t\t\t\tconst key = keys[ i ];\n\t\t\t\t\tconst val = map[ key ];\n\t\t\t\t\tret.push( dump.parse( key, \"key\" ) + \": \" +\n\t\t\t\t\t\tdump.parse( val, undefined, stack ) );\n\t\t\t\t}\n\t\t\t\tdump.down();\n\t\t\t\treturn join( \"{\", ret, \"}\" );\n\t\t\t},\n\t\t\tnode: function( node ) {\n\t\t\t\tconst open = dump.HTML ? \"&lt;\" : \"<\";\n\t\t\t\tconst close = dump.HTML ? \"&gt;\" : \">\";\n\t\t\t\tconst tag = node.nodeName.toLowerCase();\n\t\t\t\tlet ret = open + tag;\n\t\t\t\tconst attrs = node.attributes;\n\n\t\t\t\tif ( attrs ) {\n\t\t\t\t\tfor ( let i = 0, len = attrs.length; i < len; i++ ) {\n\t\t\t\t\t\tconst val = attrs[ i ].nodeValue;\n\n\t\t\t\t\t\t// IE6 includes all attributes in .attributes, even ones not explicitly\n\t\t\t\t\t\t// set. Those have values like undefined, null, 0, false, \"\" or\n\t\t\t\t\t\t// \"inherit\".\n\t\t\t\t\t\tif ( val && val !== \"inherit\" ) {\n\t\t\t\t\t\t\tret += \" \" + attrs[ i ].nodeName + \"=\" +\n\t\t\t\t\t\t\t\tdump.parse( val, \"attribute\" );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tret += close;\n\n\t\t\t\t// Show content of TextNode or CDATASection\n\t\t\t\tif ( node.nodeType === 3 || node.nodeType === 4 ) {\n\t\t\t\t\tret += node.nodeValue;\n\t\t\t\t}\n\n\t\t\t\treturn ret + open + \"/\" + tag + close;\n\t\t\t},\n\n\t\t\t// Function calls it internally, it's the arguments part of the function\n\t\t\tfunctionArgs: function( fn ) {\n\t\t\t\tlet l = fn.length;\n\n\t\t\t\tif ( !l ) {\n\t\t\t\t\treturn \"\";\n\t\t\t\t}\n\n\t\t\t\tconst args = new Array( l );\n\t\t\t\twhile ( l-- ) {\n\n\t\t\t\t\t// 97 is 'a'\n\t\t\t\t\targs[ l ] = String.fromCharCode( 97 + l );\n\t\t\t\t}\n\t\t\t\treturn \" \" + args.join( \", \" ) + \" \";\n\t\t\t},\n\n\t\t\t// Object calls it internally, the key part of an item in a map\n\t\t\tkey: quote,\n\n\t\t\t// Function calls it internally, it's the content of the function\n\t\t\tfunctionCode: \"[code]\",\n\n\t\t\t// Node calls it internally, it's a html attribute value\n\t\t\tattribute: quote,\n\t\t\tstring: quote,\n\t\t\tdate: quote,\n\t\t\tregexp: literal,\n\t\t\tnumber: literal,\n\t\t\t\"boolean\": literal,\n\t\t\tsymbol: function( sym ) {\n\t\t\t\treturn sym.toString();\n\t\t\t}\n\t\t},\n\n\t\t// If true, entities are escaped ( <, >, \\t, space and \\n )\n\t\tHTML: false,\n\n\t\t// Indentation unit\n\t\tindentChar: \"  \",\n\n\t\t// If true, items in a collection, are separated by a \\n, else just a space.\n\t\tmultiline: true\n\t};\n\n\treturn dump;\n} )();\n","import { performance } from \"../core/utilities\";\n\nexport default class SuiteReport {\n\tconstructor( name, parentSuite ) {\n\t\tthis.name = name;\n\t\tthis.fullName = parentSuite ? parentSuite.fullName.concat( name ) : [];\n\n\t\t// When an \"error\" event is emitted from onUncaughtException(), the\n\t\t// \"runEnd\" event should report the status as failed. The \"runEnd\" event data\n\t\t// is tracked through this property (via the \"runSuite\" instance).\n\t\tthis.globalFailureCount = 0;\n\n\t\tthis.tests = [];\n\t\tthis.childSuites = [];\n\n\t\tif ( parentSuite ) {\n\t\t\tparentSuite.pushChildSuite( this );\n\t\t}\n\t}\n\n\tstart( recordTime ) {\n\t\tif ( recordTime ) {\n\t\t\tthis._startTime = performance.now();\n\n\t\t\tconst suiteLevel = this.fullName.length;\n\t\t\tperformance.mark( `qunit_suite_${suiteLevel}_start` );\n\t\t}\n\n\t\treturn {\n\t\t\tname: this.name,\n\t\t\tfullName: this.fullName.slice(),\n\t\t\ttests: this.tests.map( test => test.start() ),\n\t\t\tchildSuites: this.childSuites.map( suite => suite.start() ),\n\t\t\ttestCounts: {\n\t\t\t\ttotal: this.getTestCounts().total\n\t\t\t}\n\t\t};\n\t}\n\n\tend( recordTime ) {\n\t\tif ( recordTime ) {\n\t\t\tthis._endTime = performance.now();\n\n\t\t\tconst suiteLevel = this.fullName.length;\n\t\t\tconst suiteName = this.fullName.join( \" – \" );\n\n\t\t\tperformance.mark( `qunit_suite_${suiteLevel}_end` );\n\t\t\tperformance.measure(\n\t\t\t\tsuiteLevel === 0 ? \"QUnit Test Run\" : `QUnit Test Suite: ${suiteName}`,\n\t\t\t\t`qunit_suite_${suiteLevel}_start`,\n\t\t\t\t`qunit_suite_${suiteLevel}_end`\n\t\t\t);\n\t\t}\n\n\t\treturn {\n\t\t\tname: this.name,\n\t\t\tfullName: this.fullName.slice(),\n\t\t\ttests: this.tests.map( test => test.end() ),\n\t\t\tchildSuites: this.childSuites.map( suite => suite.end() ),\n\t\t\ttestCounts: this.getTestCounts(),\n\t\t\truntime: this.getRuntime(),\n\t\t\tstatus: this.getStatus()\n\t\t};\n\t}\n\n\tpushChildSuite( suite ) {\n\t\tthis.childSuites.push( suite );\n\t}\n\n\tpushTest( test ) {\n\t\tthis.tests.push( test );\n\t}\n\n\tgetRuntime() {\n\t\treturn this._endTime - this._startTime;\n\t}\n\n\tgetTestCounts( counts = { passed: 0, failed: 0, skipped: 0, todo: 0, total: 0 } ) {\n\t\tcounts.failed += this.globalFailureCount;\n\t\tcounts.total += this.globalFailureCount;\n\n\t\tcounts = this.tests.reduce( ( counts, test ) => {\n\t\t\tif ( test.valid ) {\n\t\t\t\tcounts[ test.getStatus() ]++;\n\t\t\t\tcounts.total++;\n\t\t\t}\n\n\t\t\treturn counts;\n\t\t}, counts );\n\n\t\treturn this.childSuites.reduce( ( counts, suite ) => {\n\t\t\treturn suite.getTestCounts( counts );\n\t\t}, counts );\n\t}\n\n\tgetStatus() {\n\t\tconst {\n\t\t\ttotal,\n\t\t\tfailed,\n\t\t\tskipped,\n\t\t\ttodo\n\t\t} = this.getTestCounts();\n\n\t\tif ( failed ) {\n\t\t\treturn \"failed\";\n\t\t} else {\n\t\t\tif ( skipped === total ) {\n\t\t\t\treturn \"skipped\";\n\t\t\t} else if ( todo === total ) {\n\t\t\t\treturn \"todo\";\n\t\t\t} else {\n\t\t\t\treturn \"passed\";\n\t\t\t}\n\t\t}\n\t}\n}\n","import Logger from \"./logger\";\n\nimport config from \"./core/config\";\n\nimport SuiteReport from \"./reports/suite\";\n\nimport { extend, objectType, generateHash } from \"./core/utilities\";\nimport { runSuite } from \"./core\";\n\nconst moduleStack = [];\n\nfunction isParentModuleInQueue() {\n\tconst modulesInQueue = config.modules\n\t\t.filter( module => !module.ignored )\n\t\t.map( module => module.moduleId );\n\treturn moduleStack.some( module => modulesInQueue.includes( module.moduleId ) );\n}\n\nfunction createModule( name, testEnvironment, modifiers ) {\n\tconst parentModule = moduleStack.length ? moduleStack.slice( -1 )[ 0 ] : null;\n\tconst moduleName = parentModule !== null ? [ parentModule.name, name ].join( \" > \" ) : name;\n\tconst parentSuite = parentModule ? parentModule.suiteReport : runSuite;\n\n\tconst skip = parentModule !== null && parentModule.skip || modifiers.skip;\n\tconst todo = parentModule !== null && parentModule.todo || modifiers.todo;\n\n\tconst env = {};\n\tif ( parentModule ) {\n\t\textend( env, parentModule.testEnvironment );\n\t}\n\textend( env, testEnvironment );\n\n\tconst module = {\n\t\tname: moduleName,\n\t\tparentModule: parentModule,\n\t\thooks: {\n\t\t\tbefore: [],\n\t\t\tbeforeEach: [],\n\t\t\tafterEach: [],\n\t\t\tafter: []\n\t\t},\n\t\ttestEnvironment: env,\n\t\ttests: [],\n\t\tmoduleId: generateHash( moduleName ),\n\t\ttestsRun: 0,\n\t\ttestsIgnored: 0,\n\t\tchildModules: [],\n\t\tsuiteReport: new SuiteReport( name, parentSuite ),\n\n\t\t// Pass along `skip` and `todo` properties from parent module, in case\n\t\t// there is one, to childs. And use own otherwise.\n\t\t// This property will be used to mark own tests and tests of child suites\n\t\t// as either `skipped` or `todo`.\n\t\tskip: skip,\n\t\ttodo: skip ? false : todo,\n\t\tignored: modifiers.ignored || false\n\t};\n\n\tif ( parentModule ) {\n\t\tparentModule.childModules.push( module );\n\t}\n\n\tconfig.modules.push( module );\n\treturn module;\n}\n\nfunction setHookFromEnvironment( hooks, environment, name ) {\n\tconst potentialHook = environment[ name ];\n\tif ( typeof potentialHook === \"function\" ) {\n\t\thooks[ name ].push( potentialHook );\n\t}\n\tdelete environment[ name ];\n}\n\nfunction makeSetHook( module, hookName ) {\n\treturn function setHook( callback ) {\n\t\tif ( config.currentModule !== module ) {\n\t\t\tLogger.warn( \"The `\" + hookName + \"` hook was called inside the wrong module (`\" +\n\t\t\t\tconfig.currentModule.name + \"`). \" +\n\t\t\t\t\"Instead, use hooks provided by the callback to the containing module (`\" +\n\t\t\t\tmodule.name + \"`). \" +\n\t\t\t\t\"This will become an error in QUnit 3.0.\" );\n\t\t}\n\t\tmodule.hooks[ hookName ].push( callback );\n\t};\n}\n\nfunction processModule( name, options, executeNow, modifiers = {} ) {\n\tif ( objectType( options ) === \"function\" ) {\n\t\texecuteNow = options;\n\t\toptions = undefined;\n\t}\n\n\tconst module = createModule( name, options, modifiers );\n\n\t// Transfer any initial hooks from the options object to the 'hooks' object\n\tconst testEnvironment = module.testEnvironment;\n\tconst hooks = module.hooks;\n\n\tsetHookFromEnvironment( hooks, testEnvironment, \"before\" );\n\tsetHookFromEnvironment( hooks, testEnvironment, \"beforeEach\" );\n\tsetHookFromEnvironment( hooks, testEnvironment, \"afterEach\" );\n\tsetHookFromEnvironment( hooks, testEnvironment, \"after\" );\n\n\tconst moduleFns = {\n\t\tbefore: makeSetHook( module, \"before\" ),\n\t\tbeforeEach: makeSetHook( module, \"beforeEach\" ),\n\t\tafterEach: makeSetHook( module, \"afterEach\" ),\n\t\tafter: makeSetHook( module, \"after\" )\n\t};\n\n\tconst prevModule = config.currentModule;\n\tconfig.currentModule = module;\n\n\tif ( objectType( executeNow ) === \"function\" ) {\n\t\tmoduleStack.push( module );\n\n\t\ttry {\n\t\t\tconst cbReturnValue = executeNow.call( module.testEnvironment, moduleFns );\n\t\t\tif ( cbReturnValue != null && objectType( cbReturnValue.then ) === \"function\" ) {\n\t\t\t\tLogger.warn( \"Returning a promise from a module callback is not supported. \" +\n\t\t\t\t\t\"Instead, use hooks for async behavior. \" +\n\t\t\t\t\t\"This will become an error in QUnit 3.0.\" );\n\t\t\t}\n\t\t} finally {\n\n\t\t\t// If the module closure threw an uncaught error during the load phase,\n\t\t\t// we let this bubble up to global error handlers. But, not until after\n\t\t\t// we teardown internal state to ensure correct module nesting.\n\t\t\t// Ref https://github.com/qunitjs/qunit/issues/1478.\n\t\t\tmoduleStack.pop();\n\t\t\tconfig.currentModule = module.parentModule || prevModule;\n\t\t}\n\t}\n}\n\nlet focused = false; // indicates that the \"only\" filter was used\n\nexport default function module( name, options, executeNow ) {\n\n\tconst ignored = focused && !isParentModuleInQueue();\n\n\tprocessModule( name, options, executeNow, { ignored } );\n}\n\nmodule.only = function( ...args ) {\n\tif ( !focused ) {\n\n\t\t// Upon the first module.only() call,\n\t\t// delete any and all previously registered modules and tests.\n\t\tconfig.modules.length = 0;\n\t\tconfig.queue.length = 0;\n\n\t\t// Ignore any tests declared after this block within the same\n\t\t// module parent. https://github.com/qunitjs/qunit/issues/1645\n\t\tconfig.currentModule.ignored = true;\n\t}\n\n\tfocused = true;\n\tprocessModule( ...args );\n};\n\nmodule.skip = function( name, options, executeNow ) {\n\tif ( focused ) {\n\t\treturn;\n\t}\n\n\tprocessModule( name, options, executeNow, { skip: true } );\n};\n\nmodule.todo = function( name, options, executeNow ) {\n\tif ( focused ) {\n\t\treturn;\n\t}\n\n\tprocessModule( name, options, executeNow, { todo: true } );\n};\n","import { objectType, inArray } from \"./core/utilities\";\n\nconst LISTENERS = Object.create( null );\nconst SUPPORTED_EVENTS = [\n\t\"error\",\n\t\"runStart\",\n\t\"suiteStart\",\n\t\"testStart\",\n\t\"assertion\",\n\t\"testEnd\",\n\t\"suiteEnd\",\n\t\"runEnd\"\n];\n\n/**\n * Emits an event with the specified data to all currently registered listeners.\n * Callbacks will fire in the order in which they are registered (FIFO). This\n * function is not exposed publicly; it is used by QUnit internals to emit\n * logging events.\n *\n * @private\n * @method emit\n * @param {string} eventName\n * @param {Object} data\n * @return {void}\n */\nexport function emit( eventName, data ) {\n\tif ( objectType( eventName ) !== \"string\" ) {\n\t\tthrow new TypeError( \"eventName must be a string when emitting an event\" );\n\t}\n\n\t// Clone the callbacks in case one of them registers a new callback\n\tconst originalCallbacks = LISTENERS[ eventName ];\n\tconst callbacks = originalCallbacks ? [ ...originalCallbacks ] : [];\n\n\tfor ( let i = 0; i < callbacks.length; i++ ) {\n\t\tcallbacks[ i ]( data );\n\t}\n}\n\n/**\n * Registers a callback as a listener to the specified event.\n *\n * @public\n * @method on\n * @param {string} eventName\n * @param {Function} callback\n * @return {void}\n */\nexport function on( eventName, callback ) {\n\tif ( objectType( eventName ) !== \"string\" ) {\n\t\tthrow new TypeError( \"eventName must be a string when registering a listener\" );\n\t} else if ( !inArray( eventName, SUPPORTED_EVENTS ) ) {\n\t\tconst events = SUPPORTED_EVENTS.join( \", \" );\n\t\tthrow new Error( `\"${eventName}\" is not a valid event; must be one of: ${events}.` );\n\t} else if ( objectType( callback ) !== \"function\" ) {\n\t\tthrow new TypeError( \"callback must be a function when registering a listener\" );\n\t}\n\n\tif ( !LISTENERS[ eventName ] ) {\n\t\tLISTENERS[ eventName ] = [];\n\t}\n\n\t// Don't register the same callback more than once\n\tif ( !inArray( callback, LISTENERS[ eventName ] ) ) {\n\t\tLISTENERS[ eventName ].push( callback );\n\t}\n}\n","/*\nhttps://github.com/taylorhakes/promise-polyfill/tree/8.2.0\n\nCopyright 2014 Taylor Hakes\nCopyright 2014 Forbes Lindesay\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n\n-------\n\nPatches for use in QUnit:\n\n- 2021-01-09: Export as module only, don't change global scope as QUnit must not\n  affect the host context (e.g. people may test their application intentionally\n  with different or no polyfills and we must not affect that).\n\n- 2021-01-10: Avoid unconditional reference to setTimeout, which isn't supported\n  on SpiderMonkey (mozjs 68). Done by re-arranging the code so that we return early\n  (it has native support for Promise), instead of building an unused polyfill.\n\n- 2021-01-10: Add 'globalThis' to globalNS implementation to support SpiderMonkey.\n\n*/\n\n(function () { 'use strict';\n\n/** @suppress {undefinedVars} */\nvar globalNS = (function() {\n  // the only reliable means to get the global object is\n  // `Function('return this')()`\n  // However, this causes CSP violations in Chrome apps.\n  if (typeof globalThis !== 'undefined') {\n    return globalThis;\n  }\n  if (typeof self !== 'undefined') {\n    return self;\n  }\n  if (typeof window !== 'undefined') {\n    return window;\n  }\n  if (typeof global !== 'undefined') {\n    return global;\n  }\n  throw new Error('unable to locate global object');\n})();\n\n// Expose the polyfill if Promise is undefined or set to a\n// non-function value. The latter can be due to a named HTMLElement\n// being exposed by browsers for legacy reasons.\n// https://github.com/taylorhakes/promise-polyfill/issues/114\nif (typeof globalNS['Promise'] === 'function') {\n\tmodule.exports = globalNS['Promise'];\n\treturn;\n}\n\n/**\n * @this {Promise}\n */\nfunction finallyConstructor(callback) {\n  var constructor = this.constructor;\n  return this.then(\n    function(value) {\n      // @ts-ignore\n      return constructor.resolve(callback()).then(function() {\n        return value;\n      });\n    },\n    function(reason) {\n      // @ts-ignore\n      return constructor.resolve(callback()).then(function() {\n        // @ts-ignore\n        return constructor.reject(reason);\n      });\n    }\n  );\n}\n\nfunction allSettled(arr) {\n  var P = this;\n  return new P(function(resolve, reject) {\n    if (!(arr && typeof arr.length !== 'undefined')) {\n      return reject(\n        new TypeError(\n          typeof arr +\n            ' ' +\n            arr +\n            ' is not iterable(cannot read property Symbol(Symbol.iterator))'\n        )\n      );\n    }\n    var args = Array.prototype.slice.call(arr);\n    if (args.length === 0) return resolve([]);\n    var remaining = args.length;\n\n    function res(i, val) {\n      if (val && (typeof val === 'object' || typeof val === 'function')) {\n        var then = val.then;\n        if (typeof then === 'function') {\n          then.call(\n            val,\n            function(val) {\n              res(i, val);\n            },\n            function(e) {\n              args[i] = { status: 'rejected', reason: e };\n              if (--remaining === 0) {\n                resolve(args);\n              }\n            }\n          );\n          return;\n        }\n      }\n      args[i] = { status: 'fulfilled', value: val };\n      if (--remaining === 0) {\n        resolve(args);\n      }\n    }\n\n    for (var i = 0; i < args.length; i++) {\n      res(i, args[i]);\n    }\n  });\n}\n\n// Store setTimeout reference so promise-polyfill will be unaffected by\n// other code modifying setTimeout (like sinon.useFakeTimers())\nvar setTimeoutFunc = setTimeout;\n\nfunction isArray(x) {\n  return Boolean(x && typeof x.length !== 'undefined');\n}\n\nfunction noop() {}\n\n// Polyfill for Function.prototype.bind\nfunction bind(fn, thisArg) {\n  return function() {\n    fn.apply(thisArg, arguments);\n  };\n}\n\n/**\n * @constructor\n * @param {Function} fn\n */\nfunction Promise(fn) {\n  if (!(this instanceof Promise))\n    throw new TypeError('Promises must be constructed via new');\n  if (typeof fn !== 'function') throw new TypeError('not a function');\n  /** @type {!number} */\n  this._state = 0;\n  /** @type {!boolean} */\n  this._handled = false;\n  /** @type {Promise|undefined} */\n  this._value = undefined;\n  /** @type {!Array<!Function>} */\n  this._deferreds = [];\n\n  doResolve(fn, this);\n}\n\nfunction handle(self, deferred) {\n  while (self._state === 3) {\n    self = self._value;\n  }\n  if (self._state === 0) {\n    self._deferreds.push(deferred);\n    return;\n  }\n  self._handled = true;\n  Promise._immediateFn(function() {\n    var cb = self._state === 1 ? deferred.onFulfilled : deferred.onRejected;\n    if (cb === null) {\n      (self._state === 1 ? resolve : reject)(deferred.promise, self._value);\n      return;\n    }\n    var ret;\n    try {\n      ret = cb(self._value);\n    } catch (e) {\n      reject(deferred.promise, e);\n      return;\n    }\n    resolve(deferred.promise, ret);\n  });\n}\n\nfunction resolve(self, newValue) {\n  try {\n    // Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure\n    if (newValue === self)\n      throw new TypeError('A promise cannot be resolved with itself.');\n    if (\n      newValue &&\n      (typeof newValue === 'object' || typeof newValue === 'function')\n    ) {\n      var then = newValue.then;\n      if (newValue instanceof Promise) {\n        self._state = 3;\n        self._value = newValue;\n        finale(self);\n        return;\n      } else if (typeof then === 'function') {\n        doResolve(bind(then, newValue), self);\n        return;\n      }\n    }\n    self._state = 1;\n    self._value = newValue;\n    finale(self);\n  } catch (e) {\n    reject(self, e);\n  }\n}\n\nfunction reject(self, newValue) {\n  self._state = 2;\n  self._value = newValue;\n  finale(self);\n}\n\nfunction finale(self) {\n  if (self._state === 2 && self._deferreds.length === 0) {\n    Promise._immediateFn(function() {\n      if (!self._handled) {\n        Promise._unhandledRejectionFn(self._value);\n      }\n    });\n  }\n\n  for (var i = 0, len = self._deferreds.length; i < len; i++) {\n    handle(self, self._deferreds[i]);\n  }\n  self._deferreds = null;\n}\n\n/**\n * @constructor\n */\nfunction Handler(onFulfilled, onRejected, promise) {\n  this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n  this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n  this.promise = promise;\n}\n\n/**\n * Take a potentially misbehaving resolver function and make sure\n * onFulfilled and onRejected are only called once.\n *\n * Makes no guarantees about asynchrony.\n */\nfunction doResolve(fn, self) {\n  var done = false;\n  try {\n    fn(\n      function(value) {\n        if (done) return;\n        done = true;\n        resolve(self, value);\n      },\n      function(reason) {\n        if (done) return;\n        done = true;\n        reject(self, reason);\n      }\n    );\n  } catch (ex) {\n    if (done) return;\n    done = true;\n    reject(self, ex);\n  }\n}\n\nPromise.prototype['catch'] = function(onRejected) {\n  return this.then(null, onRejected);\n};\n\nPromise.prototype.then = function(onFulfilled, onRejected) {\n  // @ts-ignore\n  var prom = new this.constructor(noop);\n\n  handle(this, new Handler(onFulfilled, onRejected, prom));\n  return prom;\n};\n\nPromise.prototype['finally'] = finallyConstructor;\n\nPromise.all = function(arr) {\n  return new Promise(function(resolve, reject) {\n    if (!isArray(arr)) {\n      return reject(new TypeError('Promise.all accepts an array'));\n    }\n\n    var args = Array.prototype.slice.call(arr);\n    if (args.length === 0) return resolve([]);\n    var remaining = args.length;\n\n    function res(i, val) {\n      try {\n        if (val && (typeof val === 'object' || typeof val === 'function')) {\n          var then = val.then;\n          if (typeof then === 'function') {\n            then.call(\n              val,\n              function(val) {\n                res(i, val);\n              },\n              reject\n            );\n            return;\n          }\n        }\n        args[i] = val;\n        if (--remaining === 0) {\n          resolve(args);\n        }\n      } catch (ex) {\n        reject(ex);\n      }\n    }\n\n    for (var i = 0; i < args.length; i++) {\n      res(i, args[i]);\n    }\n  });\n};\n\nPromise.allSettled = allSettled;\n\nPromise.resolve = function(value) {\n  if (value && typeof value === 'object' && value.constructor === Promise) {\n    return value;\n  }\n\n  return new Promise(function(resolve) {\n    resolve(value);\n  });\n};\n\nPromise.reject = function(value) {\n  return new Promise(function(resolve, reject) {\n    reject(value);\n  });\n};\n\nPromise.race = function(arr) {\n  return new Promise(function(resolve, reject) {\n    if (!isArray(arr)) {\n      return reject(new TypeError('Promise.race accepts an array'));\n    }\n\n    for (var i = 0, len = arr.length; i < len; i++) {\n      Promise.resolve(arr[i]).then(resolve, reject);\n    }\n  });\n};\n\n// Use polyfill for setImmediate for performance gains\nPromise._immediateFn =\n  // @ts-ignore\n  (typeof setImmediate === 'function' &&\n    function(fn) {\n      // @ts-ignore\n      setImmediate(fn);\n    }) ||\n  function(fn) {\n    setTimeoutFunc(fn, 0);\n  };\n\nPromise._unhandledRejectionFn = function _unhandledRejectionFn(err) {\n  if (typeof console !== 'undefined' && console) {\n    console.warn('Possible Unhandled Promise Rejection:', err); // eslint-disable-line no-console\n  }\n};\n\nmodule.exports = Promise;\n\n}());\n","import config from \"./config\";\nimport { objectType } from \"./utilities\";\nimport Promise from \"../promise\";\n\n// Register logging callbacks\nexport function registerLoggingCallbacks( obj ) {\n\tconst callbackNames = [ \"begin\", \"done\", \"log\", \"testStart\", \"testDone\",\n\t\t\"moduleStart\", \"moduleDone\" ];\n\n\tfunction registerLoggingCallback( key ) {\n\t\tconst loggingCallback = function( callback ) {\n\t\t\tif ( objectType( callback ) !== \"function\" ) {\n\t\t\t\tthrow new Error(\n\t\t\t\t\t\"QUnit logging methods require a callback function as their first parameters.\"\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tconfig.callbacks[ key ].push( callback );\n\t\t};\n\n\t\treturn loggingCallback;\n\t}\n\n\tfor ( let i = 0, l = callbackNames.length; i < l; i++ ) {\n\t\tconst key = callbackNames[ i ];\n\n\t\t// Initialize key collection of logging callback\n\t\tif ( objectType( config.callbacks[ key ] ) === \"undefined\" ) {\n\t\t\tconfig.callbacks[ key ] = [];\n\t\t}\n\n\t\tobj[ key ] = registerLoggingCallback( key );\n\t}\n}\n\nexport function runLoggingCallbacks( key, args ) {\n\tconst callbacks = config.callbacks[ key ];\n\n\t// Handling 'log' callbacks separately. Unlike the other callbacks,\n\t// the log callback is not controlled by the processing queue,\n\t// but rather used by asserts. Hence to promisfy the 'log' callback\n\t// would mean promisfying each step of a test\n\tif ( key === \"log\" ) {\n\t\tcallbacks.map( callback => callback( args ) );\n\t\treturn;\n\t}\n\n\t// ensure that each callback is executed serially\n\treturn callbacks.reduce( ( promiseChain, callback ) => {\n\t\treturn promiseChain.then( () => {\n\t\t\treturn Promise.resolve( callback( args ) );\n\t\t} );\n\t}, Promise.resolve( [] ) );\n}\n","// Doesn't support IE9, it will return undefined on these browsers\n// See also https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Error/Stack\nconst fileName = ( sourceFromStacktrace( 0 ) || \"\" )\n\t.replace( /(:\\d+)+\\)?/, \"\" )\n\t.replace( /.+\\//, \"\" );\n\nexport function extractStacktrace( e, offset ) {\n\toffset = offset === undefined ? 4 : offset;\n\n\tif ( e && e.stack ) {\n\t\tconst stack = e.stack.split( \"\\n\" );\n\t\tif ( /^error$/i.test( stack[ 0 ] ) ) {\n\t\t\tstack.shift();\n\t\t}\n\t\tif ( fileName ) {\n\t\t\tconst include = [];\n\t\t\tfor ( let i = offset; i < stack.length; i++ ) {\n\t\t\t\tif ( stack[ i ].indexOf( fileName ) !== -1 ) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tinclude.push( stack[ i ] );\n\t\t\t}\n\t\t\tif ( include.length ) {\n\t\t\t\treturn include.join( \"\\n\" );\n\t\t\t}\n\t\t}\n\t\treturn stack[ offset ];\n\t}\n}\n\nexport function sourceFromStacktrace( offset ) {\n\tlet error = new Error();\n\n\t// Support: Safari <=7 only, IE <=10 - 11 only\n\t// Not all browsers generate the `stack` property for `new Error()`, see also #636\n\tif ( !error.stack ) {\n\t\ttry {\n\t\t\tthrow error;\n\t\t} catch ( err ) {\n\t\t\terror = err;\n\t\t}\n\t}\n\n\treturn extractStacktrace( error, offset );\n}\n","import config from \"./config\";\nimport {\n\textend,\n\tgenerateHash,\n\tnow\n} from \"./utilities\";\nimport {\n\trunLoggingCallbacks\n} from \"./logging\";\n\nimport Promise from \"../promise\";\nimport {\n\ttest\n} from \"../test\";\nimport {\n\trunSuite\n} from \"../core\";\nimport {\n\temit\n} from \"../events\";\nimport {\n\tsetTimeout\n} from \"../globals\";\n\nlet priorityCount = 0;\nlet unitSampler;\n\n// This is a queue of functions that are tasks within a single test.\n// After tests are dequeued from config.queue they are expanded into\n// a set of tasks in this queue.\nconst taskQueue = [];\n\n/**\n * Advances the taskQueue to the next task. If the taskQueue is empty,\n * process the testQueue\n */\nfunction advance() {\n\tadvanceTaskQueue();\n\n\tif ( !taskQueue.length && !config.blocking && !config.current ) {\n\t\tadvanceTestQueue();\n\t}\n}\n\n/**\n * Advances the taskQueue with an increased depth\n */\nfunction advanceTaskQueue() {\n\tconst start = now();\n\tconfig.depth = ( config.depth || 0 ) + 1;\n\n\tprocessTaskQueue( start );\n\n\tconfig.depth--;\n}\n\n/**\n * Process the first task on the taskQueue as a promise.\n * Each task is a function added by Test#queue() in /src/test.js\n */\nfunction processTaskQueue( start ) {\n\tif ( taskQueue.length && !config.blocking ) {\n\t\tconst elapsedTime = now() - start;\n\n\t\tif ( !setTimeout || config.updateRate <= 0 || elapsedTime < config.updateRate ) {\n\t\t\tconst task = taskQueue.shift();\n\t\t\tPromise.resolve( task() ).then( function() {\n\t\t\t\tif ( !taskQueue.length ) {\n\t\t\t\t\tadvance();\n\t\t\t\t} else {\n\t\t\t\t\tprocessTaskQueue( start );\n\t\t\t\t}\n\t\t\t} );\n\t\t} else {\n\t\t\tsetTimeout( advance );\n\t\t}\n\t}\n}\n\n/**\n * Advance the testQueue to the next test to process. Call done() if testQueue completes.\n */\nfunction advanceTestQueue() {\n\tif ( !config.blocking && !config.queue.length && config.depth === 0 ) {\n\t\tdone();\n\t\treturn;\n\t}\n\n\tconst testTasks = config.queue.shift();\n\taddToTaskQueue( testTasks() );\n\n\tif ( priorityCount > 0 ) {\n\t\tpriorityCount--;\n\t}\n\n\tadvance();\n}\n\n/**\n * Enqueue the tasks for a test into the task queue.\n * @param {Array} tasksArray\n */\nfunction addToTaskQueue( tasksArray ) {\n\ttaskQueue.push( ...tasksArray );\n}\n\n/**\n * Return the number of tasks remaining in the task queue to be processed.\n * @return {number}\n */\nfunction taskQueueLength() {\n\treturn taskQueue.length;\n}\n\n/**\n * Adds a test to the TestQueue for execution.\n * @param {Function} testTasksFunc\n * @param {boolean} prioritize\n * @param {string} seed\n */\nfunction addToTestQueue( testTasksFunc, prioritize, seed ) {\n\tif ( prioritize ) {\n\t\tconfig.queue.splice( priorityCount++, 0, testTasksFunc );\n\t} else if ( seed ) {\n\t\tif ( !unitSampler ) {\n\t\t\tunitSampler = unitSamplerGenerator( seed );\n\t\t}\n\n\t\t// Insert into a random position after all prioritized items\n\t\tconst index = Math.floor( unitSampler() * ( config.queue.length - priorityCount + 1 ) );\n\t\tconfig.queue.splice( priorityCount + index, 0, testTasksFunc );\n\t} else {\n\t\tconfig.queue.push( testTasksFunc );\n\t}\n}\n\n/**\n * Creates a seeded \"sample\" generator which is used for randomizing tests.\n */\nfunction unitSamplerGenerator( seed ) {\n\n\t// 32-bit xorshift, requires only a nonzero seed\n\t// https://excamera.com/sphinx/article-xorshift.html\n\tlet sample = parseInt( generateHash( seed ), 16 ) || -1;\n\treturn function() {\n\t\tsample ^= sample << 13;\n\t\tsample ^= sample >>> 17;\n\t\tsample ^= sample << 5;\n\n\t\t// ECMAScript has no unsigned number type\n\t\tif ( sample < 0 ) {\n\t\t\tsample += 0x100000000;\n\t\t}\n\n\t\treturn sample / 0x100000000;\n\t};\n}\n\n/**\n * This function is called when the ProcessingQueue is done processing all\n * items. It handles emitting the final run events.\n */\nfunction done() {\n\n\t// We have reached the end of the processing queue and are about to emit the\n\t// \"runEnd\" event after which reporters typically stop listening and exit\n\t// the process. First, check if we need to emit one final test.\n\tif ( config.stats.testCount === 0 && config.failOnZeroTests === true ) {\n\t\tlet error;\n\t\tif ( config.filter && config.filter.length ) {\n\t\t\terror = new Error( `No tests matched the filter \"${config.filter}\".` );\n\t\t} else if ( config.module && config.module.length ) {\n\t\t\terror = new Error( `No tests matched the module \"${config.module}\".` );\n\t\t} else if ( config.moduleId && config.moduleId.length ) {\n\t\t\terror = new Error( `No tests matched the moduleId \"${config.moduleId}\".` );\n\t\t} else if ( config.testId && config.testId.length ) {\n\t\t\terror = new Error( `No tests matched the testId \"${config.testId}\".` );\n\t\t} else {\n\t\t\terror = new Error( \"No tests were run.\" );\n\t\t}\n\n\t\ttest( \"global failure\", extend( function( assert ) {\n\t\t\tassert.pushResult( {\n\t\t\t\tresult: false,\n\t\t\t\tmessage: error.message,\n\t\t\t\tsource: error.stack\n\t\t\t} );\n\t\t}, { validTest: true } ) );\n\n\t\t// We do need to call `advance()` in order to resume the processing queue.\n\t\t// Once this new test is finished processing, we'll reach `done` again, and\n\t\t// that time the above condition will evaluate to false.\n\t\tadvance();\n\t\treturn;\n\t}\n\n\tconst storage = config.storage;\n\n\tconst runtime = now() - config.started;\n\tconst passed = config.stats.all - config.stats.bad;\n\n\tProcessingQueue.finished = true;\n\n\temit( \"runEnd\", runSuite.end( true ) );\n\trunLoggingCallbacks( \"done\", {\n\t\tpassed,\n\t\tfailed: config.stats.bad,\n\t\ttotal: config.stats.all,\n\t\truntime\n\t} ).then( () => {\n\n\t\t// Clear own storage items if all tests passed\n\t\tif ( storage && config.stats.bad === 0 ) {\n\t\t\tfor ( let i = storage.length - 1; i >= 0; i-- ) {\n\t\t\t\tconst key = storage.key( i );\n\n\t\t\t\tif ( key.indexOf( \"qunit-test-\" ) === 0 ) {\n\t\t\t\t\tstorage.removeItem( key );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} );\n}\n\nconst ProcessingQueue = {\n\tfinished: false,\n\tadd: addToTestQueue,\n\tadvance,\n\ttaskCount: taskQueueLength\n};\n\nexport default ProcessingQueue;\n","import { extend, performance } from \"../core/utilities\";\n\nexport default class TestReport {\n\tconstructor( name, suite, options ) {\n\t\tthis.name = name;\n\t\tthis.suiteName = suite.name;\n\t\tthis.fullName = suite.fullName.concat( name );\n\t\tthis.runtime = 0;\n\t\tthis.assertions = [];\n\n\t\tthis.skipped = !!options.skip;\n\t\tthis.todo = !!options.todo;\n\n\t\tthis.valid = options.valid;\n\n\t\tthis._startTime = 0;\n\t\tthis._endTime = 0;\n\n\t\tsuite.pushTest( this );\n\t}\n\n\tstart( recordTime ) {\n\t\tif ( recordTime ) {\n\t\t\tthis._startTime = performance.now();\n\t\t\tperformance.mark( \"qunit_test_start\" );\n\t\t}\n\n\t\treturn {\n\t\t\tname: this.name,\n\t\t\tsuiteName: this.suiteName,\n\t\t\tfullName: this.fullName.slice()\n\t\t};\n\t}\n\n\tend( recordTime ) {\n\t\tif ( recordTime ) {\n\t\t\tthis._endTime = performance.now();\n\t\t\tif ( performance ) {\n\t\t\t\tperformance.mark( \"qunit_test_end\" );\n\n\t\t\t\tconst testName = this.fullName.join( \" – \" );\n\n\t\t\t\tperformance.measure(\n\t\t\t\t\t`QUnit Test: ${testName}`,\n\t\t\t\t\t\"qunit_test_start\",\n\t\t\t\t\t\"qunit_test_end\"\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\treturn extend( this.start(), {\n\t\t\truntime: this.getRuntime(),\n\t\t\tstatus: this.getStatus(),\n\t\t\terrors: this.getFailedAssertions(),\n\t\t\tassertions: this.getAssertions()\n\t\t} );\n\t}\n\n\tpushAssertion( assertion ) {\n\t\tthis.assertions.push( assertion );\n\t}\n\n\tgetRuntime() {\n\t\treturn this._endTime - this._startTime;\n\t}\n\n\tgetStatus() {\n\t\tif ( this.skipped ) {\n\t\t\treturn \"skipped\";\n\t\t}\n\n\t\tconst testPassed = this.getFailedAssertions().length > 0 ? this.todo : !this.todo;\n\n\t\tif ( !testPassed ) {\n\t\t\treturn \"failed\";\n\t\t} else if ( this.todo ) {\n\t\t\treturn \"todo\";\n\t\t} else {\n\t\t\treturn \"passed\";\n\t\t}\n\t}\n\n\tgetFailedAssertions() {\n\t\treturn this.assertions.filter( assertion => !assertion.passed );\n\t}\n\n\tgetAssertions() {\n\t\treturn this.assertions.slice();\n\t}\n\n\t// Remove actual and expected values from assertions. This is to prevent\n\t// leaking memory throughout a test suite.\n\tslimAssertions() {\n\t\tthis.assertions = this.assertions.map( assertion => {\n\t\t\tdelete assertion.actual;\n\t\t\tdelete assertion.expected;\n\t\t\treturn assertion;\n\t\t} );\n\t}\n}\n","import globalThis from \"../lib/global-this-polyfill\";\nimport { begin } from \"./core\";\nimport { setTimeout, clearTimeout } from \"./globals\";\nimport { emit } from \"./events\";\nimport Assert from \"./assert\";\nimport Logger from \"./logger\";\nimport Promise from \"./promise\";\n\nimport config from \"./core/config\";\nimport {\n\tdiff,\n\textend,\n\tgenerateHash,\n\thasOwn,\n\tinArray,\n\tnow,\n\tobjectType\n} from \"./core/utilities\";\nimport { runLoggingCallbacks } from \"./core/logging\";\nimport { extractStacktrace, sourceFromStacktrace } from \"./core/stacktrace\";\nimport ProcessingQueue from \"./core/processing-queue\";\n\nimport TestReport from \"./reports/test\";\n\nexport default function Test( settings ) {\n\tthis.expected = null;\n\tthis.assertions = [];\n\tthis.module = config.currentModule;\n\tthis.steps = [];\n\tthis.timeout = undefined;\n\tthis.data = undefined;\n\tthis.withData = false;\n\tthis.pauses = new Map();\n\tthis.nextPauseId = 1;\n\textend( this, settings );\n\n\t// If a module is skipped, all its tests and the tests of the child suites\n\t// should be treated as skipped even if they are defined as `only` or `todo`.\n\t// As for `todo` module, all its tests will be treated as `todo` except for\n\t// tests defined as `skip` which will be left intact.\n\t//\n\t// So, if a test is defined as `todo` and is inside a skipped module, we should\n\t// then treat that test as if was defined as `skip`.\n\tif ( this.module.skip ) {\n\t\tthis.skip = true;\n\t\tthis.todo = false;\n\n\t// Skipped tests should be left intact\n\t} else if ( this.module.todo && !this.skip ) {\n\t\tthis.todo = true;\n\t}\n\n\t// Queuing a late test after the run has ended is not allowed.\n\t// This was once supported for internal use by QUnit.onError().\n\t// Ref https://github.com/qunitjs/qunit/issues/1377\n\tif ( ProcessingQueue.finished ) {\n\n\t\t// Using this for anything other than onError(), such as testing in QUnit.done(),\n\t\t// is unstable and will likely result in the added tests being ignored by CI.\n\t\t// (Meaning the CI passes irregardless of the added tests).\n\t\t//\n\t\t// TODO: Make this an error in QUnit 3.0\n\t\t// throw new Error( \"Unexpected new test after the run already ended\" );\n\t\tLogger.warn( \"Unexpected test after runEnd. This is unstable and will fail in QUnit 3.0.\" );\n\t\treturn;\n\t}\n\tif ( !this.skip && typeof this.callback !== \"function\" ) {\n\t\tconst method = this.todo ? \"QUnit.todo\" : \"QUnit.test\";\n\t\tthrow new TypeError( `You must provide a callback to ${method}(\"${this.testName}\")` );\n\t}\n\n\t// No validation after this. Beyond this point, failures must be recorded as\n\t// a completed test with errors, instead of early bail out.\n\t// Otherwise, internals may be left in an inconsistent state.\n\t// Ref https://github.com/qunitjs/qunit/issues/1514\n\n\t++Test.count;\n\tthis.errorForStack = new Error();\n\tif ( this.callback && this.callback.validTest ) {\n\n\t\t// Omit the test-level trace for the internal \"No tests\" test failure,\n\t\t// There is already an assertion-level trace, and that's noisy enough\n\t\t// as it is.\n\t\tthis.errorForStack.stack = undefined;\n\t}\n\tthis.testReport = new TestReport( this.testName, this.module.suiteReport, {\n\t\ttodo: this.todo,\n\t\tskip: this.skip,\n\t\tvalid: this.valid()\n\t} );\n\n\t// Register unique strings\n\tfor ( let i = 0, l = this.module.tests; i < l.length; i++ ) {\n\t\tif ( this.module.tests[ i ].name === this.testName ) {\n\t\t\tthis.testName += \" \";\n\t\t}\n\t}\n\n\tthis.testId = generateHash( this.module.name, this.testName );\n\n\tthis.module.tests.push( {\n\t\tname: this.testName,\n\t\ttestId: this.testId,\n\t\tskip: !!this.skip\n\t} );\n\n\tif ( this.skip ) {\n\n\t\t// Skipped tests will fully ignore any sent callback\n\t\tthis.callback = function() {};\n\t\tthis.async = false;\n\t\tthis.expected = 0;\n\t} else {\n\t\tthis.assert = new Assert( this );\n\t}\n}\n\nTest.count = 0;\n\nfunction getNotStartedModules( startModule ) {\n\tlet module = startModule;\n\tconst modules = [];\n\n\twhile ( module && module.testsRun === 0 ) {\n\t\tmodules.push( module );\n\t\tmodule = module.parentModule;\n\t}\n\n\t// The above push modules from the child to the parent\n\t// return a reversed order with the top being the top most parent module\n\treturn modules.reverse();\n}\n\nTest.prototype = {\n\n\t// generating a stack trace can be expensive, so using a getter defers this until we need it\n\tget stack() {\n\t\treturn extractStacktrace( this.errorForStack, 2 );\n\t},\n\n\tbefore: function() {\n\t\tconst module = this.module;\n\t\tconst notStartedModules = getNotStartedModules( module );\n\n\t\t// ensure the callbacks are executed serially for each module\n\t\tconst callbackPromises = notStartedModules.reduce( ( promiseChain, startModule ) => {\n\t\t\treturn promiseChain.then( () => {\n\t\t\t\tstartModule.stats = { all: 0, bad: 0, started: now() };\n\t\t\t\temit( \"suiteStart\", startModule.suiteReport.start( true ) );\n\t\t\t\treturn runLoggingCallbacks( \"moduleStart\", {\n\t\t\t\t\tname: startModule.name,\n\t\t\t\t\ttests: startModule.tests\n\t\t\t\t} );\n\t\t\t} );\n\t\t}, Promise.resolve( [] ) );\n\n\t\treturn callbackPromises.then( () => {\n\t\t\tconfig.current = this;\n\n\t\t\tthis.testEnvironment = extend( {}, module.testEnvironment );\n\n\t\t\tthis.started = now();\n\t\t\temit( \"testStart\", this.testReport.start( true ) );\n\t\t\treturn runLoggingCallbacks( \"testStart\", {\n\t\t\t\tname: this.testName,\n\t\t\t\tmodule: module.name,\n\t\t\t\ttestId: this.testId,\n\t\t\t\tpreviousFailure: this.previousFailure\n\t\t\t} ).then( () => {\n\t\t\t\tif ( !config.pollution ) {\n\t\t\t\t\tsaveGlobal();\n\t\t\t\t}\n\t\t\t} );\n\t\t} );\n\t},\n\n\trun: function() {\n\n\t\tconfig.current = this;\n\n\t\tthis.callbackStarted = now();\n\n\t\tif ( config.notrycatch ) {\n\t\t\trunTest( this );\n\t\t\treturn;\n\t\t}\n\n\t\ttry {\n\t\t\trunTest( this );\n\t\t} catch ( e ) {\n\t\t\tthis.pushFailure( \"Died on test #\" + ( this.assertions.length + 1 ) + \" \" +\n\t\t\t\tthis.stack + \": \" + ( e.message || e ), extractStacktrace( e, 0 ) );\n\n\t\t\t// Else next test will carry the responsibility\n\t\t\tsaveGlobal();\n\n\t\t\t// Restart the tests if they're blocking\n\t\t\tif ( config.blocking ) {\n\t\t\t\tinternalRecover( this );\n\t\t\t}\n\t\t}\n\n\t\tfunction runTest( test ) {\n\t\t\tlet promise;\n\t\t\tif ( test.withData ) {\n\t\t\t\tpromise = test.callback.call( test.testEnvironment, test.assert, test.data );\n\t\t\t} else {\n\t\t\t\tpromise = test.callback.call( test.testEnvironment, test.assert );\n\t\t\t}\n\t\t\ttest.resolvePromise( promise );\n\n\t\t\t// If the test has an async \"pause\" on it, but the timeout is 0, then we push a\n\t\t\t// failure as the test should be synchronous.\n\t\t\tif ( test.timeout === 0 && test.pauses.size > 0 ) {\n\t\t\t\tpushFailure(\n\t\t\t\t\t\"Test did not finish synchronously even though assert.timeout( 0 ) was used.\",\n\t\t\t\t\tsourceFromStacktrace( 2 )\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t},\n\n\tafter: function() {\n\t\tcheckPollution();\n\t},\n\n\tqueueHook( hook, hookName, hookOwner ) {\n\t\tconst callHook = () => {\n\t\t\tconst promise = hook.call( this.testEnvironment, this.assert );\n\t\t\tthis.resolvePromise( promise, hookName );\n\t\t};\n\n\t\tconst runHook = () => {\n\t\t\tif ( hookName === \"before\" ) {\n\t\t\t\tif ( hookOwner.testsRun !== 0 ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tthis.preserveEnvironment = true;\n\t\t\t}\n\n\t\t\t// The 'after' hook should only execute when there are not tests left and\n\t\t\t// when the 'after' and 'finish' tasks are the only tasks left to process\n\t\t\tif ( hookName === \"after\" &&\n\t\t\t\t!lastTestWithinModuleExecuted( hookOwner ) &&\n\t\t\t\t( config.queue.length > 0 || ProcessingQueue.taskCount() > 2 ) ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconfig.current = this;\n\t\t\tif ( config.notrycatch ) {\n\t\t\t\tcallHook();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tcallHook();\n\t\t\t} catch ( error ) {\n\t\t\t\tthis.pushFailure( hookName + \" failed on \" + this.testName + \": \" +\n\t\t\t\t( error.message || error ), extractStacktrace( error, 0 ) );\n\t\t\t}\n\t\t};\n\n\t\treturn runHook;\n\t},\n\n\t// Currently only used for module level hooks, can be used to add global level ones\n\thooks( handler ) {\n\t\tconst hooks = [];\n\n\t\tfunction processHooks( test, module ) {\n\t\t\tif ( module.parentModule ) {\n\t\t\t\tprocessHooks( test, module.parentModule );\n\t\t\t}\n\n\t\t\tif ( module.hooks[ handler ].length ) {\n\t\t\t\tfor ( let i = 0; i < module.hooks[ handler ].length; i++ ) {\n\t\t\t\t\thooks.push( test.queueHook( module.hooks[ handler ][ i ], handler, module ) );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Hooks are ignored on skipped tests\n\t\tif ( !this.skip ) {\n\t\t\tprocessHooks( this, this.module );\n\t\t}\n\n\t\treturn hooks;\n\t},\n\n\tfinish: function() {\n\t\tconfig.current = this;\n\n\t\t// Release the test callback to ensure that anything referenced has been\n\t\t// released to be garbage collected.\n\t\tthis.callback = undefined;\n\n\t\tif ( this.steps.length ) {\n\t\t\tconst stepsList = this.steps.join( \", \" );\n\t\t\tthis.pushFailure( \"Expected assert.verifySteps() to be called before end of test \" +\n\t\t\t\t`after using assert.step(). Unverified steps: ${stepsList}`, this.stack );\n\t\t}\n\n\t\tif ( config.requireExpects && this.expected === null ) {\n\t\t\tthis.pushFailure( \"Expected number of assertions to be defined, but expect() was \" +\n\t\t\t\t\"not called.\", this.stack );\n\t\t} else if ( this.expected !== null && this.expected !== this.assertions.length ) {\n\t\t\tthis.pushFailure( \"Expected \" + this.expected + \" assertions, but \" +\n\t\t\t\tthis.assertions.length + \" were run\", this.stack );\n\t\t} else if ( this.expected === null && !this.assertions.length ) {\n\t\t\tthis.pushFailure( \"Expected at least one assertion, but none were run - call \" +\n\t\t\t\t\"expect(0) to accept zero assertions.\", this.stack );\n\t\t}\n\n\t\tconst module = this.module;\n\t\tconst moduleName = module.name;\n\t\tconst testName = this.testName;\n\t\tconst skipped = !!this.skip;\n\t\tconst todo = !!this.todo;\n\t\tlet bad = 0;\n\t\tconst storage = config.storage;\n\n\t\tthis.runtime = now() - this.started;\n\n\t\tconfig.stats.all += this.assertions.length;\n\t\tconfig.stats.testCount += 1;\n\t\tmodule.stats.all += this.assertions.length;\n\n\t\tfor ( let i = 0; i < this.assertions.length; i++ ) {\n\n\t\t\t// A failing assertion will counts toward the HTML Reporter's\n\t\t\t// \"X assertions, Y failed\" line even if it was inside a todo.\n\t\t\t// Inverting this would be similarly confusing since all but the last\n\t\t\t// passing assertion inside a todo test should be considered as good.\n\t\t\t// These stats don't decide the outcome of anything, so counting them\n\t\t\t// as failing seems the most intuitive.\n\t\t\tif ( !this.assertions[ i ].result ) {\n\t\t\t\tbad++;\n\t\t\t\tconfig.stats.bad++;\n\t\t\t\tmodule.stats.bad++;\n\t\t\t}\n\t\t}\n\n\t\tif ( skipped ) {\n\t\t\tincrementTestsIgnored( module );\n\t\t} else {\n\t\t\tincrementTestsRun( module );\n\t\t}\n\n\t\t// Store result when possible.\n\t\t// Note that this also marks todo tests as bad, thus they get hoisted,\n\t\t// and always run first on refresh.\n\t\tif ( storage ) {\n\t\t\tif ( bad ) {\n\t\t\t\tstorage.setItem( \"qunit-test-\" + moduleName + \"-\" + testName, bad );\n\t\t\t} else {\n\t\t\t\tstorage.removeItem( \"qunit-test-\" + moduleName + \"-\" + testName );\n\t\t\t}\n\t\t}\n\n\t\t// After emitting the js-reporters event we cleanup the assertion data to\n\t\t// avoid leaking it. It is not used by the legacy testDone callbacks.\n\t\temit( \"testEnd\", this.testReport.end( true ) );\n\t\tthis.testReport.slimAssertions();\n\t\tconst test = this;\n\n\t\treturn runLoggingCallbacks( \"testDone\", {\n\t\t\tname: testName,\n\t\t\tmodule: moduleName,\n\t\t\tskipped: skipped,\n\t\t\ttodo: todo,\n\t\t\tfailed: bad,\n\t\t\tpassed: this.assertions.length - bad,\n\t\t\ttotal: this.assertions.length,\n\t\t\truntime: skipped ? 0 : this.runtime,\n\n\t\t\t// HTML Reporter use\n\t\t\tassertions: this.assertions,\n\t\t\ttestId: this.testId,\n\n\t\t\t// Source of Test\n\t\t\t// generating stack trace is expensive, so using a getter will help defer this until we need it\n\t\t\tget source() { return test.stack; }\n\t\t} ).then( function() {\n\t\t\tif ( allTestsExecuted( module ) ) {\n\t\t\t\tconst completedModules = [ module ];\n\n\t\t\t\t// Check if the parent modules, iteratively, are done. If that the case,\n\t\t\t\t// we emit the `suiteEnd` event and trigger `moduleDone` callback.\n\t\t\t\tlet parent = module.parentModule;\n\t\t\t\twhile ( parent && allTestsExecuted( parent ) ) {\n\t\t\t\t\tcompletedModules.push( parent );\n\t\t\t\t\tparent = parent.parentModule;\n\t\t\t\t}\n\n\t\t\t\treturn completedModules.reduce( ( promiseChain, completedModule ) => {\n\t\t\t\t\treturn promiseChain.then( () => {\n\t\t\t\t\t\treturn logSuiteEnd( completedModule );\n\t\t\t\t\t} );\n\t\t\t\t}, Promise.resolve( [] ) );\n\t\t\t}\n\t\t} ).then( function() {\n\t\t\tconfig.current = undefined;\n\t\t} );\n\n\t\tfunction logSuiteEnd( module ) {\n\n\t\t\t// Reset `module.hooks` to ensure that anything referenced in these hooks\n\t\t\t// has been released to be garbage collected. Descendant modules that were\n\t\t\t// entirely skipped, e.g. due to filtering, will never have this method\n\t\t\t// called for them, but might have hooks with references pinning data in\n\t\t\t// memory (even if the hooks weren't actually executed), so we reset the\n\t\t\t// hooks on all descendant modules here as well. This is safe because we\n\t\t\t// will never call this as long as any descendant modules still have tests\n\t\t\t// to run. This also means that in multi-tiered nesting scenarios we might\n\t\t\t// reset the hooks multiple times on some modules, but that's harmless.\n\t\t\tconst modules = [ module ];\n\t\t\twhile ( modules.length ) {\n\t\t\t\tconst nextModule = modules.shift();\n\t\t\t\tnextModule.hooks = {};\n\t\t\t\tmodules.push( ...nextModule.childModules );\n\t\t\t}\n\n\t\t\temit( \"suiteEnd\", module.suiteReport.end( true ) );\n\t\t\treturn runLoggingCallbacks( \"moduleDone\", {\n\t\t\t\tname: module.name,\n\t\t\t\ttests: module.tests,\n\t\t\t\tfailed: module.stats.bad,\n\t\t\t\tpassed: module.stats.all - module.stats.bad,\n\t\t\t\ttotal: module.stats.all,\n\t\t\t\truntime: now() - module.stats.started\n\t\t\t} );\n\t\t}\n\t},\n\n\tpreserveTestEnvironment: function() {\n\t\tif ( this.preserveEnvironment ) {\n\t\t\tthis.module.testEnvironment = this.testEnvironment;\n\t\t\tthis.testEnvironment = extend( {}, this.module.testEnvironment );\n\t\t}\n\t},\n\n\tqueue() {\n\t\tconst test = this;\n\n\t\tif ( !this.valid() ) {\n\t\t\tincrementTestsIgnored( this.module );\n\t\t\treturn;\n\t\t}\n\n\t\tfunction runTest() {\n\t\t\treturn [\n\t\t\t\tfunction() {\n\t\t\t\t\treturn test.before();\n\t\t\t\t},\n\n\t\t\t\t...test.hooks( \"before\" ),\n\n\t\t\t\tfunction() {\n\t\t\t\t\ttest.preserveTestEnvironment();\n\t\t\t\t},\n\n\t\t\t\t...test.hooks( \"beforeEach\" ),\n\n\t\t\t\tfunction() {\n\t\t\t\t\ttest.run();\n\t\t\t\t},\n\n\t\t\t\t...test.hooks( \"afterEach\" ).reverse(),\n\t\t\t\t...test.hooks( \"after\" ).reverse(),\n\n\t\t\t\tfunction() {\n\t\t\t\t\ttest.after();\n\t\t\t\t},\n\n\t\t\t\tfunction() {\n\t\t\t\t\treturn test.finish();\n\t\t\t\t}\n\t\t\t];\n\t\t}\n\n\t\tconst previousFailCount = config.storage &&\n\t\t\t\t+config.storage.getItem( \"qunit-test-\" + this.module.name + \"-\" + this.testName );\n\n\t\t// Prioritize previously failed tests, detected from storage\n\t\tconst prioritize = config.reorder && !!previousFailCount;\n\n\t\tthis.previousFailure = !!previousFailCount;\n\n\t\tProcessingQueue.add( runTest, prioritize, config.seed );\n\t},\n\n\tpushResult: function( resultInfo ) {\n\t\tif ( this !== config.current ) {\n\t\t\tconst message = resultInfo && resultInfo.message || \"\";\n\t\t\tconst testName = this && this.testName || \"\";\n\t\t\tconst error = \"Assertion occurred after test finished.\\n\" +\n\t\t\t\t\"> Test: \" + testName + \"\\n\" +\n\t\t\t\t\"> Message: \" + message + \"\\n\";\n\n\t\t\tthrow new Error( error );\n\t\t}\n\n\t\t// Destructure of resultInfo = { result, actual, expected, message, negative }\n\t\tconst details = {\n\t\t\tmodule: this.module.name,\n\t\t\tname: this.testName,\n\t\t\tresult: resultInfo.result,\n\t\t\tmessage: resultInfo.message,\n\t\t\tactual: resultInfo.actual,\n\t\t\ttestId: this.testId,\n\t\t\tnegative: resultInfo.negative || false,\n\t\t\truntime: now() - this.started,\n\t\t\ttodo: !!this.todo\n\t\t};\n\n\t\tif ( hasOwn.call( resultInfo, \"expected\" ) ) {\n\t\t\tdetails.expected = resultInfo.expected;\n\t\t}\n\n\t\tif ( !resultInfo.result ) {\n\t\t\tconst source = resultInfo.source || sourceFromStacktrace();\n\n\t\t\tif ( source ) {\n\t\t\t\tdetails.source = source;\n\t\t\t}\n\t\t}\n\n\t\tthis.logAssertion( details );\n\n\t\tthis.assertions.push( {\n\t\t\tresult: !!resultInfo.result,\n\t\t\tmessage: resultInfo.message\n\t\t} );\n\t},\n\n\tpushFailure: function( message, source, actual ) {\n\t\tif ( !( this instanceof Test ) ) {\n\t\t\tthrow new Error( \"pushFailure() assertion outside test context, was \" +\n\t\t\t\tsourceFromStacktrace( 2 ) );\n\t\t}\n\n\t\tthis.pushResult( {\n\t\t\tresult: false,\n\t\t\tmessage: message || \"error\",\n\t\t\tactual: actual || null,\n\t\t\tsource\n\t\t} );\n\t},\n\n\t/**\n\t * Log assertion details using both the old QUnit.log interface and\n\t * QUnit.on( \"assertion\" ) interface.\n\t *\n\t * @private\n\t */\n\tlogAssertion( details ) {\n\t\trunLoggingCallbacks( \"log\", details );\n\n\t\tconst assertion = {\n\t\t\tpassed: details.result,\n\t\t\tactual: details.actual,\n\t\t\texpected: details.expected,\n\t\t\tmessage: details.message,\n\t\t\tstack: details.source,\n\t\t\ttodo: details.todo\n\t\t};\n\t\tthis.testReport.pushAssertion( assertion );\n\t\temit( \"assertion\", assertion );\n\t},\n\n\tresolvePromise: function( promise, phase ) {\n\t\tif ( promise != null ) {\n\t\t\tconst test = this;\n\t\t\tconst then = promise.then;\n\t\t\tif ( objectType( then ) === \"function\" ) {\n\t\t\t\tconst resume = internalStop( test );\n\t\t\t\tconst resolve = function() { resume(); };\n\t\t\t\tif ( config.notrycatch ) {\n\t\t\t\t\tthen.call( promise, resolve );\n\t\t\t\t} else {\n\t\t\t\t\tconst reject = function( error ) {\n\t\t\t\t\t\tconst message = \"Promise rejected \" +\n\t\t\t\t\t\t\t( !phase ? \"during\" : phase.replace( /Each$/, \"\" ) ) +\n\t\t\t\t\t\t\t\" \\\"\" + test.testName + \"\\\": \" +\n\t\t\t\t\t\t\t( ( error && error.message ) || error );\n\t\t\t\t\t\ttest.pushFailure( message, extractStacktrace( error, 0 ) );\n\n\t\t\t\t\t\t// Else next test will carry the responsibility\n\t\t\t\t\t\tsaveGlobal();\n\n\t\t\t\t\t\t// Unblock\n\t\t\t\t\t\tinternalRecover( test );\n\t\t\t\t\t};\n\t\t\t\t\tthen.call( promise, resolve, reject );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\tvalid: function() {\n\t\tconst filter = config.filter;\n\t\tconst regexFilter = /^(!?)\\/([\\w\\W]*)\\/(i?$)/.exec( filter );\n\t\tconst module = config.module && config.module.toLowerCase();\n\t\tconst fullName = ( this.module.name + \": \" + this.testName );\n\n\t\tfunction moduleChainNameMatch( testModule ) {\n\t\t\tconst testModuleName = testModule.name ? testModule.name.toLowerCase() : null;\n\t\t\tif ( testModuleName === module ) {\n\t\t\t\treturn true;\n\t\t\t} else if ( testModule.parentModule ) {\n\t\t\t\treturn moduleChainNameMatch( testModule.parentModule );\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfunction moduleChainIdMatch( testModule ) {\n\t\t\treturn inArray( testModule.moduleId, config.moduleId ) ||\n\t\t\t\ttestModule.parentModule && moduleChainIdMatch( testModule.parentModule );\n\t\t}\n\n\t\t// Internally-generated tests are always valid\n\t\tif ( this.callback && this.callback.validTest ) {\n\t\t\treturn true;\n\t\t}\n\n\t\tif ( config.moduleId && config.moduleId.length > 0 &&\n\t\t\t!moduleChainIdMatch( this.module ) ) {\n\n\t\t\treturn false;\n\t\t}\n\n\t\tif ( config.testId && config.testId.length > 0 &&\n\t\t\t!inArray( this.testId, config.testId ) ) {\n\n\t\t\treturn false;\n\t\t}\n\n\t\tif ( module && !moduleChainNameMatch( this.module ) ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif ( !filter ) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn regexFilter ?\n\t\t\tthis.regexFilter( !!regexFilter[ 1 ], regexFilter[ 2 ], regexFilter[ 3 ], fullName ) :\n\t\t\tthis.stringFilter( filter, fullName );\n\t},\n\n\tregexFilter: function( exclude, pattern, flags, fullName ) {\n\t\tconst regex = new RegExp( pattern, flags );\n\t\tconst match = regex.test( fullName );\n\n\t\treturn match !== exclude;\n\t},\n\n\tstringFilter: function( filter, fullName ) {\n\t\tfilter = filter.toLowerCase();\n\t\tfullName = fullName.toLowerCase();\n\n\t\tconst include = filter.charAt( 0 ) !== \"!\";\n\t\tif ( !include ) {\n\t\t\tfilter = filter.slice( 1 );\n\t\t}\n\n\t\t// If the filter matches, we need to honour include\n\t\tif ( fullName.indexOf( filter ) !== -1 ) {\n\t\t\treturn include;\n\t\t}\n\n\t\t// Otherwise, do the opposite\n\t\treturn !include;\n\t}\n};\n\nexport function pushFailure() {\n\tif ( !config.current ) {\n\t\tthrow new Error( \"pushFailure() assertion outside test context, in \" +\n\t\t\tsourceFromStacktrace( 2 ) );\n\t}\n\n\t// Gets current test obj\n\tconst currentTest = config.current;\n\n\treturn currentTest.pushFailure.apply( currentTest, arguments );\n}\n\nfunction saveGlobal() {\n\tconfig.pollution = [];\n\n\tif ( config.noglobals ) {\n\t\tfor ( const key in globalThis ) {\n\t\t\tif ( hasOwn.call( globalThis, key ) ) {\n\n\t\t\t\t// In Opera sometimes DOM element ids show up here, ignore them\n\t\t\t\tif ( /^qunit-test-output/.test( key ) ) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tconfig.pollution.push( key );\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction checkPollution() {\n\tconst old = config.pollution;\n\n\tsaveGlobal();\n\n\tconst newGlobals = diff( config.pollution, old );\n\tif ( newGlobals.length > 0 ) {\n\t\tpushFailure( \"Introduced global variable(s): \" + newGlobals.join( \", \" ) );\n\t}\n\n\tconst deletedGlobals = diff( old, config.pollution );\n\tif ( deletedGlobals.length > 0 ) {\n\t\tpushFailure( \"Deleted global variable(s): \" + deletedGlobals.join( \", \" ) );\n\t}\n}\n\nlet focused = false; // indicates that the \"only\" filter was used\n\nfunction addTest( settings ) {\n\tif ( focused || config.currentModule.ignored ) {\n\t\treturn;\n\t}\n\n\tconst newTest = new Test( settings );\n\n\tnewTest.queue();\n}\n\nfunction addOnlyTest( settings ) {\n\tif ( config.currentModule.ignored ) {\n\t\treturn;\n\t}\n\tif ( !focused ) {\n\t\tconfig.queue.length = 0;\n\t\tfocused = true;\n\t}\n\n\tconst newTest = new Test( settings );\n\n\tnewTest.queue();\n}\n\n// Will be exposed as QUnit.test\nexport function test( testName, callback ) {\n\taddTest( { testName, callback } );\n}\n\nfunction makeEachTestName( testName, argument ) {\n\treturn `${testName} [${argument}]`;\n}\n\nfunction runEach( data, eachFn ) {\n\tif ( Array.isArray( data ) ) {\n\t\tdata.forEach( eachFn );\n\t} else if ( typeof data === \"object\" && data !== null ) {\n\t\tconst keys = Object.keys( data );\n\t\tkeys.forEach( ( key ) => {\n\t\t\teachFn( data[ key ], key );\n\t\t} );\n\t} else {\n\t\tthrow new Error(\n\t\t\t`test.each() expects an array or object as input, but\nfound ${typeof data} instead.`\n\t\t);\n\t}\n}\n\nextend( test, {\n\ttodo: function( testName, callback ) {\n\t\taddTest( { testName, callback, todo: true } );\n\t},\n\tskip: function( testName ) {\n\t\taddTest( { testName, skip: true } );\n\t},\n\tonly: function( testName, callback ) {\n\t\taddOnlyTest( { testName, callback } );\n\t},\n\teach: function( testName, dataset, callback ) {\n\t\trunEach( dataset, ( data, testKey ) => {\n\t\t\taddTest( {\n\t\t\t\ttestName: makeEachTestName( testName, testKey ),\n\t\t\t\tcallback,\n\t\t\t\twithData: true,\n\t\t\t\tdata\n\t\t\t} );\n\t\t} );\n\t}\n} );\n\ntest.todo.each = function( testName, dataset, callback ) {\n\trunEach( dataset, ( data, testKey ) => {\n\t\taddTest( {\n\t\t\ttestName: makeEachTestName( testName, testKey ),\n\t\t\tcallback,\n\t\t\ttodo: true,\n\t\t\twithData: true,\n\t\t\tdata\n\t\t} );\n\t} );\n};\ntest.skip.each = function( testName, dataset ) {\n\trunEach( dataset, ( _, testKey ) => {\n\t\taddTest( {\n\t\t\ttestName: makeEachTestName( testName, testKey ),\n\t\t\tskip: true\n\t\t} );\n\t} );\n};\n\ntest.only.each = function( testName, dataset, callback ) {\n\trunEach( dataset, ( data, testKey ) => {\n\t\taddOnlyTest( {\n\t\t\ttestName: makeEachTestName( testName, testKey ),\n\t\t\tcallback,\n\t\t\twithData: true,\n\t\t\tdata\n\t\t} );\n\t} );\n};\n\n// Resets config.timeout with a new timeout duration.\nexport function resetTestTimeout( timeoutDuration ) {\n\tclearTimeout( config.timeout );\n\tconfig.timeout = setTimeout( config.timeoutHandler( timeoutDuration ), timeoutDuration );\n}\n\n// Create a new async pause and return a new function that can release the pause.\n//\n// This mechanism is internally used by:\n//\n// * explicit async pauses, created by calling `assert.async()`,\n// * implicit async pauses, created when `QUnit.test()` or module hook callbacks\n//   use async-await or otherwise return a Promise.\n//\n// Happy scenario:\n//\n// * Pause is created by calling internalStop().\n//\n//   Pause is released normally by invoking release() during the same test.\n//\n//   The release() callback lets internal processing resume.\n//\n// Failure scenarios:\n//\n// * The test fails due to an uncaught exception.\n//\n//   In this case, Test.run() will call internalRecover() which empties the clears all\n//   async pauses and sets the cancelled flag, which means we silently ignore any\n//   late calls to the resume() callback, as we will have moved on to a different\n//   test by then, and we don't want to cause an extra \"release during a different test\"\n//   errors that the developer isn't really responsible for. This can happen when a test\n//   correctly schedules a call to release(), but also causes an uncaught error. The\n//   uncaught error means we will no longer wait for the release (as it might not arrive).\n//\n// * Pause is never released, or called an insufficient number of times.\n//\n//   Our timeout handler will kill the pause and resume test processing, basically\n//   like internalRecover(), but for one pause instead of any/all.\n//\n//   Here, too, any late calls to resume() will be silently ignored to avoid\n//   extra errors. We tolerate this since the original test will have already been\n//   marked as failure.\n//\n//   TODO: QUnit 3 will enable timeouts by default <https://github.com/qunitjs/qunit/issues/1483>,\n//   but right now a test will hang indefinitely if async pauses are not released,\n//   unless QUnit.config.testTimeout or assert.timeout() is used.\n//\n// * Pause is spontaneously released during a different test,\n//   or when no test is currently running.\n//\n//   This is close to impossible because this error only happens if the original test\n//   succesfully finished first (since other failure scenarios kill pauses and ignore\n//   late calls). It can happen if a test ended exactly as expected, but has some\n//   external or shared state continuing to hold a reference to the release callback,\n//   and either the same test scheduled another call to it in the future, or a later test\n//   causes it to be called through some shared state.\n//\n// * Pause release() is called too often, during the same test.\n//\n//   This simply throws an error, after which uncaught error handling picks it up\n//   and processing resumes.\nexport function internalStop( test, requiredCalls = 1 ) {\n\tconfig.blocking = true;\n\n\tconst pauseId = test.nextPauseId++;\n\tconst pause = {\n\t\tcancelled: false,\n\t\tremaining: requiredCalls\n\t};\n\ttest.pauses.set( pauseId, pause );\n\n\tfunction release() {\n\t\tif ( pause.cancelled ) {\n\t\t\treturn;\n\t\t}\n\t\tif ( config.current === undefined ) {\n\t\t\tthrow new Error( \"Unexpected release of async pause after tests finished.\\n\" +\n\t\t\t\t`> Test: ${test.testName} [async #${pauseId}]` );\n\t\t}\n\t\tif ( config.current !== test ) {\n\t\t\tthrow new Error( \"Unexpected release of async pause during a different test.\\n\" +\n\t\t\t\t`> Test: ${test.testName} [async #${pauseId}]` );\n\t\t}\n\t\tif ( pause.remaining <= 0 ) {\n\t\t\tthrow new Error( \"Tried to release async pause that was already released.\\n\" +\n\t\t\t\t`> Test: ${test.testName} [async #${pauseId}]` );\n\t\t}\n\n\t\t// The `requiredCalls` parameter exists to support `assert.async(count)`\n\t\tpause.remaining--;\n\t\tif ( pause.remaining === 0 ) {\n\t\t\ttest.pauses.delete( pauseId );\n\t\t}\n\n\t\tinternalStart( test );\n\t}\n\n\t// Set a recovery timeout, if so configured.\n\tif ( setTimeout ) {\n\t\tlet timeoutDuration;\n\t\tif ( typeof test.timeout === \"number\" ) {\n\t\t\ttimeoutDuration = test.timeout;\n\t\t} else if ( typeof config.testTimeout === \"number\" ) {\n\t\t\ttimeoutDuration = config.testTimeout;\n\t\t}\n\n\t\tif ( typeof timeoutDuration === \"number\" && timeoutDuration > 0 ) {\n\t\t\tconfig.timeoutHandler = function( timeout ) {\n\t\t\t\treturn function() {\n\t\t\t\t\tconfig.timeout = null;\n\t\t\t\t\tpause.cancelled = true;\n\t\t\t\t\ttest.pauses.delete( pauseId );\n\n\t\t\t\t\ttest.pushFailure(\n\t\t\t\t\t\t`Test took longer than ${timeout}ms; test timed out.`,\n\t\t\t\t\t\tsourceFromStacktrace( 2 )\n\t\t\t\t\t);\n\t\t\t\t\tinternalStart( test );\n\t\t\t\t};\n\t\t\t};\n\t\t\tclearTimeout( config.timeout );\n\t\t\tconfig.timeout = setTimeout(\n\t\t\t\tconfig.timeoutHandler( timeoutDuration ),\n\t\t\t\ttimeoutDuration\n\t\t\t);\n\t\t}\n\t}\n\n\treturn release;\n}\n\n// Forcefully release all processing holds.\nfunction internalRecover( test ) {\n\ttest.pauses.forEach( pause => {\n\t\tpause.cancelled = true;\n\t} );\n\ttest.pauses.clear();\n\tinternalStart( test );\n}\n\n// Release a processing hold, scheduling a resumption attempt if no holds remain.\nfunction internalStart( test ) {\n\n\t// Ignore if other async pauses still exist.\n\tif ( test.pauses.size > 0 ) {\n\t\treturn;\n\t}\n\n\t// Add a slight delay to allow more assertions etc.\n\tif ( setTimeout ) {\n\t\tclearTimeout( config.timeout );\n\t\tconfig.timeout = setTimeout( function() {\n\t\t\tif ( test.pauses.size > 0 ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tclearTimeout( config.timeout );\n\t\t\tconfig.timeout = null;\n\n\t\t\tbegin();\n\t\t} );\n\t} else {\n\t\tbegin();\n\t}\n}\n\nfunction collectTests( module ) {\n\tconst tests = [].concat( module.tests );\n\tconst modules = [ ...module.childModules ];\n\n\t// Do a breadth-first traversal of the child modules\n\twhile ( modules.length ) {\n\t\tconst nextModule = modules.shift();\n\t\ttests.push.apply( tests, nextModule.tests );\n\t\tmodules.push( ...nextModule.childModules );\n\t}\n\n\treturn tests;\n}\n\n// This returns true after all executable and skippable tests\n// in a module have been proccessed, and informs 'suiteEnd'\n// and moduleDone().\nfunction allTestsExecuted( module ) {\n\treturn module.testsRun + module.testsIgnored === collectTests( module ).length;\n}\n\n// This returns true during the last executable non-skipped test\n// within a module, and informs the running of the 'after' hook\n// for a given module. This runs only once for a given module,\n// but must run during the last non-skipped test. When it runs,\n// there may be non-zero skipped tests left.\nfunction lastTestWithinModuleExecuted( module ) {\n\treturn module.testsRun === collectTests( module ).filter( test => !test.skip ).length - 1;\n}\n\nfunction incrementTestsRun( module ) {\n\tmodule.testsRun++;\n\twhile ( ( module = module.parentModule ) ) {\n\t\tmodule.testsRun++;\n\t}\n}\n\nfunction incrementTestsIgnored( module ) {\n\tmodule.testsIgnored++;\n\twhile ( ( module = module.parentModule ) ) {\n\t\tmodule.testsIgnored++;\n\t}\n}\n","import dump from \"./dump\";\nimport equiv from \"./equiv\";\nimport { internalStop, resetTestTimeout } from \"./test\";\nimport Logger from \"./logger\";\n\nimport config from \"./core/config\";\nimport { objectType, objectValues, objectValuesSubset, errorString } from \"./core/utilities\";\nimport { sourceFromStacktrace } from \"./core/stacktrace\";\nimport { clearTimeout } from \"./globals\";\n\nclass Assert {\n\tconstructor( testContext ) {\n\t\tthis.test = testContext;\n\t}\n\n\t// Assert helpers\n\n\ttimeout( duration ) {\n\t\tif ( typeof duration !== \"number\" ) {\n\t\t\tthrow new Error( \"You must pass a number as the duration to assert.timeout\" );\n\t\t}\n\n\t\tthis.test.timeout = duration;\n\n\t\t// If a timeout has been set, clear it and reset with the new duration\n\t\tif ( config.timeout ) {\n\t\t\tclearTimeout( config.timeout );\n\t\t\tconfig.timeout = null;\n\n\t\t\tif ( config.timeoutHandler && this.test.timeout > 0 ) {\n\t\t\t\tresetTestTimeout( this.test.timeout );\n\t\t\t}\n\t\t}\n\t}\n\n\t// Documents a \"step\", which is a string value, in a test as a passing assertion\n\tstep( message ) {\n\t\tlet assertionMessage = message;\n\t\tlet result = !!message;\n\n\t\tthis.test.steps.push( message );\n\n\t\tif ( objectType( message ) === \"undefined\" || message === \"\" ) {\n\t\t\tassertionMessage = \"You must provide a message to assert.step\";\n\t\t} else if ( objectType( message ) !== \"string\" ) {\n\t\t\tassertionMessage = \"You must provide a string value to assert.step\";\n\t\t\tresult = false;\n\t\t}\n\n\t\tthis.pushResult( {\n\t\t\tresult,\n\t\t\tmessage: assertionMessage\n\t\t} );\n\t}\n\n\t// Verifies the steps in a test match a given array of string values\n\tverifySteps( steps, message ) {\n\n\t\t// Since the steps array is just string values, we can clone with slice\n\t\tconst actualStepsClone = this.test.steps.slice();\n\t\tthis.deepEqual( actualStepsClone, steps, message );\n\t\tthis.test.steps.length = 0;\n\t}\n\n\t// Specify the number of expected assertions to guarantee that failed test\n\t// (no assertions are run at all) don't slip through.\n\texpect( asserts ) {\n\t\tif ( arguments.length === 1 ) {\n\t\t\tthis.test.expected = asserts;\n\t\t} else {\n\t\t\treturn this.test.expected;\n\t\t}\n\t}\n\n\t// Create a new async pause and return a new function that can release the pause.\n\tasync( count ) {\n\t\tconst requiredCalls = count === undefined ? 1 : count;\n\t\treturn internalStop( this.test, requiredCalls );\n\t}\n\n\t// Exports test.push() to the user API\n\t// Alias of pushResult.\n\tpush( result, actual, expected, message, negative ) {\n\t\tLogger.warn( \"assert.push is deprecated and will be removed in QUnit 3.0.\" +\n\t\t\t\" Please use assert.pushResult instead (https://api.qunitjs.com/assert/pushResult).\" );\n\n\t\tconst currentAssert = this instanceof Assert ? this : config.current.assert;\n\t\treturn currentAssert.pushResult( {\n\t\t\tresult,\n\t\t\tactual,\n\t\t\texpected,\n\t\t\tmessage,\n\t\t\tnegative\n\t\t} );\n\t}\n\n\tpushResult( resultInfo ) {\n\n\t\t// Destructure of resultInfo = { result, actual, expected, message, negative }\n\t\tlet assert = this;\n\t\tconst currentTest = ( assert instanceof Assert && assert.test ) || config.current;\n\n\t\t// Backwards compatibility fix.\n\t\t// Allows the direct use of global exported assertions and QUnit.assert.*\n\t\t// Although, it's use is not recommended as it can leak assertions\n\t\t// to other tests from async tests, because we only get a reference to the current test,\n\t\t// not exactly the test where assertion were intended to be called.\n\t\tif ( !currentTest ) {\n\t\t\tthrow new Error( \"assertion outside test context, in \" + sourceFromStacktrace( 2 ) );\n\t\t}\n\n\t\tif ( !( assert instanceof Assert ) ) {\n\t\t\tassert = currentTest.assert;\n\t\t}\n\n\t\treturn assert.test.pushResult( resultInfo );\n\t}\n\n\tok( result, message ) {\n\t\tif ( !message ) {\n\t\t\tmessage = result ?\n\t\t\t\t\"okay\" :\n\t\t\t\t`failed, expected argument to be truthy, was: ${dump.parse( result )}`;\n\t\t}\n\n\t\tthis.pushResult( {\n\t\t\tresult: !!result,\n\t\t\tactual: result,\n\t\t\texpected: true,\n\t\t\tmessage\n\t\t} );\n\t}\n\n\tnotOk( result, message ) {\n\t\tif ( !message ) {\n\t\t\tmessage = !result ?\n\t\t\t\t\"okay\" :\n\t\t\t\t`failed, expected argument to be falsy, was: ${dump.parse( result )}`;\n\t\t}\n\n\t\tthis.pushResult( {\n\t\t\tresult: !result,\n\t\t\tactual: result,\n\t\t\texpected: false,\n\t\t\tmessage\n\t\t} );\n\t}\n\n\ttrue( result, message ) {\n\t\tthis.pushResult( {\n\t\t\tresult: result === true,\n\t\t\tactual: result,\n\t\t\texpected: true,\n\t\t\tmessage\n\t\t} );\n\t}\n\n\tfalse( result, message ) {\n\t\tthis.pushResult( {\n\t\t\tresult: result === false,\n\t\t\tactual: result,\n\t\t\texpected: false,\n\t\t\tmessage\n\t\t} );\n\t}\n\n\tequal( actual, expected, message ) {\n\n\t\t// eslint-disable-next-line eqeqeq\n\t\tconst result = expected == actual;\n\n\t\tthis.pushResult( {\n\t\t\tresult,\n\t\t\tactual,\n\t\t\texpected,\n\t\t\tmessage\n\t\t} );\n\t}\n\n\tnotEqual( actual, expected, message ) {\n\n\t\t// eslint-disable-next-line eqeqeq\n\t\tconst result = expected != actual;\n\n\t\tthis.pushResult( {\n\t\t\tresult,\n\t\t\tactual,\n\t\t\texpected,\n\t\t\tmessage,\n\t\t\tnegative: true\n\t\t} );\n\t}\n\n\tpropEqual( actual, expected, message ) {\n\t\tactual = objectValues( actual );\n\t\texpected = objectValues( expected );\n\n\t\tthis.pushResult( {\n\t\t\tresult: equiv( actual, expected ),\n\t\t\tactual,\n\t\t\texpected,\n\t\t\tmessage\n\t\t} );\n\t}\n\n\tnotPropEqual( actual, expected, message ) {\n\t\tactual = objectValues( actual );\n\t\texpected = objectValues( expected );\n\n\t\tthis.pushResult( {\n\t\t\tresult: !equiv( actual, expected ),\n\t\t\tactual,\n\t\t\texpected,\n\t\t\tmessage,\n\t\t\tnegative: true\n\t\t} );\n\t}\n\n\tpropContains( actual, expected, message ) {\n\t\tactual = objectValuesSubset( actual, expected );\n\n\t\t// The expected parameter is usually a plain object, but clone it for\n\t\t// consistency with propEqual(), and to make it easy to explain that\n\t\t// inheritence is not considered (on either side), and to support\n\t\t// recursively checking subsets of nested objects.\n\t\texpected = objectValues( expected, false );\n\n\t\tthis.pushResult( {\n\t\t\tresult: equiv( actual, expected ),\n\t\t\tactual,\n\t\t\texpected,\n\t\t\tmessage\n\t\t} );\n\t}\n\n\tnotPropContains( actual, expected, message ) {\n\t\tactual = objectValuesSubset( actual, expected );\n\t\texpected = objectValues( expected );\n\n\t\tthis.pushResult( {\n\t\t\tresult: !equiv( actual, expected ),\n\t\t\tactual,\n\t\t\texpected,\n\t\t\tmessage,\n\t\t\tnegative: true\n\t\t} );\n\t}\n\n\tdeepEqual( actual, expected, message ) {\n\t\tthis.pushResult( {\n\t\t\tresult: equiv( actual, expected ),\n\t\t\tactual,\n\t\t\texpected,\n\t\t\tmessage\n\t\t} );\n\t}\n\n\tnotDeepEqual( actual, expected, message ) {\n\t\tthis.pushResult( {\n\t\t\tresult: !equiv( actual, expected ),\n\t\t\tactual,\n\t\t\texpected,\n\t\t\tmessage,\n\t\t\tnegative: true\n\t\t} );\n\t}\n\n\tstrictEqual( actual, expected, message ) {\n\t\tthis.pushResult( {\n\t\t\tresult: expected === actual,\n\t\t\tactual,\n\t\t\texpected,\n\t\t\tmessage\n\t\t} );\n\t}\n\n\tnotStrictEqual( actual, expected, message ) {\n\t\tthis.pushResult( {\n\t\t\tresult: expected !== actual,\n\t\t\tactual,\n\t\t\texpected,\n\t\t\tmessage,\n\t\t\tnegative: true\n\t\t} );\n\t}\n\n\t[ \"throws\" ]( block, expected, message ) {\n\n\t\t[ expected, message ] = validateExpectedExceptionArgs( expected, message, \"throws\" );\n\n\t\tconst currentTest = ( this instanceof Assert && this.test ) || config.current;\n\n\t\tif ( objectType( block ) !== \"function\" ) {\n\t\t\tconst message = \"The value provided to `assert.throws` in \" +\n\t\t\t\t\"\\\"\" + currentTest.testName + \"\\\" was not a function.\";\n\n\t\t\tcurrentTest.assert.pushResult( {\n\t\t\t\tresult: false,\n\t\t\t\tactual: block,\n\t\t\t\tmessage\n\t\t\t} );\n\n\t\t\treturn;\n\t\t}\n\n\t\tlet actual;\n\t\tlet result = false;\n\n\t\tcurrentTest.ignoreGlobalErrors = true;\n\t\ttry {\n\t\t\tblock.call( currentTest.testEnvironment );\n\t\t} catch ( e ) {\n\t\t\tactual = e;\n\t\t}\n\t\tcurrentTest.ignoreGlobalErrors = false;\n\n\t\tif ( actual ) {\n\t\t\t[ result, expected, message ] = validateException( actual, expected, message );\n\t\t}\n\n\t\tcurrentTest.assert.pushResult( {\n\t\t\tresult,\n\n\t\t\t// undefined if it didn't throw\n\t\t\tactual: actual && errorString( actual ),\n\t\t\texpected,\n\t\t\tmessage\n\t\t} );\n\t}\n\n\trejects( promise, expected, message ) {\n\n\t\t[ expected, message ] = validateExpectedExceptionArgs( expected, message, \"rejects\" );\n\n\t\tconst currentTest = ( this instanceof Assert && this.test ) || config.current;\n\n\t\tconst then = promise && promise.then;\n\t\tif ( objectType( then ) !== \"function\" ) {\n\t\t\tconst message = \"The value provided to `assert.rejects` in \" +\n\t\t\t\t\"\\\"\" + currentTest.testName + \"\\\" was not a promise.\";\n\n\t\t\tcurrentTest.assert.pushResult( {\n\t\t\t\tresult: false,\n\t\t\t\tmessage: message,\n\t\t\t\tactual: promise\n\t\t\t} );\n\n\t\t\treturn;\n\t\t}\n\n\t\tconst done = this.async();\n\n\t\treturn then.call(\n\t\t\tpromise,\n\t\t\tfunction handleFulfillment() {\n\t\t\t\tconst message = \"The promise returned by the `assert.rejects` callback in \" +\n\t\t\t\t\"\\\"\" + currentTest.testName + \"\\\" did not reject.\";\n\n\t\t\t\tcurrentTest.assert.pushResult( {\n\t\t\t\t\tresult: false,\n\t\t\t\t\tmessage: message,\n\t\t\t\t\tactual: promise\n\t\t\t\t} );\n\n\t\t\t\tdone();\n\t\t\t},\n\n\t\t\tfunction handleRejection( actual ) {\n\t\t\t\tlet result;\n\t\t\t\t[ result, expected, message ] = validateException( actual, expected, message );\n\n\t\t\t\tcurrentTest.assert.pushResult( {\n\t\t\t\t\tresult,\n\n\t\t\t\t\t// leave rejection value of undefined as-is\n\t\t\t\t\tactual: actual && errorString( actual ),\n\t\t\t\t\texpected,\n\t\t\t\t\tmessage\n\t\t\t\t} );\n\t\t\t\tdone();\n\t\t\t}\n\t\t);\n\t}\n}\n\nfunction validateExpectedExceptionArgs( expected, message, assertionMethod ) {\n\tconst expectedType = objectType( expected );\n\n\t// 'expected' is optional unless doing string comparison\n\tif ( expectedType === \"string\" ) {\n\t\tif ( message === undefined ) {\n\t\t\tmessage = expected;\n\t\t\texpected = undefined;\n\t\t\treturn [ expected, message ];\n\t\t} else {\n\t\t\tthrow new Error(\n\t\t\t\t\"assert.\" + assertionMethod +\n\t\t\t\t\" does not accept a string value for the expected argument.\\n\" +\n\t\t\t\t\"Use a non-string object value (e.g. RegExp or validator function) \" +\n\t\t\t\t\"instead if necessary.\"\n\t\t\t);\n\t\t}\n\t}\n\n\tconst valid =\n\t\t!expected || // TODO: be more explicit here\n\t\texpectedType === \"regexp\" ||\n\t\texpectedType === \"function\" ||\n\t\texpectedType === \"object\";\n\n\tif ( !valid ) {\n\t\tconst message =\n\t\t\t\"Invalid expected value type (\" + expectedType + \") \" +\n\t\t\t\"provided to assert.\" + assertionMethod + \".\";\n\t\tthrow new Error( message );\n\t}\n\n\treturn [ expected, message ];\n}\n\nfunction validateException( actual, expected, message ) {\n\tlet result = false;\n\tconst expectedType = objectType( expected );\n\n\t// These branches should be exhaustive, based on validation done in validateExpectedException\n\n\t// We don't want to validate\n\tif ( !expected ) {\n\t\tresult = true;\n\n\t// Expected is a regexp\n\t} else if ( expectedType === \"regexp\" ) {\n\t\tresult = expected.test( errorString( actual ) );\n\n\t\t// Log the string form of the regexp\n\t\texpected = String( expected );\n\n\t// Expected is a constructor, maybe an Error constructor.\n\t// Note the extra check on its prototype - this is an implicit\n\t// requirement of \"instanceof\", else it will throw a TypeError.\n\t} else if ( expectedType === \"function\" &&\n\t\texpected.prototype !== undefined && actual instanceof expected ) {\n\t\tresult = true;\n\n\t// Expected is an Error object\n\t} else if ( expectedType === \"object\" ) {\n\t\tresult = actual instanceof expected.constructor &&\n\t\t\tactual.name === expected.name &&\n\t\t\tactual.message === expected.message;\n\n\t\t// Log the string form of the Error object\n\t\texpected = errorString( expected );\n\n\t// Expected is a validation function which returns true if validation passed\n\t} else if ( expectedType === \"function\" ) {\n\n\t\t// protect against accidental semantics which could hard error in the test\n\t\ttry {\n\t\t\tresult = expected.call( {}, actual ) === true;\n\t\t\texpected = null;\n\t\t} catch ( e ) {\n\n\t\t\t// assign the \"expected\" to a nice error string to communicate the local failure to the user\n\t\t\texpected = errorString( e );\n\t\t}\n\t}\n\n\treturn [ result, expected, message ];\n}\n\n// Provide an alternative to assert.throws(), for environments that consider throws a reserved word\n// Known to us are: Closure Compiler, Narwhal\n// eslint-disable-next-line dot-notation\nAssert.prototype.raises = Assert.prototype[ \"throws\" ];\n\nexport default Assert;\n","/* global module, exports, define */\nimport { window, document, self } from \"./globals\";\nimport globalThis from \"../lib/global-this-polyfill\";\n\nexport default function exportQUnit( QUnit ) {\n\tlet exportedModule = false;\n\n\tif ( window && document ) {\n\n\t\t// QUnit may be defined when it is preconfigured but then only QUnit and QUnit.config may be defined.\n\t\tif ( window.QUnit && window.QUnit.version ) {\n\t\t\tthrow new Error( \"QUnit has already been defined.\" );\n\t\t}\n\n\t\twindow.QUnit = QUnit;\n\n\t\texportedModule = true;\n\t}\n\n\t// For Node.js\n\tif ( typeof module !== \"undefined\" && module && module.exports ) {\n\t\tmodule.exports = QUnit;\n\n\t\t// For consistency with CommonJS environments' exports\n\t\tmodule.exports.QUnit = QUnit;\n\n\t\texportedModule = true;\n\t}\n\n\t// For CommonJS with exports, but without module.exports, like Rhino\n\tif ( typeof exports !== \"undefined\" && exports ) {\n\t\texports.QUnit = QUnit;\n\n\t\texportedModule = true;\n\t}\n\n\t// For AMD\n\tif ( typeof define === \"function\" && define.amd ) {\n\t\tdefine( function() {\n\t\t\treturn QUnit;\n\t\t} );\n\t\tQUnit.config.autostart = false;\n\n\t\texportedModule = true;\n\t}\n\n\t// For Web/Service Workers\n\tif ( self && self.WorkerGlobalScope && self instanceof self.WorkerGlobalScope ) {\n\t\tself.QUnit = QUnit;\n\n\t\texportedModule = true;\n\t}\n\n\t// For other environments, such as SpiderMonkey (mozjs) and other\n\t// embedded JavaScript engines\n\tif ( !exportedModule ) {\n\t\tglobalThis.QUnit = QUnit;\n\t}\n}\n","import { console } from \"../globals\";\n\nexport default class ConsoleReporter {\n\tconstructor( runner, options = {} ) {\n\n\t\t// Cache references to console methods to ensure we can report failures\n\t\t// from tests tests that mock the console object itself.\n\t\t// https://github.com/qunitjs/qunit/issues/1340\n\t\t// Support IE 9: Function#bind is supported, but no console.log.bind().\n\t\tthis.log = options.log || Function.prototype.bind.call( console.log, console );\n\n\t\trunner.on( \"error\", this.onError.bind( this ) );\n\t\trunner.on( \"runStart\", this.onRunStart.bind( this ) );\n\t\trunner.on( \"testStart\", this.onTestStart.bind( this ) );\n\t\trunner.on( \"testEnd\", this.onTestEnd.bind( this ) );\n\t\trunner.on( \"runEnd\", this.onRunEnd.bind( this ) );\n\t}\n\n\tstatic init( runner, options ) {\n\t\treturn new ConsoleReporter( runner, options );\n\t}\n\n\tonError( error ) {\n\t\tthis.log( \"error\", error );\n\t}\n\n\tonRunStart( runStart ) {\n\t\tthis.log( \"runStart\", runStart );\n\t}\n\n\tonTestStart( test ) {\n\t\tthis.log( \"testStart\", test );\n\t}\n\n\tonTestEnd( test ) {\n\t\tthis.log( \"testEnd\", test );\n\t}\n\n\tonRunEnd( runEnd ) {\n\t\tthis.log( \"runEnd\", runEnd );\n\t}\n}\n","'use strict';\n\nlet FORCE_COLOR, NODE_DISABLE_COLORS, NO_COLOR, TERM, isTTY=true;\nif (typeof process !== 'undefined') {\n\t({ FORCE_COLOR, NODE_DISABLE_COLORS, NO_COLOR, TERM } = process.env);\n\tisTTY = process.stdout && process.stdout.isTTY;\n}\n\nconst $ = {\n\tenabled: !NODE_DISABLE_COLORS && NO_COLOR == null && TERM !== 'dumb' && (\n\t\tFORCE_COLOR != null && FORCE_COLOR !== '0' || isTTY\n\t),\n\n\t// modifiers\n\treset: init(0, 0),\n\tbold: init(1, 22),\n\tdim: init(2, 22),\n\titalic: init(3, 23),\n\tunderline: init(4, 24),\n\tinverse: init(7, 27),\n\thidden: init(8, 28),\n\tstrikethrough: init(9, 29),\n\n\t// colors\n\tblack: init(30, 39),\n\tred: init(31, 39),\n\tgreen: init(32, 39),\n\tyellow: init(33, 39),\n\tblue: init(34, 39),\n\tmagenta: init(35, 39),\n\tcyan: init(36, 39),\n\twhite: init(37, 39),\n\tgray: init(90, 39),\n\tgrey: init(90, 39),\n\n\t// background colors\n\tbgBlack: init(40, 49),\n\tbgRed: init(41, 49),\n\tbgGreen: init(42, 49),\n\tbgYellow: init(43, 49),\n\tbgBlue: init(44, 49),\n\tbgMagenta: init(45, 49),\n\tbgCyan: init(46, 49),\n\tbgWhite: init(47, 49)\n};\n\nfunction run(arr, str) {\n\tlet i=0, tmp, beg='', end='';\n\tfor (; i < arr.length; i++) {\n\t\ttmp = arr[i];\n\t\tbeg += tmp.open;\n\t\tend += tmp.close;\n\t\tif (!!~str.indexOf(tmp.close)) {\n\t\t\tstr = str.replace(tmp.rgx, tmp.close + tmp.open);\n\t\t}\n\t}\n\treturn beg + str + end;\n}\n\nfunction chain(has, keys) {\n\tlet ctx = { has, keys };\n\n\tctx.reset = $.reset.bind(ctx);\n\tctx.bold = $.bold.bind(ctx);\n\tctx.dim = $.dim.bind(ctx);\n\tctx.italic = $.italic.bind(ctx);\n\tctx.underline = $.underline.bind(ctx);\n\tctx.inverse = $.inverse.bind(ctx);\n\tctx.hidden = $.hidden.bind(ctx);\n\tctx.strikethrough = $.strikethrough.bind(ctx);\n\n\tctx.black = $.black.bind(ctx);\n\tctx.red = $.red.bind(ctx);\n\tctx.green = $.green.bind(ctx);\n\tctx.yellow = $.yellow.bind(ctx);\n\tctx.blue = $.blue.bind(ctx);\n\tctx.magenta = $.magenta.bind(ctx);\n\tctx.cyan = $.cyan.bind(ctx);\n\tctx.white = $.white.bind(ctx);\n\tctx.gray = $.gray.bind(ctx);\n\tctx.grey = $.grey.bind(ctx);\n\n\tctx.bgBlack = $.bgBlack.bind(ctx);\n\tctx.bgRed = $.bgRed.bind(ctx);\n\tctx.bgGreen = $.bgGreen.bind(ctx);\n\tctx.bgYellow = $.bgYellow.bind(ctx);\n\tctx.bgBlue = $.bgBlue.bind(ctx);\n\tctx.bgMagenta = $.bgMagenta.bind(ctx);\n\tctx.bgCyan = $.bgCyan.bind(ctx);\n\tctx.bgWhite = $.bgWhite.bind(ctx);\n\n\treturn ctx;\n}\n\nfunction init(open, close) {\n\tlet blk = {\n\t\topen: `\\x1b[${open}m`,\n\t\tclose: `\\x1b[${close}m`,\n\t\trgx: new RegExp(`\\\\x1b\\\\[${close}m`, 'g')\n\t};\n\treturn function (txt) {\n\t\tif (this !== void 0 && this.has !== void 0) {\n\t\t\t!!~this.has.indexOf(open) || (this.has.push(open),this.keys.push(blk));\n\t\t\treturn txt === void 0 ? this : $.enabled ? run(this.keys, txt+'') : txt+'';\n\t\t}\n\t\treturn txt === void 0 ? chain([open], [blk]) : $.enabled ? run([blk], txt+'') : txt+'';\n\t};\n}\n\nexport default $;\n","import kleur from \"kleur\";\nimport { errorString } from \"../core/utilities\";\nimport { console } from \"../globals\";\nconst hasOwn = Object.prototype.hasOwnProperty;\n\n/**\n * Format a given value into YAML.\n *\n * YAML is a superset of JSON that supports all the same data\n * types and syntax, and more. As such, it is always possible\n * to fallback to JSON.stringfify, but we generally avoid\n * that to make output easier to read for humans.\n *\n * Supported data types:\n *\n * - null\n * - boolean\n * - number\n * - string\n * - array\n * - object\n *\n * Anything else (including NaN, Infinity, and undefined)\n * must be described in strings, for display purposes.\n *\n * Note that quotes are optional in YAML strings if the\n * strings are \"simple\", and as such we generally prefer\n * that for improved readability. We output strings in\n * one of three ways:\n *\n * - bare unquoted text, for simple one-line strings.\n * - JSON (quoted text), for complex one-line strings.\n * - YAML Block, for complex multi-line strings.\n *\n * Objects with cyclical references will be stringifed as\n * \"[Circular]\" as they cannot otherwise be represented.\n */\nfunction prettyYamlValue( value, indent = 4 ) {\n\tif ( value === undefined ) {\n\n\t\t// Not supported in JSON/YAML, turn into string\n\t\t// and let the below output it as bare string.\n\t\tvalue = String( value );\n\t}\n\n\t// Support IE 9-11: Use isFinite instead of ES6 Number.isFinite\n\tif ( typeof value === \"number\" && !isFinite( value ) ) {\n\n\t\t// Turn NaN and Infinity into simple strings.\n\t\t// Paranoia: Don't return directly just in case there's\n\t\t// a way to add special characters here.\n\t\tvalue = String( value );\n\t}\n\n\tif ( typeof value === \"number\" ) {\n\n\t\t// Simple numbers\n\t\treturn JSON.stringify( value );\n\t}\n\n\tif ( typeof value === \"string\" ) {\n\n\t\t// If any of these match, then we can't output it\n\t\t// as bare unquoted text, because that would either\n\t\t// cause data loss or invalid YAML syntax.\n\t\t//\n\t\t// - Quotes, escapes, line breaks, or JSON-like stuff.\n\t\tconst rSpecialJson = /['\"\\\\/[{}\\]\\r\\n]/;\n\n\t\t// - Characters that are special at the start of a YAML value\n\t\tconst rSpecialYaml = /[-?:,[\\]{}#&*!|=>'\"%@`]/;\n\n\t\t// - Leading or trailing whitespace.\n\t\tconst rUntrimmed = /(^\\s|\\s$)/;\n\n\t\t// - Ambiguous as YAML number, e.g. '2', '-1.2', '.2', or '2_000'\n\t\tconst rNumerical = /^[\\d._-]+$/;\n\n\t\t// - Ambiguous as YAML bool.\n\t\t//   Use case-insensitive match, although technically only\n\t\t//   fully-lower, fully-upper, or uppercase-first would be ambiguous.\n\t\t//   e.g. true/True/TRUE, but not tRUe.\n\t\tconst rBool = /^(true|false|y|n|yes|no|on|off)$/i;\n\n\t\t// Is this a complex string?\n\t\tif (\n\t\t\tvalue === \"\" ||\n\t\t\t\trSpecialJson.test( value ) ||\n\t\t\t\trSpecialYaml.test( value[ 0 ] ) ||\n\t\t\t\trUntrimmed.test( value ) ||\n\t\t\t\trNumerical.test( value ) ||\n\t\t\t\trBool.test( value )\n\t\t) {\n\t\t\tif ( !/\\n/.test( value ) ) {\n\n\t\t\t\t// Complex one-line string, use JSON (quoted string)\n\t\t\t\treturn JSON.stringify( value );\n\t\t\t}\n\n\t\t\t// See also <https://yaml-multiline.info/>\n\t\t\t// Support IE 9-11: Avoid ES6 String#repeat\n\t\t\tconst prefix = ( new Array( indent + 1 ) ).join( \" \" );\n\n\t\t\tconst trailingLinebreakMatch = value.match( /\\n+$/ );\n\t\t\tconst trailingLinebreaks = trailingLinebreakMatch ?\n\t\t\t\ttrailingLinebreakMatch[ 0 ].length : 0;\n\n\t\t\tif ( trailingLinebreaks === 1 ) {\n\n\t\t\t\t// Use the most straight-forward \"Block\" string in YAML\n\t\t\t\t// without any \"Chomping\" indicators.\n\t\t\t\tconst lines = value\n\n\t\t\t\t// Ignore the last new line, since we'll get that one for free\n\t\t\t\t// with the straight-forward Block syntax.\n\t\t\t\t\t.replace( /\\n$/, \"\" )\n\t\t\t\t\t.split( \"\\n\" )\n\t\t\t\t\t.map( line => prefix + line );\n\t\t\t\treturn \"|\\n\" + lines.join( \"\\n\" );\n\t\t\t} else {\n\n\t\t\t\t// This has either no trailing new lines, or more than 1.\n\t\t\t\t// Use |+ so that YAML parsers will preserve it exactly.\n\t\t\t\tconst lines = value\n\t\t\t\t\t.split( \"\\n\" )\n\t\t\t\t\t.map( line => prefix + line );\n\t\t\t\treturn \"|+\\n\" + lines.join( \"\\n\" );\n\t\t\t}\n\t\t} else {\n\n\t\t\t// Simple string, use bare unquoted text\n\t\t\treturn value;\n\t\t}\n\t}\n\n\t// Handle null, boolean, array, and object\n\treturn JSON.stringify( decycledShallowClone( value ), null, 2 );\n}\n\n/**\n * Creates a shallow clone of an object where cycles have\n * been replaced with \"[Circular]\".\n */\nfunction decycledShallowClone( object, ancestors = [] ) {\n\tif ( ancestors.indexOf( object ) !== -1 ) {\n\t\treturn \"[Circular]\";\n\t}\n\n\tlet clone;\n\n\tconst type = Object.prototype.toString\n\t\t.call( object )\n\t\t.replace( /^\\[.+\\s(.+?)]$/, \"$1\" )\n\t\t.toLowerCase();\n\n\tswitch ( type ) {\n\tcase \"array\":\n\t\tancestors.push( object );\n\t\tclone = object.map( function( element ) {\n\t\t\treturn decycledShallowClone( element, ancestors );\n\t\t} );\n\t\tancestors.pop();\n\t\tbreak;\n\tcase \"object\":\n\t\tancestors.push( object );\n\t\tclone = {};\n\t\tObject.keys( object ).forEach( function( key ) {\n\t\t\tclone[ key ] = decycledShallowClone( object[ key ], ancestors );\n\t\t} );\n\t\tancestors.pop();\n\t\tbreak;\n\tdefault:\n\t\tclone = object;\n\t}\n\n\treturn clone;\n}\n\nexport default class TapReporter {\n\tconstructor( runner, options = {} ) {\n\n\t\t// Cache references to console methods to ensure we can report failures\n\t\t// from tests tests that mock the console object itself.\n\t\t// https://github.com/qunitjs/qunit/issues/1340\n\t\t// Support IE 9: Function#bind is supported, but no console.log.bind().\n\t\tthis.log = options.log || Function.prototype.bind.call( console.log, console );\n\n\t\tthis.testCount = 0;\n\t\tthis.ended = false;\n\t\tthis.bailed = false;\n\n\t\trunner.on( \"error\", this.onError.bind( this ) );\n\t\trunner.on( \"runStart\", this.onRunStart.bind( this ) );\n\t\trunner.on( \"testEnd\", this.onTestEnd.bind( this ) );\n\t\trunner.on( \"runEnd\", this.onRunEnd.bind( this ) );\n\t}\n\n\tstatic init( runner, options ) {\n\t\treturn new TapReporter( runner, options );\n\t}\n\n\tonRunStart( _runSuite ) {\n\t\tthis.log( \"TAP version 13\" );\n\t}\n\n\tonError( error ) {\n\t\tif ( this.bailed ) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.bailed = true;\n\n\t\t// Imitate onTestEnd\n\t\t// Skip this if we're past \"runEnd\" as it would look odd\n\t\tif ( !this.ended ) {\n\t\t\tthis.testCount = this.testCount + 1;\n\t\t\tthis.log( kleur.red( `not ok ${this.testCount} global failure` ) );\n\t\t\tthis.logError( error );\n\t\t}\n\n\t\tthis.log( \"Bail out! \" + errorString( error ).split( \"\\n\" )[ 0 ] );\n\t\tif ( this.ended ) {\n\t\t\tthis.logError( error );\n\t\t}\n\t}\n\n\tonTestEnd( test ) {\n\t\tthis.testCount = this.testCount + 1;\n\n\t\tif ( test.status === \"passed\" ) {\n\t\t\tthis.log( `ok ${this.testCount} ${test.fullName.join( \" > \" )}` );\n\t\t} else if ( test.status === \"skipped\" ) {\n\t\t\tthis.log(\n\t\t\t\tkleur.yellow( `ok ${this.testCount} # SKIP ${test.fullName.join( \" > \" )}` )\n\t\t\t);\n\t\t} else if ( test.status === \"todo\" ) {\n\t\t\tthis.log(\n\t\t\t\tkleur.cyan( `not ok ${this.testCount} # TODO ${test.fullName.join( \" > \" )}` )\n\t\t\t);\n\t\t\ttest.errors.forEach( ( error ) => this.logAssertion( error, \"todo\" ) );\n\t\t} else {\n\t\t\tthis.log(\n\t\t\t\tkleur.red( `not ok ${this.testCount} ${test.fullName.join( \" > \" )}` )\n\t\t\t);\n\t\t\ttest.errors.forEach( ( error ) => this.logAssertion( error ) );\n\t\t}\n\t}\n\n\tonRunEnd( runSuite ) {\n\t\tthis.ended = true;\n\n\t\tthis.log( `1..${runSuite.testCounts.total}` );\n\t\tthis.log( `# pass ${runSuite.testCounts.passed}` );\n\t\tthis.log( kleur.yellow( `# skip ${runSuite.testCounts.skipped}` ) );\n\t\tthis.log( kleur.cyan( `# todo ${runSuite.testCounts.todo}` ) );\n\t\tthis.log( kleur.red( `# fail ${runSuite.testCounts.failed}` ) );\n\t}\n\n\tlogAssertion( error, severity ) {\n\t\tlet out = \"  ---\";\n\t\tout += `\\n  message: ${prettyYamlValue( error.message || \"failed\" )}`;\n\t\tout += `\\n  severity: ${prettyYamlValue( severity || \"failed\" )}`;\n\n\t\tif ( hasOwn.call( error, \"actual\" ) ) {\n\t\t\tout += `\\n  actual  : ${prettyYamlValue( error.actual )}`;\n\t\t}\n\n\t\tif ( hasOwn.call( error, \"expected\" ) ) {\n\t\t\tout += `\\n  expected: ${prettyYamlValue( error.expected )}`;\n\t\t}\n\n\t\tif ( error.stack ) {\n\n\t\t\t// Since stacks aren't user generated, take a bit of liberty by\n\t\t\t// adding a trailing new line to allow a straight-forward YAML Blocks.\n\t\t\tout += `\\n  stack: ${prettyYamlValue( error.stack + \"\\n\" )}`;\n\t\t}\n\n\t\tout += \"\\n  ...\";\n\t\tthis.log( out );\n\t}\n\n\tlogError( error ) {\n\t\tlet out = \"  ---\";\n\t\tout += `\\n  message: ${prettyYamlValue( errorString( error ) )}`;\n\t\tout += `\\n  severity: ${prettyYamlValue( \"failed\" )}`;\n\t\tif ( error && error.stack ) {\n\t\t\tout += `\\n  stack: ${prettyYamlValue( error.stack + \"\\n\" )}`;\n\t\t}\n\t\tout += \"\\n  ...\";\n\t\tthis.log( out );\n\t}\n}\n","import ConsoleReporter from \"./reporters/ConsoleReporter.js\";\nimport TapReporter from \"./reporters/TapReporter.js\";\n\nexport default {\n\tconsole: ConsoleReporter,\n\ttap: TapReporter\n};\n","import config from \"./config\";\nimport { runSuite } from \"../core\";\nimport { sourceFromStacktrace } from \"./stacktrace\";\nimport { errorString } from \"./utilities\";\nimport { emit } from \"../events\";\n\n/**\n * Handle a global error that should result in a failed test run.\n *\n * Summary:\n *\n * - If we're strictly inside a test (or one if its module hooks), the exception\n *   becomes a failed assertion.\n *\n *   This has the important side-effect that uncaught exceptions (such as\n *   calling an undefined function) during a \"todo\" test do NOT result in\n *   a failed test run.\n *\n * - If we're anywhere outside a test (be it in early event callbacks, or\n *   internally between tests, or somewhere after \"runEnd\" if the process is\n *   still alive for some reason), then send an \"error\" event to the reporters.\n *\n * @since 2.17.0\n * @param {Error|any} error\n */\nexport default function onUncaughtException( error ) {\n\tif ( config.current ) {\n\t\tconfig.current.assert.pushResult( {\n\t\t\tresult: false,\n\t\t\tmessage: `global failure: ${errorString( error )}`,\n\n\t\t\t// We could let callers specify an offset to subtract a number of frames via\n\t\t\t// sourceFromStacktrace, in case they are a wrapper further away from the error\n\t\t\t// handler, and thus reduce some noise in the stack trace. However, we're not\n\t\t\t// doing this right now because it would almost never be used in practice given\n\t\t\t// the vast majority of error values will be Error objects, and thus have their\n\t\t\t// own stack trace already.\n\t\t\tsource: ( error && error.stack ) || sourceFromStacktrace( 2 )\n\t\t} );\n\t} else {\n\n\t\t// The \"error\" event was added in QUnit 2.17.\n\t\t// Increase \"bad assertion\" stats despite no longer pushing an assertion in this case.\n\t\t// This ensures \"runEnd\" and \"QUnit.done()\" handlers behave as expected, since the \"bad\"\n\t\t// count is typically how reporters decide on the boolean outcome of the test run.\n\t\trunSuite.globalFailureCount++;\n\t\tconfig.stats.bad++;\n\t\tconfig.stats.all++;\n\t\temit( \"error\", error );\n\t}\n}\n","import Logger from \"../logger\";\nimport config from \"./config\";\nimport onUncaughtException from \"./on-uncaught-exception\";\n\n/**\n * Handle a window.onerror error.\n *\n * If there is a current test that sets the internal `ignoreGlobalErrors` field\n * (such as during `assert.throws()`), then the error is ignored and native\n * error reporting is suppressed as well. This is because in browsers, an error\n * can sometimes end up in `window.onerror` instead of in the local try/catch.\n * This ignoring of errors does not apply to our general onUncaughtException\n * method, nor to our `unhandledRejection` handlers, as those are not meant\n * to receive an \"expected\" error during `assert.throws()`.\n *\n * @see <https://developer.mozilla.org/en-US/docs/Web/API/GlobalEventHandlers/onerror>\n * @deprecated since 2.17.0 Use QUnit.onUncaughtException instead.\n * @param {Object} details\n * @param {string} details.message\n * @param {string} details.fileName\n * @param {number} details.lineNumber\n * @param {string|undefined} [details.stacktrace]\n * @return {bool} True if native error reporting should be suppressed.\n */\nexport default function onWindowError( details ) {\n\tLogger.warn( \"QUnit.onError is deprecated and will be removed in QUnit 3.0.\" +\n\t\t\t\" Please use QUnit.onUncaughtException instead.\" );\n\n\tif ( config.current && config.current.ignoreGlobalErrors ) {\n\t\treturn true;\n\t}\n\n\tconst err = new Error( details.message );\n\terr.stack = details.stacktrace || details.fileName + \":\" + details.lineNumber;\n\tonUncaughtException( err );\n\n\treturn false;\n}\n","import { window, document, setTimeout } from \"./globals\";\n\nimport equiv from \"./equiv\";\nimport dump from \"./dump\";\nimport module from \"./module\";\nimport Assert from \"./assert\";\nimport Logger from \"./logger\";\nimport Test, { test, pushFailure } from \"./test\";\nimport exportQUnit from \"./export\";\nimport reporters from \"./reporters\";\n\nimport config from \"./core/config\";\nimport { extend, objectType, is, now } from \"./core/utilities\";\nimport { registerLoggingCallbacks, runLoggingCallbacks } from \"./core/logging\";\nimport { sourceFromStacktrace } from \"./core/stacktrace\";\nimport ProcessingQueue from \"./core/processing-queue\";\n\nimport SuiteReport from \"./reports/suite\";\n\nimport { on, emit } from \"./events\";\nimport onWindowError from \"./core/onerror\";\nimport onUncaughtException from \"./core/on-uncaught-exception\";\n\nconst QUnit = {};\nexport const runSuite = new SuiteReport();\n\n// The \"currentModule\" object would ideally be defined using the createModule()\n// function. Since it isn't, add the missing suiteReport property to it now that\n// we have loaded all source code required to do so.\n//\n// TODO: Consider defining currentModule in core.js or module.js in its entirely\n// rather than partly in config.js and partly here.\nconfig.currentModule.suiteReport = runSuite;\n\nlet globalStartCalled = false;\nlet runStarted = false;\n\n// Figure out if we're running the tests from a server or not\nQUnit.isLocal = ( window && window.location && window.location.protocol === \"file:\" );\n\n// Expose the current QUnit version\nQUnit.version = \"@VERSION\";\n\nextend( QUnit, {\n\tconfig,\n\n\tdump,\n\tequiv,\n\treporters,\n\tis,\n\tobjectType,\n\ton,\n\tonError: onWindowError,\n\tonUncaughtException,\n\tpushFailure,\n\n\tassert: Assert.prototype,\n\tmodule,\n\ttest,\n\n\t// alias other test flavors for easy access\n\ttodo: test.todo,\n\tskip: test.skip,\n\tonly: test.only,\n\n\tstart: function( count ) {\n\n\t\tif ( config.current ) {\n\t\t\tthrow new Error( \"QUnit.start cannot be called inside a test context.\" );\n\t\t}\n\n\t\tconst globalStartAlreadyCalled = globalStartCalled;\n\t\tglobalStartCalled = true;\n\n\t\tif ( runStarted ) {\n\t\t\tthrow new Error( \"Called start() while test already started running\" );\n\t\t}\n\t\tif ( globalStartAlreadyCalled || count > 1 ) {\n\t\t\tthrow new Error( \"Called start() outside of a test context too many times\" );\n\t\t}\n\t\tif ( config.autostart ) {\n\t\t\tthrow new Error( \"Called start() outside of a test context when \" +\n\t\t\t\t\"QUnit.config.autostart was true\" );\n\t\t}\n\n\t\tif ( !config.pageLoaded ) {\n\n\t\t\t// The page isn't completely loaded yet, so we set autostart and then\n\t\t\t// load if we're in Node or wait for the browser's load event.\n\t\t\tconfig.autostart = true;\n\n\t\t\t// Starts from Node even if .load was not previously called. We still return\n\t\t\t// early otherwise we'll wind up \"beginning\" twice.\n\t\t\tif ( !document ) {\n\t\t\t\tQUnit.load();\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\tscheduleBegin();\n\n\t},\n\n\tonUnhandledRejection: function( reason ) {\n\t\tLogger.warn( \"QUnit.onUnhandledRejection is deprecated and will be removed in QUnit 3.0.\" +\n\t\t\t\" Please use QUnit.onUncaughtException instead.\" );\n\t\tonUncaughtException( reason );\n\t},\n\n\textend: function( ...args ) {\n\t\tLogger.warn( \"QUnit.extend is deprecated and will be removed in QUnit 3.0.\" +\n\t\t\t\" Please use Object.assign instead.\" );\n\n\t\t// delegate to utility implementation, which does not warn and can be used elsewhere internally\n\t\treturn extend.apply( this, args );\n\t},\n\n\tload: function() {\n\t\tconfig.pageLoaded = true;\n\n\t\t// Initialize the configuration options\n\t\textend( config, {\n\t\t\tstarted: 0,\n\t\t\tupdateRate: 1000,\n\t\t\tautostart: true,\n\t\t\tfilter: \"\"\n\t\t}, true );\n\n\t\tif ( !runStarted ) {\n\t\t\tconfig.blocking = false;\n\n\t\t\tif ( config.autostart ) {\n\t\t\t\tscheduleBegin();\n\t\t\t}\n\t\t}\n\t},\n\n\tstack: function( offset ) {\n\t\toffset = ( offset || 0 ) + 2;\n\t\treturn sourceFromStacktrace( offset );\n\t}\n} );\n\nregisterLoggingCallbacks( QUnit );\n\nfunction scheduleBegin() {\n\n\trunStarted = true;\n\n\t// Add a slight delay to allow definition of more modules and tests.\n\tif ( setTimeout ) {\n\t\tsetTimeout( function() {\n\t\t\tbegin();\n\t\t} );\n\t} else {\n\t\tbegin();\n\t}\n}\n\nfunction unblockAndAdvanceQueue() {\n\tconfig.blocking = false;\n\tProcessingQueue.advance();\n}\n\nexport function begin() {\n\n\tif ( config.started ) {\n\t\tunblockAndAdvanceQueue();\n\t\treturn;\n\t}\n\n\t// The test run hasn't officially begun yet\n\t// Record the time of the test run's beginning\n\tconfig.started = now();\n\n\t// Delete the loose unnamed module if unused.\n\tif ( config.modules[ 0 ].name === \"\" && config.modules[ 0 ].tests.length === 0 ) {\n\t\tconfig.modules.shift();\n\t}\n\n\t// Avoid unnecessary information by not logging modules' test environments\n\tconst l = config.modules.length;\n\tconst modulesLog = [];\n\tfor ( let i = 0; i < l; i++ ) {\n\t\tmodulesLog.push( {\n\t\t\tname: config.modules[ i ].name,\n\t\t\ttests: config.modules[ i ].tests\n\t\t} );\n\t}\n\n\t// The test run is officially beginning now\n\temit( \"runStart\", runSuite.start( true ) );\n\trunLoggingCallbacks( \"begin\", {\n\t\ttotalTests: Test.count,\n\t\tmodules: modulesLog\n\t} ).then( unblockAndAdvanceQueue );\n}\n\nexportQUnit( QUnit );\n\nexport default QUnit;\n","import QUnit from \"../core\";\nimport { window, document } from \"../globals\";\n\n( function() {\n\n\tif ( !window || !document ) {\n\t\treturn;\n\t}\n\n\tvar config = QUnit.config,\n\t\thasOwn = Object.prototype.hasOwnProperty;\n\n\t// Stores fixture HTML for resetting later\n\tfunction storeFixture() {\n\n\t\t// Avoid overwriting user-defined values\n\t\tif ( hasOwn.call( config, \"fixture\" ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar fixture = document.getElementById( \"qunit-fixture\" );\n\t\tif ( fixture ) {\n\t\t\tconfig.fixture = fixture.cloneNode( true );\n\t\t}\n\t}\n\n\tQUnit.begin( storeFixture );\n\n\t// Resets the fixture DOM element if available.\n\tfunction resetFixture() {\n\t\tif ( config.fixture == null ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar fixture = document.getElementById( \"qunit-fixture\" );\n\t\tvar resetFixtureType = typeof config.fixture;\n\t\tif ( resetFixtureType === \"string\" ) {\n\n\t\t\t// support user defined values for `config.fixture`\n\t\t\tvar newFixture = document.createElement( \"div\" );\n\t\t\tnewFixture.setAttribute( \"id\", \"qunit-fixture\" );\n\t\t\tnewFixture.innerHTML = config.fixture;\n\t\t\tfixture.parentNode.replaceChild( newFixture, fixture );\n\t\t} else {\n\t\t\tconst clonedFixture = config.fixture.cloneNode( true );\n\t\t\tfixture.parentNode.replaceChild( clonedFixture, fixture );\n\t\t}\n\t}\n\n\tQUnit.testStart( resetFixture );\n\n} )();\n","import QUnit from \"../core\";\nimport { window } from \"../globals\";\n\n( function() {\n\n\t// Only interact with URLs via window.location\n\tvar location = typeof window !== \"undefined\" && window.location;\n\tif ( !location ) {\n\t\treturn;\n\t}\n\n\tvar urlParams = getUrlParams();\n\n\tQUnit.urlParams = urlParams;\n\n\t// Match module/test by inclusion in an array\n\tQUnit.config.moduleId = [].concat( urlParams.moduleId || [] );\n\tQUnit.config.testId = [].concat( urlParams.testId || [] );\n\n\t// Exact case-insensitive match of the module name\n\tQUnit.config.module = urlParams.module;\n\n\t// Regular expression or case-insenstive substring match against \"moduleName: testName\"\n\tQUnit.config.filter = urlParams.filter;\n\n\t// Test order randomization\n\tif ( urlParams.seed === true ) {\n\n\t\t// Generate a random seed if the option is specified without a value\n\t\tQUnit.config.seed = Math.random().toString( 36 ).slice( 2 );\n\t} else if ( urlParams.seed ) {\n\t\tQUnit.config.seed = urlParams.seed;\n\t}\n\n\t// Add URL-parameter-mapped config values with UI form rendering data\n\tQUnit.config.urlConfig.push(\n\t\t{\n\t\t\tid: \"hidepassed\",\n\t\t\tlabel: \"Hide passed tests\",\n\t\t\ttooltip: \"Only show tests and assertions that fail. Stored as query-strings.\"\n\t\t},\n\t\t{\n\t\t\tid: \"noglobals\",\n\t\t\tlabel: \"Check for Globals\",\n\t\t\ttooltip: \"Enabling this will test if any test introduces new properties on the \" +\n\t\t\t\"global object (`window` in Browsers). Stored as query-strings.\"\n\t\t},\n\t\t{\n\t\t\tid: \"notrycatch\",\n\t\t\tlabel: \"No try-catch\",\n\t\t\ttooltip: \"Enabling this will run tests outside of a try-catch block. Makes debugging \" +\n\t\t\t\"exceptions in IE reasonable. Stored as query-strings.\"\n\t\t}\n\t);\n\n\tQUnit.begin( function() {\n\t\tvar i, option,\n\t\t\turlConfig = QUnit.config.urlConfig;\n\n\t\tfor ( i = 0; i < urlConfig.length; i++ ) {\n\n\t\t\t// Options can be either strings or objects with nonempty \"id\" properties\n\t\t\toption = QUnit.config.urlConfig[ i ];\n\t\t\tif ( typeof option !== \"string\" ) {\n\t\t\t\toption = option.id;\n\t\t\t}\n\n\t\t\tif ( QUnit.config[ option ] === undefined ) {\n\t\t\t\tQUnit.config[ option ] = urlParams[ option ];\n\t\t\t}\n\t\t}\n\t} );\n\n\tfunction getUrlParams() {\n\t\tvar i, param, name, value;\n\t\tvar urlParams = Object.create( null );\n\t\tvar params = location.search.slice( 1 ).split( \"&\" );\n\t\tvar length = params.length;\n\n\t\tfor ( i = 0; i < length; i++ ) {\n\t\t\tif ( params[ i ] ) {\n\t\t\t\tparam = params[ i ].split( \"=\" );\n\t\t\t\tname = decodeQueryParam( param[ 0 ] );\n\n\t\t\t\t// Allow just a key to turn on a flag, e.g., test.html?noglobals\n\t\t\t\tvalue = param.length === 1 ||\n\t\t\t\tdecodeQueryParam( param.slice( 1 ).join( \"=\" ) );\n\t\t\t\tif ( name in urlParams ) {\n\t\t\t\t\turlParams[ name ] = [].concat( urlParams[ name ], value );\n\t\t\t\t} else {\n\t\t\t\t\turlParams[ name ] = value;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn urlParams;\n\t}\n\n\tfunction decodeQueryParam( param ) {\n\t\treturn decodeURIComponent( param.replace( /\\+/g, \"%20\" ) );\n\t}\n\n}() );\n","/*\r\nWHAT: SublimeText-like Fuzzy Search\r\n\r\nUSAGE:\r\n  fuzzysort.single('fs', 'Fuzzy Search') // {score: -16}\r\n  fuzzysort.single('test', 'test') // {score: 0}\r\n  fuzzysort.single('doesnt exist', 'target') // null\r\n\r\n  fuzzysort.go('mr', ['Monitor.cpp', 'MeshRenderer.cpp'])\r\n  // [{score: -18, target: \"MeshRenderer.cpp\"}, {score: -6009, target: \"Monitor.cpp\"}]\r\n\r\n  fuzzysort.highlight(fuzzysort.single('fs', 'Fuzzy Search'), '<b>', '</b>')\r\n  // <b>F</b>uzzy <b>S</b>earch\r\n*/\r\n\r\n// UMD (Universal Module Definition) for fuzzysort\r\n;(function(root, UMD) {\r\n  if(typeof define === 'function' && define.amd) define([], UMD)\r\n  else if(typeof module === 'object' && module.exports) module.exports = UMD()\r\n  else root.fuzzysort = UMD()\r\n})(this, function UMD() { function fuzzysortNew(instanceOptions) {\r\n\r\n  var fuzzysort = {\r\n\r\n    single: function(search, target, options) {\r\n      if(!search) return null\r\n      if(!isObj(search)) search = fuzzysort.getPreparedSearch(search)\r\n\r\n      if(!target) return null\r\n      if(!isObj(target)) target = fuzzysort.getPrepared(target)\r\n\r\n      var allowTypo = options && options.allowTypo!==undefined ? options.allowTypo\r\n        : instanceOptions && instanceOptions.allowTypo!==undefined ? instanceOptions.allowTypo\r\n        : true\r\n      var algorithm = allowTypo ? fuzzysort.algorithm : fuzzysort.algorithmNoTypo\r\n      return algorithm(search, target, search[0])\r\n      // var threshold = options && options.threshold || instanceOptions && instanceOptions.threshold || -9007199254740991\r\n      // var result = algorithm(search, target, search[0])\r\n      // if(result === null) return null\r\n      // if(result.score < threshold) return null\r\n      // return result\r\n    },\r\n\r\n    go: function(search, targets, options) {\r\n      if(!search) return noResults\r\n      search = fuzzysort.prepareSearch(search)\r\n      var searchLowerCode = search[0]\r\n\r\n      var threshold = options && options.threshold || instanceOptions && instanceOptions.threshold || -9007199254740991\r\n      var limit = options && options.limit || instanceOptions && instanceOptions.limit || 9007199254740991\r\n      var allowTypo = options && options.allowTypo!==undefined ? options.allowTypo\r\n        : instanceOptions && instanceOptions.allowTypo!==undefined ? instanceOptions.allowTypo\r\n        : true\r\n      var algorithm = allowTypo ? fuzzysort.algorithm : fuzzysort.algorithmNoTypo\r\n      var resultsLen = 0; var limitedCount = 0\r\n      var targetsLen = targets.length\r\n\r\n      // This code is copy/pasted 3 times for performance reasons [options.keys, options.key, no keys]\r\n\r\n      // options.keys\r\n      if(options && options.keys) {\r\n        var scoreFn = options.scoreFn || defaultScoreFn\r\n        var keys = options.keys\r\n        var keysLen = keys.length\r\n        for(var i = targetsLen - 1; i >= 0; --i) { var obj = targets[i]\r\n          var objResults = new Array(keysLen)\r\n          for (var keyI = keysLen - 1; keyI >= 0; --keyI) {\r\n            var key = keys[keyI]\r\n            var target = getValue(obj, key)\r\n            if(!target) { objResults[keyI] = null; continue }\r\n            if(!isObj(target)) target = fuzzysort.getPrepared(target)\r\n\r\n            objResults[keyI] = algorithm(search, target, searchLowerCode)\r\n          }\r\n          objResults.obj = obj // before scoreFn so scoreFn can use it\r\n          var score = scoreFn(objResults)\r\n          if(score === null) continue\r\n          if(score < threshold) continue\r\n          objResults.score = score\r\n          if(resultsLen < limit) { q.add(objResults); ++resultsLen }\r\n          else {\r\n            ++limitedCount\r\n            if(score > q.peek().score) q.replaceTop(objResults)\r\n          }\r\n        }\r\n\r\n      // options.key\r\n      } else if(options && options.key) {\r\n        var key = options.key\r\n        for(var i = targetsLen - 1; i >= 0; --i) { var obj = targets[i]\r\n          var target = getValue(obj, key)\r\n          if(!target) continue\r\n          if(!isObj(target)) target = fuzzysort.getPrepared(target)\r\n\r\n          var result = algorithm(search, target, searchLowerCode)\r\n          if(result === null) continue\r\n          if(result.score < threshold) continue\r\n\r\n          // have to clone result so duplicate targets from different obj can each reference the correct obj\r\n          result = {target:result.target, _targetLowerCodes:null, _nextBeginningIndexes:null, score:result.score, indexes:result.indexes, obj:obj} // hidden\r\n\r\n          if(resultsLen < limit) { q.add(result); ++resultsLen }\r\n          else {\r\n            ++limitedCount\r\n            if(result.score > q.peek().score) q.replaceTop(result)\r\n          }\r\n        }\r\n\r\n      // no keys\r\n      } else {\r\n        for(var i = targetsLen - 1; i >= 0; --i) { var target = targets[i]\r\n          if(!target) continue\r\n          if(!isObj(target)) target = fuzzysort.getPrepared(target)\r\n\r\n          var result = algorithm(search, target, searchLowerCode)\r\n          if(result === null) continue\r\n          if(result.score < threshold) continue\r\n          if(resultsLen < limit) { q.add(result); ++resultsLen }\r\n          else {\r\n            ++limitedCount\r\n            if(result.score > q.peek().score) q.replaceTop(result)\r\n          }\r\n        }\r\n      }\r\n\r\n      if(resultsLen === 0) return noResults\r\n      var results = new Array(resultsLen)\r\n      for(var i = resultsLen - 1; i >= 0; --i) results[i] = q.poll()\r\n      results.total = resultsLen + limitedCount\r\n      return results\r\n    },\r\n\r\n    goAsync: function(search, targets, options) {\r\n      var canceled = false\r\n      var p = new Promise(function(resolve, reject) {\r\n        if(!search) return resolve(noResults)\r\n        search = fuzzysort.prepareSearch(search)\r\n        var searchLowerCode = search[0]\r\n\r\n        var q = fastpriorityqueue()\r\n        var iCurrent = targets.length - 1\r\n        var threshold = options && options.threshold || instanceOptions && instanceOptions.threshold || -9007199254740991\r\n        var limit = options && options.limit || instanceOptions && instanceOptions.limit || 9007199254740991\r\n        var allowTypo = options && options.allowTypo!==undefined ? options.allowTypo\r\n          : instanceOptions && instanceOptions.allowTypo!==undefined ? instanceOptions.allowTypo\r\n          : true\r\n        var algorithm = allowTypo ? fuzzysort.algorithm : fuzzysort.algorithmNoTypo\r\n        var resultsLen = 0; var limitedCount = 0\r\n        function step() {\r\n          if(canceled) return reject('canceled')\r\n\r\n          var startMs = Date.now()\r\n\r\n          // This code is copy/pasted 3 times for performance reasons [options.keys, options.key, no keys]\r\n\r\n          // options.keys\r\n          if(options && options.keys) {\r\n            var scoreFn = options.scoreFn || defaultScoreFn\r\n            var keys = options.keys\r\n            var keysLen = keys.length\r\n            for(; iCurrent >= 0; --iCurrent) { var obj = targets[iCurrent]\r\n              var objResults = new Array(keysLen)\r\n              for (var keyI = keysLen - 1; keyI >= 0; --keyI) {\r\n                var key = keys[keyI]\r\n                var target = getValue(obj, key)\r\n                if(!target) { objResults[keyI] = null; continue }\r\n                if(!isObj(target)) target = fuzzysort.getPrepared(target)\r\n\r\n                objResults[keyI] = algorithm(search, target, searchLowerCode)\r\n              }\r\n              objResults.obj = obj // before scoreFn so scoreFn can use it\r\n              var score = scoreFn(objResults)\r\n              if(score === null) continue\r\n              if(score < threshold) continue\r\n              objResults.score = score\r\n              if(resultsLen < limit) { q.add(objResults); ++resultsLen }\r\n              else {\r\n                ++limitedCount\r\n                if(score > q.peek().score) q.replaceTop(objResults)\r\n              }\r\n\r\n              if(iCurrent%1000/*itemsPerCheck*/ === 0) {\r\n                if(Date.now() - startMs >= 10/*asyncInterval*/) {\r\n                  isNode?setImmediate(step):setTimeout(step)\r\n                  return\r\n                }\r\n              }\r\n            }\r\n\r\n          // options.key\r\n          } else if(options && options.key) {\r\n            var key = options.key\r\n            for(; iCurrent >= 0; --iCurrent) { var obj = targets[iCurrent]\r\n              var target = getValue(obj, key)\r\n              if(!target) continue\r\n              if(!isObj(target)) target = fuzzysort.getPrepared(target)\r\n\r\n              var result = algorithm(search, target, searchLowerCode)\r\n              if(result === null) continue\r\n              if(result.score < threshold) continue\r\n\r\n              // have to clone result so duplicate targets from different obj can each reference the correct obj\r\n              result = {target:result.target, _targetLowerCodes:null, _nextBeginningIndexes:null, score:result.score, indexes:result.indexes, obj:obj} // hidden\r\n\r\n              if(resultsLen < limit) { q.add(result); ++resultsLen }\r\n              else {\r\n                ++limitedCount\r\n                if(result.score > q.peek().score) q.replaceTop(result)\r\n              }\r\n\r\n              if(iCurrent%1000/*itemsPerCheck*/ === 0) {\r\n                if(Date.now() - startMs >= 10/*asyncInterval*/) {\r\n                  isNode?setImmediate(step):setTimeout(step)\r\n                  return\r\n                }\r\n              }\r\n            }\r\n\r\n          // no keys\r\n          } else {\r\n            for(; iCurrent >= 0; --iCurrent) { var target = targets[iCurrent]\r\n              if(!target) continue\r\n              if(!isObj(target)) target = fuzzysort.getPrepared(target)\r\n\r\n              var result = algorithm(search, target, searchLowerCode)\r\n              if(result === null) continue\r\n              if(result.score < threshold) continue\r\n              if(resultsLen < limit) { q.add(result); ++resultsLen }\r\n              else {\r\n                ++limitedCount\r\n                if(result.score > q.peek().score) q.replaceTop(result)\r\n              }\r\n\r\n              if(iCurrent%1000/*itemsPerCheck*/ === 0) {\r\n                if(Date.now() - startMs >= 10/*asyncInterval*/) {\r\n                  isNode?setImmediate(step):setTimeout(step)\r\n                  return\r\n                }\r\n              }\r\n            }\r\n          }\r\n\r\n          if(resultsLen === 0) return resolve(noResults)\r\n          var results = new Array(resultsLen)\r\n          for(var i = resultsLen - 1; i >= 0; --i) results[i] = q.poll()\r\n          results.total = resultsLen + limitedCount\r\n          resolve(results)\r\n        }\r\n\r\n        isNode?setImmediate(step):step()\r\n      })\r\n      p.cancel = function() { canceled = true }\r\n      return p\r\n    },\r\n\r\n    highlight: function(result, hOpen, hClose) {\r\n      if(result === null) return null\r\n      if(hOpen === undefined) hOpen = '<b>'\r\n      if(hClose === undefined) hClose = '</b>'\r\n      var highlighted = ''\r\n      var matchesIndex = 0\r\n      var opened = false\r\n      var target = result.target\r\n      var targetLen = target.length\r\n      var matchesBest = result.indexes\r\n      for(var i = 0; i < targetLen; ++i) { var char = target[i]\r\n        if(matchesBest[matchesIndex] === i) {\r\n          ++matchesIndex\r\n          if(!opened) { opened = true\r\n            highlighted += hOpen\r\n          }\r\n\r\n          if(matchesIndex === matchesBest.length) {\r\n            highlighted += char + hClose + target.substr(i+1)\r\n            break\r\n          }\r\n        } else {\r\n          if(opened) { opened = false\r\n            highlighted += hClose\r\n          }\r\n        }\r\n        highlighted += char\r\n      }\r\n\r\n      return highlighted\r\n    },\r\n\r\n    prepare: function(target) {\r\n      if(!target) return\r\n      return {target:target, _targetLowerCodes:fuzzysort.prepareLowerCodes(target), _nextBeginningIndexes:null, score:null, indexes:null, obj:null} // hidden\r\n    },\r\n    prepareSlow: function(target) {\r\n      if(!target) return\r\n      return {target:target, _targetLowerCodes:fuzzysort.prepareLowerCodes(target), _nextBeginningIndexes:fuzzysort.prepareNextBeginningIndexes(target), score:null, indexes:null, obj:null} // hidden\r\n    },\r\n    prepareSearch: function(search) {\r\n      if(!search) return\r\n      return fuzzysort.prepareLowerCodes(search)\r\n    },\r\n\r\n\r\n\r\n    // Below this point is only internal code\r\n    // Below this point is only internal code\r\n    // Below this point is only internal code\r\n    // Below this point is only internal code\r\n\r\n\r\n\r\n    getPrepared: function(target) {\r\n      if(target.length > 999) return fuzzysort.prepare(target) // don't cache huge targets\r\n      var targetPrepared = preparedCache.get(target)\r\n      if(targetPrepared !== undefined) return targetPrepared\r\n      targetPrepared = fuzzysort.prepare(target)\r\n      preparedCache.set(target, targetPrepared)\r\n      return targetPrepared\r\n    },\r\n    getPreparedSearch: function(search) {\r\n      if(search.length > 999) return fuzzysort.prepareSearch(search) // don't cache huge searches\r\n      var searchPrepared = preparedSearchCache.get(search)\r\n      if(searchPrepared !== undefined) return searchPrepared\r\n      searchPrepared = fuzzysort.prepareSearch(search)\r\n      preparedSearchCache.set(search, searchPrepared)\r\n      return searchPrepared\r\n    },\r\n\r\n    algorithm: function(searchLowerCodes, prepared, searchLowerCode) {\r\n      var targetLowerCodes = prepared._targetLowerCodes\r\n      var searchLen = searchLowerCodes.length\r\n      var targetLen = targetLowerCodes.length\r\n      var searchI = 0 // where we at\r\n      var targetI = 0 // where you at\r\n      var typoSimpleI = 0\r\n      var matchesSimpleLen = 0\r\n\r\n      // very basic fuzzy match; to remove non-matching targets ASAP!\r\n      // walk through target. find sequential matches.\r\n      // if all chars aren't found then exit\r\n      for(;;) {\r\n        var isMatch = searchLowerCode === targetLowerCodes[targetI]\r\n        if(isMatch) {\r\n          matchesSimple[matchesSimpleLen++] = targetI\r\n          ++searchI; if(searchI === searchLen) break\r\n          searchLowerCode = searchLowerCodes[typoSimpleI===0?searchI : (typoSimpleI===searchI?searchI+1 : (typoSimpleI===searchI-1?searchI-1 : searchI))]\r\n        }\r\n\r\n        ++targetI; if(targetI >= targetLen) { // Failed to find searchI\r\n          // Check for typo or exit\r\n          // we go as far as possible before trying to transpose\r\n          // then we transpose backwards until we reach the beginning\r\n          for(;;) {\r\n            if(searchI <= 1) return null // not allowed to transpose first char\r\n            if(typoSimpleI === 0) { // we haven't tried to transpose yet\r\n              --searchI\r\n              var searchLowerCodeNew = searchLowerCodes[searchI]\r\n              if(searchLowerCode === searchLowerCodeNew) continue // doesn't make sense to transpose a repeat char\r\n              typoSimpleI = searchI\r\n            } else {\r\n              if(typoSimpleI === 1) return null // reached the end of the line for transposing\r\n              --typoSimpleI\r\n              searchI = typoSimpleI\r\n              searchLowerCode = searchLowerCodes[searchI + 1]\r\n              var searchLowerCodeNew = searchLowerCodes[searchI]\r\n              if(searchLowerCode === searchLowerCodeNew) continue // doesn't make sense to transpose a repeat char\r\n            }\r\n            matchesSimpleLen = searchI\r\n            targetI = matchesSimple[matchesSimpleLen - 1] + 1\r\n            break\r\n          }\r\n        }\r\n      }\r\n\r\n      var searchI = 0\r\n      var typoStrictI = 0\r\n      var successStrict = false\r\n      var matchesStrictLen = 0\r\n\r\n      var nextBeginningIndexes = prepared._nextBeginningIndexes\r\n      if(nextBeginningIndexes === null) nextBeginningIndexes = prepared._nextBeginningIndexes = fuzzysort.prepareNextBeginningIndexes(prepared.target)\r\n      var firstPossibleI = targetI = matchesSimple[0]===0 ? 0 : nextBeginningIndexes[matchesSimple[0]-1]\r\n\r\n      // Our target string successfully matched all characters in sequence!\r\n      // Let's try a more advanced and strict test to improve the score\r\n      // only count it as a match if it's consecutive or a beginning character!\r\n      if(targetI !== targetLen) for(;;) {\r\n        if(targetI >= targetLen) {\r\n          // We failed to find a good spot for this search char, go back to the previous search char and force it forward\r\n          if(searchI <= 0) { // We failed to push chars forward for a better match\r\n            // transpose, starting from the beginning\r\n            ++typoStrictI; if(typoStrictI > searchLen-2) break\r\n            if(searchLowerCodes[typoStrictI] === searchLowerCodes[typoStrictI+1]) continue // doesn't make sense to transpose a repeat char\r\n            targetI = firstPossibleI\r\n            continue\r\n          }\r\n\r\n          --searchI\r\n          var lastMatch = matchesStrict[--matchesStrictLen]\r\n          targetI = nextBeginningIndexes[lastMatch]\r\n\r\n        } else {\r\n          var isMatch = searchLowerCodes[typoStrictI===0?searchI : (typoStrictI===searchI?searchI+1 : (typoStrictI===searchI-1?searchI-1 : searchI))] === targetLowerCodes[targetI]\r\n          if(isMatch) {\r\n            matchesStrict[matchesStrictLen++] = targetI\r\n            ++searchI; if(searchI === searchLen) { successStrict = true; break }\r\n            ++targetI\r\n          } else {\r\n            targetI = nextBeginningIndexes[targetI]\r\n          }\r\n        }\r\n      }\r\n\r\n      { // tally up the score & keep track of matches for highlighting later\r\n        if(successStrict) { var matchesBest = matchesStrict; var matchesBestLen = matchesStrictLen }\r\n        else { var matchesBest = matchesSimple; var matchesBestLen = matchesSimpleLen }\r\n        var score = 0\r\n        var lastTargetI = -1\r\n        for(var i = 0; i < searchLen; ++i) { var targetI = matchesBest[i]\r\n          // score only goes down if they're not consecutive\r\n          if(lastTargetI !== targetI - 1) score -= targetI\r\n          lastTargetI = targetI\r\n        }\r\n        if(!successStrict) {\r\n          score *= 1000\r\n          if(typoSimpleI !== 0) score += -20/*typoPenalty*/\r\n        } else {\r\n          if(typoStrictI !== 0) score += -20/*typoPenalty*/\r\n        }\r\n        score -= targetLen - searchLen\r\n        prepared.score = score\r\n        prepared.indexes = new Array(matchesBestLen); for(var i = matchesBestLen - 1; i >= 0; --i) prepared.indexes[i] = matchesBest[i]\r\n\r\n        return prepared\r\n      }\r\n    },\r\n\r\n    algorithmNoTypo: function(searchLowerCodes, prepared, searchLowerCode) {\r\n      var targetLowerCodes = prepared._targetLowerCodes\r\n      var searchLen = searchLowerCodes.length\r\n      var targetLen = targetLowerCodes.length\r\n      var searchI = 0 // where we at\r\n      var targetI = 0 // where you at\r\n      var matchesSimpleLen = 0\r\n\r\n      // very basic fuzzy match; to remove non-matching targets ASAP!\r\n      // walk through target. find sequential matches.\r\n      // if all chars aren't found then exit\r\n      for(;;) {\r\n        var isMatch = searchLowerCode === targetLowerCodes[targetI]\r\n        if(isMatch) {\r\n          matchesSimple[matchesSimpleLen++] = targetI\r\n          ++searchI; if(searchI === searchLen) break\r\n          searchLowerCode = searchLowerCodes[searchI]\r\n        }\r\n        ++targetI; if(targetI >= targetLen) return null // Failed to find searchI\r\n      }\r\n\r\n      var searchI = 0\r\n      var successStrict = false\r\n      var matchesStrictLen = 0\r\n\r\n      var nextBeginningIndexes = prepared._nextBeginningIndexes\r\n      if(nextBeginningIndexes === null) nextBeginningIndexes = prepared._nextBeginningIndexes = fuzzysort.prepareNextBeginningIndexes(prepared.target)\r\n      var firstPossibleI = targetI = matchesSimple[0]===0 ? 0 : nextBeginningIndexes[matchesSimple[0]-1]\r\n\r\n      // Our target string successfully matched all characters in sequence!\r\n      // Let's try a more advanced and strict test to improve the score\r\n      // only count it as a match if it's consecutive or a beginning character!\r\n      if(targetI !== targetLen) for(;;) {\r\n        if(targetI >= targetLen) {\r\n          // We failed to find a good spot for this search char, go back to the previous search char and force it forward\r\n          if(searchI <= 0) break // We failed to push chars forward for a better match\r\n\r\n          --searchI\r\n          var lastMatch = matchesStrict[--matchesStrictLen]\r\n          targetI = nextBeginningIndexes[lastMatch]\r\n\r\n        } else {\r\n          var isMatch = searchLowerCodes[searchI] === targetLowerCodes[targetI]\r\n          if(isMatch) {\r\n            matchesStrict[matchesStrictLen++] = targetI\r\n            ++searchI; if(searchI === searchLen) { successStrict = true; break }\r\n            ++targetI\r\n          } else {\r\n            targetI = nextBeginningIndexes[targetI]\r\n          }\r\n        }\r\n      }\r\n\r\n      { // tally up the score & keep track of matches for highlighting later\r\n        if(successStrict) { var matchesBest = matchesStrict; var matchesBestLen = matchesStrictLen }\r\n        else { var matchesBest = matchesSimple; var matchesBestLen = matchesSimpleLen }\r\n        var score = 0\r\n        var lastTargetI = -1\r\n        for(var i = 0; i < searchLen; ++i) { var targetI = matchesBest[i]\r\n          // score only goes down if they're not consecutive\r\n          if(lastTargetI !== targetI - 1) score -= targetI\r\n          lastTargetI = targetI\r\n        }\r\n        if(!successStrict) score *= 1000\r\n        score -= targetLen - searchLen\r\n        prepared.score = score\r\n        prepared.indexes = new Array(matchesBestLen); for(var i = matchesBestLen - 1; i >= 0; --i) prepared.indexes[i] = matchesBest[i]\r\n\r\n        return prepared\r\n      }\r\n    },\r\n\r\n    prepareLowerCodes: function(str) {\r\n      var strLen = str.length\r\n      var lowerCodes = [] // new Array(strLen)    sparse array is too slow\r\n      var lower = str.toLowerCase()\r\n      for(var i = 0; i < strLen; ++i) lowerCodes[i] = lower.charCodeAt(i)\r\n      return lowerCodes\r\n    },\r\n    prepareBeginningIndexes: function(target) {\r\n      var targetLen = target.length\r\n      var beginningIndexes = []; var beginningIndexesLen = 0\r\n      var wasUpper = false\r\n      var wasAlphanum = false\r\n      for(var i = 0; i < targetLen; ++i) {\r\n        var targetCode = target.charCodeAt(i)\r\n        var isUpper = targetCode>=65&&targetCode<=90\r\n        var isAlphanum = isUpper || targetCode>=97&&targetCode<=122 || targetCode>=48&&targetCode<=57\r\n        var isBeginning = isUpper && !wasUpper || !wasAlphanum || !isAlphanum\r\n        wasUpper = isUpper\r\n        wasAlphanum = isAlphanum\r\n        if(isBeginning) beginningIndexes[beginningIndexesLen++] = i\r\n      }\r\n      return beginningIndexes\r\n    },\r\n    prepareNextBeginningIndexes: function(target) {\r\n      var targetLen = target.length\r\n      var beginningIndexes = fuzzysort.prepareBeginningIndexes(target)\r\n      var nextBeginningIndexes = [] // new Array(targetLen)     sparse array is too slow\r\n      var lastIsBeginning = beginningIndexes[0]\r\n      var lastIsBeginningI = 0\r\n      for(var i = 0; i < targetLen; ++i) {\r\n        if(lastIsBeginning > i) {\r\n          nextBeginningIndexes[i] = lastIsBeginning\r\n        } else {\r\n          lastIsBeginning = beginningIndexes[++lastIsBeginningI]\r\n          nextBeginningIndexes[i] = lastIsBeginning===undefined ? targetLen : lastIsBeginning\r\n        }\r\n      }\r\n      return nextBeginningIndexes\r\n    },\r\n\r\n    cleanup: cleanup,\r\n    new: fuzzysortNew,\r\n  }\r\n  return fuzzysort\r\n} // fuzzysortNew\r\n\r\n// This stuff is outside fuzzysortNew, because it's shared with instances of fuzzysort.new()\r\nvar isNode = typeof require !== 'undefined' && typeof window === 'undefined'\r\n// var MAX_INT = Number.MAX_SAFE_INTEGER\r\n// var MIN_INT = Number.MIN_VALUE\r\nvar preparedCache = new Map()\r\nvar preparedSearchCache = new Map()\r\nvar noResults = []; noResults.total = 0\r\nvar matchesSimple = []; var matchesStrict = []\r\nfunction cleanup() { preparedCache.clear(); preparedSearchCache.clear(); matchesSimple = []; matchesStrict = [] }\r\nfunction defaultScoreFn(a) {\r\n  var max = -9007199254740991\r\n  for (var i = a.length - 1; i >= 0; --i) {\r\n    var result = a[i]; if(result === null) continue\r\n    var score = result.score\r\n    if(score > max) max = score\r\n  }\r\n  if(max === -9007199254740991) return null\r\n  return max\r\n}\r\n\r\n// prop = 'key'              2.5ms optimized for this case, seems to be about as fast as direct obj[prop]\r\n// prop = 'key1.key2'        10ms\r\n// prop = ['key1', 'key2']   27ms\r\nfunction getValue(obj, prop) {\r\n  var tmp = obj[prop]; if(tmp !== undefined) return tmp\r\n  var segs = prop\r\n  if(!Array.isArray(prop)) segs = prop.split('.')\r\n  var len = segs.length\r\n  var i = -1\r\n  while (obj && (++i < len)) obj = obj[segs[i]]\r\n  return obj\r\n}\r\n\r\nfunction isObj(x) { return typeof x === 'object' } // faster as a function\r\n\r\n// Hacked version of https://github.com/lemire/FastPriorityQueue.js\r\nvar fastpriorityqueue=function(){var r=[],o=0,e={};function n(){for(var e=0,n=r[e],c=1;c<o;){var f=c+1;e=c,f<o&&r[f].score<r[c].score&&(e=f),r[e-1>>1]=r[e],c=1+(e<<1)}for(var a=e-1>>1;e>0&&n.score<r[a].score;a=(e=a)-1>>1)r[e]=r[a];r[e]=n}return e.add=function(e){var n=o;r[o++]=e;for(var c=n-1>>1;n>0&&e.score<r[c].score;c=(n=c)-1>>1)r[n]=r[c];r[n]=e},e.poll=function(){if(0!==o){var e=r[0];return r[0]=r[--o],n(),e}},e.peek=function(e){if(0!==o)return r[0]},e.replaceTop=function(o){r[0]=o,n()},e};\r\nvar q = fastpriorityqueue() // reuse this, except for async, it needs to make its own\r\n\r\nreturn fuzzysortNew()\r\n}) // UMD\r\n\r\n// TODO: (performance) wasm version!?\r\n\r\n// TODO: (performance) layout memory in an optimal way to go fast by avoiding cache misses\r\n\r\n// TODO: (performance) preparedCache is a memory leak\r\n\r\n// TODO: (like sublime) backslash === forwardslash\r\n\r\n// TODO: (performance) i have no idea how well optizmied the allowing typos algorithm is\r\n","import QUnit from \"../core\";\nimport { extend, errorString } from \"../core/utilities\";\nimport { window, document, navigator, console } from \"../globals\";\nimport \"./urlparams\";\nimport fuzzysort from \"fuzzysort\";\n\nconst stats = {\n\tfailedTests: [],\n\tdefined: 0,\n\tcompleted: 0\n};\n\n// Escape text for attribute or text content.\nexport function escapeText( s ) {\n\tif ( !s ) {\n\t\treturn \"\";\n\t}\n\ts = s + \"\";\n\n\t// Both single quotes and double quotes (for attributes)\n\treturn s.replace( /['\"<>&]/g, function( s ) {\n\t\tswitch ( s ) {\n\t\tcase \"'\":\n\t\t\treturn \"&#039;\";\n\t\tcase \"\\\"\":\n\t\t\treturn \"&quot;\";\n\t\tcase \"<\":\n\t\t\treturn \"&lt;\";\n\t\tcase \">\":\n\t\t\treturn \"&gt;\";\n\t\tcase \"&\":\n\t\t\treturn \"&amp;\";\n\t\t}\n\t} );\n}\n\n( function() {\n\n\t// Don't load the HTML Reporter on non-browser environments\n\tif ( !window || !document ) {\n\t\treturn;\n\t}\n\n\tvar config = QUnit.config,\n\t\thiddenTests = [],\n\t\tcollapseNext = false,\n\t\thasOwn = Object.prototype.hasOwnProperty,\n\t\tunfilteredUrl = setUrl( { filter: undefined, module: undefined,\n\t\t\tmoduleId: undefined, testId: undefined } );\n\n\n\tfunction trim( string ) {\n\t\tif ( typeof string.trim === \"function\" ) {\n\t\t\treturn string.trim();\n\t\t} else {\n\t\t\treturn string.replace( /^\\s+|\\s+$/g, \"\" );\n\t\t}\n\t}\n\n\tfunction addEvent( elem, type, fn ) {\n\t\telem.addEventListener( type, fn, false );\n\t}\n\n\tfunction removeEvent( elem, type, fn ) {\n\t\telem.removeEventListener( type, fn, false );\n\t}\n\n\tfunction addEvents( elems, type, fn ) {\n\t\tvar i = elems.length;\n\t\twhile ( i-- ) {\n\t\t\taddEvent( elems[ i ], type, fn );\n\t\t}\n\t}\n\n\tfunction hasClass( elem, name ) {\n\t\treturn ( \" \" + elem.className + \" \" ).indexOf( \" \" + name + \" \" ) >= 0;\n\t}\n\n\tfunction addClass( elem, name ) {\n\t\tif ( !hasClass( elem, name ) ) {\n\t\t\telem.className += ( elem.className ? \" \" : \"\" ) + name;\n\t\t}\n\t}\n\n\tfunction toggleClass( elem, name, force ) {\n\t\tif ( force || typeof force === \"undefined\" && !hasClass( elem, name ) ) {\n\t\t\taddClass( elem, name );\n\t\t} else {\n\t\t\tremoveClass( elem, name );\n\t\t}\n\t}\n\n\tfunction removeClass( elem, name ) {\n\t\tvar set = \" \" + elem.className + \" \";\n\n\t\t// Class name may appear multiple times\n\t\twhile ( set.indexOf( \" \" + name + \" \" ) >= 0 ) {\n\t\t\tset = set.replace( \" \" + name + \" \", \" \" );\n\t\t}\n\n\t\t// Trim for prettiness\n\t\telem.className = trim( set );\n\t}\n\n\tfunction id( name ) {\n\t\treturn document.getElementById && document.getElementById( name );\n\t}\n\n\tfunction abortTests() {\n\t\tvar abortButton = id( \"qunit-abort-tests-button\" );\n\t\tif ( abortButton ) {\n\t\t\tabortButton.disabled = true;\n\t\t\tabortButton.innerHTML = \"Aborting...\";\n\t\t}\n\t\tQUnit.config.queue.length = 0;\n\t\treturn false;\n\t}\n\n\tfunction interceptNavigation( ev ) {\n\n\t\t// Trim potential accidental whitespace so that QUnit doesn't throw an error about no tests matching the filter.\n\t\tvar filterInputElem = id( \"qunit-filter-input\" );\n\t\tfilterInputElem.value = trim( filterInputElem.value );\n\n\t\tapplyUrlParams();\n\n\t\tif ( ev && ev.preventDefault ) {\n\t\t\tev.preventDefault();\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tfunction getUrlConfigHtml() {\n\t\tvar i, j, val,\n\t\t\tescaped, escapedTooltip,\n\t\t\tselection = false,\n\t\t\turlConfig = config.urlConfig,\n\t\t\turlConfigHtml = \"\";\n\n\t\tfor ( i = 0; i < urlConfig.length; i++ ) {\n\n\t\t\t// Options can be either strings or objects with nonempty \"id\" properties\n\t\t\tval = config.urlConfig[ i ];\n\t\t\tif ( typeof val === \"string\" ) {\n\t\t\t\tval = {\n\t\t\t\t\tid: val,\n\t\t\t\t\tlabel: val\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tescaped = escapeText( val.id );\n\t\t\tescapedTooltip = escapeText( val.tooltip );\n\n\t\t\tif ( !val.value || typeof val.value === \"string\" ) {\n\t\t\t\turlConfigHtml += \"<label for='qunit-urlconfig-\" + escaped +\n\t\t\t\t\"' title='\" + escapedTooltip + \"'><input id='qunit-urlconfig-\" + escaped +\n\t\t\t\t\"' name='\" + escaped + \"' type='checkbox'\" +\n\t\t\t\t( val.value ? \" value='\" + escapeText( val.value ) + \"'\" : \"\" ) +\n\t\t\t\t( config[ val.id ] ? \" checked='checked'\" : \"\" ) +\n\t\t\t\t\" title='\" + escapedTooltip + \"' />\" + escapeText( val.label ) + \"</label>\";\n\t\t\t} else {\n\t\t\t\turlConfigHtml += \"<label for='qunit-urlconfig-\" + escaped +\n\t\t\t\t\"' title='\" + escapedTooltip + \"'>\" + val.label +\n\t\t\t\t\": </label><select id='qunit-urlconfig-\" + escaped +\n\t\t\t\t\"' name='\" + escaped + \"' title='\" + escapedTooltip + \"'><option></option>\";\n\n\t\t\t\tif ( Array.isArray( val.value ) ) {\n\t\t\t\t\tfor ( j = 0; j < val.value.length; j++ ) {\n\t\t\t\t\t\tescaped = escapeText( val.value[ j ] );\n\t\t\t\t\t\turlConfigHtml += \"<option value='\" + escaped + \"'\" +\n\t\t\t\t\t\t( config[ val.id ] === val.value[ j ] ?\n\t\t\t\t\t\t\t( selection = true ) && \" selected='selected'\" : \"\" ) +\n\t\t\t\t\t\t\">\" + escaped + \"</option>\";\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tfor ( j in val.value ) {\n\t\t\t\t\t\tif ( hasOwn.call( val.value, j ) ) {\n\t\t\t\t\t\t\turlConfigHtml += \"<option value='\" + escapeText( j ) + \"'\" +\n\t\t\t\t\t\t\t( config[ val.id ] === j ?\n\t\t\t\t\t\t\t\t( selection = true ) && \" selected='selected'\" : \"\" ) +\n\t\t\t\t\t\t\t\">\" + escapeText( val.value[ j ] ) + \"</option>\";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif ( config[ val.id ] && !selection ) {\n\t\t\t\t\tescaped = escapeText( config[ val.id ] );\n\t\t\t\t\turlConfigHtml += \"<option value='\" + escaped +\n\t\t\t\t\t\"' selected='selected' disabled='disabled'>\" + escaped + \"</option>\";\n\t\t\t\t}\n\t\t\t\turlConfigHtml += \"</select>\";\n\t\t\t}\n\t\t}\n\n\t\treturn urlConfigHtml;\n\t}\n\n\t// Handle \"click\" events on toolbar checkboxes and \"change\" for select menus.\n\t// Updates the URL with the new state of `config.urlConfig` values.\n\tfunction toolbarChanged() {\n\t\tvar updatedUrl, value, tests,\n\t\t\tfield = this,\n\t\t\tparams = {};\n\n\t\t// Detect if field is a select menu or a checkbox\n\t\tif ( \"selectedIndex\" in field ) {\n\t\t\tvalue = field.options[ field.selectedIndex ].value || undefined;\n\t\t} else {\n\t\t\tvalue = field.checked ? ( field.defaultValue || true ) : undefined;\n\t\t}\n\n\t\tparams[ field.name ] = value;\n\t\tupdatedUrl = setUrl( params );\n\n\t\t// Check if we can apply the change without a page refresh\n\t\tif ( \"hidepassed\" === field.name && \"replaceState\" in window.history ) {\n\t\t\tQUnit.urlParams[ field.name ] = value;\n\t\t\tconfig[ field.name ] = value || false;\n\t\t\ttests = id( \"qunit-tests\" );\n\t\t\tif ( tests ) {\n\t\t\t\tvar length = tests.children.length;\n\t\t\t\tvar children = tests.children;\n\n\t\t\t\tif ( field.checked ) {\n\t\t\t\t\tfor ( var i = 0; i < length; i++ ) {\n\t\t\t\t\t\tvar test = children[ i ];\n\t\t\t\t\t\tvar className = test ? test.className : \"\";\n\t\t\t\t\t\tvar classNameHasPass = className.indexOf( \"pass\" ) > -1;\n\t\t\t\t\t\tvar classNameHasSkipped = className.indexOf( \"skipped\" ) > -1;\n\n\t\t\t\t\t\tif ( classNameHasPass || classNameHasSkipped ) {\n\t\t\t\t\t\t\thiddenTests.push( test );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tfor ( const hiddenTest of hiddenTests ) {\n\t\t\t\t\t\ttests.removeChild( hiddenTest );\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\twhile ( ( test = hiddenTests.pop() ) != null ) {\n\t\t\t\t\t\ttests.appendChild( test );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\twindow.history.replaceState( null, \"\", updatedUrl );\n\t\t} else {\n\t\t\twindow.location = updatedUrl;\n\t\t}\n\t}\n\n\tfunction setUrl( params ) {\n\t\tvar key, arrValue, i,\n\t\t\tquerystring = \"?\",\n\t\t\tlocation = window.location;\n\n\t\tparams = extend( extend( {}, QUnit.urlParams ), params );\n\n\t\tfor ( key in params ) {\n\n\t\t\t// Skip inherited or undefined properties\n\t\t\tif ( hasOwn.call( params, key ) && params[ key ] !== undefined ) {\n\n\t\t\t\t// Output a parameter for each value of this key\n\t\t\t\t// (but usually just one)\n\t\t\t\tarrValue = [].concat( params[ key ] );\n\t\t\t\tfor ( i = 0; i < arrValue.length; i++ ) {\n\t\t\t\t\tquerystring += encodeURIComponent( key );\n\t\t\t\t\tif ( arrValue[ i ] !== true ) {\n\t\t\t\t\t\tquerystring += \"=\" + encodeURIComponent( arrValue[ i ] );\n\t\t\t\t\t}\n\t\t\t\t\tquerystring += \"&\";\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn location.protocol + \"//\" + location.host +\n\t\tlocation.pathname + querystring.slice( 0, -1 );\n\t}\n\n\tfunction applyUrlParams() {\n\t\tvar i,\n\t\t\tselectedModules = [],\n\t\t\tmodulesList = id( \"qunit-modulefilter-dropdown-list\" ).getElementsByTagName( \"input\" ),\n\t\t\tfilter = id( \"qunit-filter-input\" ).value;\n\n\t\tfor ( i = 0; i < modulesList.length; i++ ) {\n\t\t\tif ( modulesList[ i ].checked ) {\n\t\t\t\tselectedModules.push( modulesList[ i ].value );\n\t\t\t}\n\t\t}\n\n\t\twindow.location = setUrl( {\n\t\t\tfilter: ( filter === \"\" ) ? undefined : filter,\n\t\t\tmoduleId: ( selectedModules.length === 0 ) ? undefined : selectedModules,\n\n\t\t\t// Remove module and testId filter\n\t\t\tmodule: undefined,\n\t\t\ttestId: undefined\n\t\t} );\n\t}\n\n\tfunction toolbarUrlConfigContainer() {\n\t\tvar urlConfigContainer = document.createElement( \"span\" );\n\n\t\turlConfigContainer.innerHTML = getUrlConfigHtml();\n\t\taddClass( urlConfigContainer, \"qunit-url-config\" );\n\n\t\taddEvents( urlConfigContainer.getElementsByTagName( \"input\" ), \"change\", toolbarChanged );\n\t\taddEvents( urlConfigContainer.getElementsByTagName( \"select\" ), \"change\", toolbarChanged );\n\n\t\treturn urlConfigContainer;\n\t}\n\n\tfunction abortTestsButton() {\n\t\tvar button = document.createElement( \"button\" );\n\t\tbutton.id = \"qunit-abort-tests-button\";\n\t\tbutton.innerHTML = \"Abort\";\n\t\taddEvent( button, \"click\", abortTests );\n\t\treturn button;\n\t}\n\n\tfunction toolbarLooseFilter() {\n\t\tvar filter = document.createElement( \"form\" ),\n\t\t\tlabel = document.createElement( \"label\" ),\n\t\t\tinput = document.createElement( \"input\" ),\n\t\t\tbutton = document.createElement( \"button\" );\n\n\t\taddClass( filter, \"qunit-filter\" );\n\n\t\tlabel.innerHTML = \"Filter: \";\n\n\t\tinput.type = \"text\";\n\t\tinput.value = config.filter || \"\";\n\t\tinput.name = \"filter\";\n\t\tinput.id = \"qunit-filter-input\";\n\n\t\tbutton.innerHTML = \"Go\";\n\n\t\tlabel.appendChild( input );\n\n\t\tfilter.appendChild( label );\n\t\tfilter.appendChild( document.createTextNode( \" \" ) );\n\t\tfilter.appendChild( button );\n\t\taddEvent( filter, \"submit\", interceptNavigation );\n\n\t\treturn filter;\n\t}\n\n\tfunction moduleListHtml( modules ) {\n\t\tvar i, checked,\n\t\t\thtml = \"\";\n\n\t\tfor ( i = 0; i < modules.length; i++ ) {\n\t\t\tif ( modules[ i ].name !== \"\" ) {\n\t\t\t\tchecked = config.moduleId.indexOf( modules[ i ].moduleId ) > -1;\n\t\t\t\thtml += \"<li><label class='clickable\" + ( checked ? \" checked\" : \"\" ) +\n\t\t\t\t\"'><input type='checkbox' \" + \"value='\" + modules[ i ].moduleId + \"'\" +\n\t\t\t\t( checked ? \" checked='checked'\" : \"\" ) + \" />\" +\n\t\t\t\tescapeText( modules[ i ].name ) + \"</label></li>\";\n\t\t\t}\n\t\t}\n\n\t\treturn html;\n\t}\n\n\tfunction toolbarModuleFilter() {\n\t\tvar commit, reset,\n\t\t\tmoduleFilter = document.createElement( \"form\" ),\n\t\t\tlabel = document.createElement( \"label\" ),\n\t\t\tmoduleSearch = document.createElement( \"input\" ),\n\t\t\tdropDown = document.createElement( \"div\" ),\n\t\t\tactions = document.createElement( \"span\" ),\n\t\t\tapplyButton = document.createElement( \"button\" ),\n\t\t\tresetButton = document.createElement( \"button\" ),\n\t\t\tallModulesLabel = document.createElement( \"label\" ),\n\t\t\tallCheckbox = document.createElement( \"input\" ),\n\t\t\tdropDownList = document.createElement( \"ul\" ),\n\t\t\tdirty = false;\n\n\t\tmoduleSearch.id = \"qunit-modulefilter-search\";\n\t\tmoduleSearch.autocomplete = \"off\";\n\t\taddEvent( moduleSearch, \"input\", searchInput );\n\t\taddEvent( moduleSearch, \"input\", searchFocus );\n\t\taddEvent( moduleSearch, \"focus\", searchFocus );\n\t\taddEvent( moduleSearch, \"click\", searchFocus );\n\n\t\tconfig.modules.forEach( module => module.namePrepared = fuzzysort.prepare( module.name ) );\n\n\t\tlabel.id = \"qunit-modulefilter-search-container\";\n\t\tlabel.innerHTML = \"Module: \";\n\t\tlabel.appendChild( moduleSearch );\n\n\t\tapplyButton.textContent = \"Apply\";\n\t\tapplyButton.style.display = \"none\";\n\n\t\tresetButton.textContent = \"Reset\";\n\t\tresetButton.type = \"reset\";\n\t\tresetButton.style.display = \"none\";\n\n\t\tallCheckbox.type = \"checkbox\";\n\t\tallCheckbox.checked = config.moduleId.length === 0;\n\n\t\tallModulesLabel.className = \"clickable\";\n\t\tif ( config.moduleId.length ) {\n\t\t\tallModulesLabel.className = \"checked\";\n\t\t}\n\t\tallModulesLabel.appendChild( allCheckbox );\n\t\tallModulesLabel.appendChild( document.createTextNode( \"All modules\" ) );\n\n\t\tactions.id = \"qunit-modulefilter-actions\";\n\t\tactions.appendChild( applyButton );\n\t\tactions.appendChild( resetButton );\n\t\tactions.appendChild( allModulesLabel );\n\t\tcommit = actions.firstChild;\n\t\treset = commit.nextSibling;\n\t\taddEvent( commit, \"click\", applyUrlParams );\n\n\t\tdropDownList.id = \"qunit-modulefilter-dropdown-list\";\n\t\tdropDownList.innerHTML = moduleListHtml( config.modules );\n\n\t\tdropDown.id = \"qunit-modulefilter-dropdown\";\n\t\tdropDown.style.display = \"none\";\n\t\tdropDown.appendChild( actions );\n\t\tdropDown.appendChild( dropDownList );\n\t\taddEvent( dropDown, \"change\", selectionChange );\n\t\tselectionChange();\n\n\t\tmoduleFilter.id = \"qunit-modulefilter\";\n\t\tmoduleFilter.appendChild( label );\n\t\tmoduleFilter.appendChild( dropDown );\n\t\taddEvent( moduleFilter, \"submit\", interceptNavigation );\n\t\taddEvent( moduleFilter, \"reset\", function() {\n\n\t\t\t// Let the reset happen, then update styles\n\t\t\twindow.setTimeout( selectionChange );\n\t\t} );\n\n\t\t// Enables show/hide for the dropdown\n\t\tfunction searchFocus() {\n\t\t\tif ( dropDown.style.display !== \"none\" ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tdropDown.style.display = \"block\";\n\t\t\taddEvent( document, \"click\", hideHandler );\n\t\t\taddEvent( document, \"keydown\", hideHandler );\n\n\t\t\t// Hide on Escape keydown or outside-container click\n\t\t\tfunction hideHandler( e ) {\n\t\t\t\tvar inContainer = moduleFilter.contains( e.target );\n\n\t\t\t\tif ( e.keyCode === 27 || !inContainer ) {\n\t\t\t\t\tif ( e.keyCode === 27 && inContainer ) {\n\t\t\t\t\t\tmoduleSearch.focus();\n\t\t\t\t\t}\n\t\t\t\t\tdropDown.style.display = \"none\";\n\t\t\t\t\tremoveEvent( document, \"click\", hideHandler );\n\t\t\t\t\tremoveEvent( document, \"keydown\", hideHandler );\n\t\t\t\t\tmoduleSearch.value = \"\";\n\t\t\t\t\tsearchInput();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction filterModules( searchText ) {\n\t\t\tif ( searchText === \"\" ) {\n\t\t\t\treturn config.modules;\n\t\t\t}\n\t\t\treturn fuzzysort\n\t\t\t\t.go( searchText, config.modules, { key: \"namePrepared\", threshold: -10000 } )\n\t\t\t\t.map( module => module.obj );\n\t\t}\n\n\t\t// Processes module search box input\n\t\tvar searchInputTimeout;\n\t\tfunction searchInput() {\n\t\t\twindow.clearTimeout( searchInputTimeout );\n\t\t\tsearchInputTimeout = window.setTimeout( () => {\n\t\t\t\tvar searchText = moduleSearch.value.toLowerCase(),\n\t\t\t\t\tfilteredModules = filterModules( searchText );\n\t\t\t\tdropDownList.innerHTML = moduleListHtml( filteredModules );\n\t\t\t}, 200 );\n\t\t}\n\n\t\t// Processes selection changes\n\t\tfunction selectionChange( evt ) {\n\t\t\tvar i, item,\n\t\t\t\tcheckbox = evt && evt.target || allCheckbox,\n\t\t\t\tmodulesList = dropDownList.getElementsByTagName( \"input\" ),\n\t\t\t\tselectedNames = [];\n\n\t\t\ttoggleClass( checkbox.parentNode, \"checked\", checkbox.checked );\n\n\t\t\tdirty = false;\n\t\t\tif ( checkbox.checked && checkbox !== allCheckbox ) {\n\t\t\t\tallCheckbox.checked = false;\n\t\t\t\tremoveClass( allCheckbox.parentNode, \"checked\" );\n\t\t\t}\n\t\t\tfor ( i = 0; i < modulesList.length; i++ ) {\n\t\t\t\titem = modulesList[ i ];\n\t\t\t\tif ( !evt ) {\n\t\t\t\t\ttoggleClass( item.parentNode, \"checked\", item.checked );\n\t\t\t\t} else if ( checkbox === allCheckbox && checkbox.checked ) {\n\t\t\t\t\titem.checked = false;\n\t\t\t\t\tremoveClass( item.parentNode, \"checked\" );\n\t\t\t\t}\n\t\t\t\tdirty = dirty || ( item.checked !== item.defaultChecked );\n\t\t\t\tif ( item.checked ) {\n\t\t\t\t\tselectedNames.push( item.parentNode.textContent );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tcommit.style.display = reset.style.display = dirty ? \"\" : \"none\";\n\t\t\tmoduleSearch.placeholder = selectedNames.join( \", \" ) ||\n\t\t\t\tallCheckbox.parentNode.textContent;\n\t\t\tmoduleSearch.title = \"Type to filter list. Current selection:\\n\" +\n\t\t\t( selectedNames.join( \"\\n\" ) || allCheckbox.parentNode.textContent );\n\t\t}\n\n\t\treturn moduleFilter;\n\t}\n\n\tfunction toolbarFilters() {\n\t\tvar toolbarFilters = document.createElement( \"span\" );\n\n\t\ttoolbarFilters.id = \"qunit-toolbar-filters\";\n\t\ttoolbarFilters.appendChild( toolbarLooseFilter() );\n\t\ttoolbarFilters.appendChild( toolbarModuleFilter() );\n\n\t\treturn toolbarFilters;\n\t}\n\n\tfunction appendToolbar() {\n\t\tvar toolbar = id( \"qunit-testrunner-toolbar\" );\n\n\t\tif ( toolbar ) {\n\t\t\ttoolbar.appendChild( toolbarUrlConfigContainer() );\n\t\t\ttoolbar.appendChild( toolbarFilters() );\n\t\t\ttoolbar.appendChild( document.createElement( \"div\" ) ).className = \"clearfix\";\n\t\t}\n\t}\n\n\tfunction appendHeader() {\n\t\tvar header = id( \"qunit-header\" );\n\n\t\tif ( header ) {\n\t\t\theader.innerHTML = \"<a href='\" + escapeText( unfilteredUrl ) + \"'>\" + header.innerHTML +\n\t\t\t\"</a> \";\n\t\t}\n\t}\n\n\tfunction appendBanner() {\n\t\tvar banner = id( \"qunit-banner\" );\n\n\t\tif ( banner ) {\n\t\t\tbanner.className = \"\";\n\t\t}\n\t}\n\n\tfunction appendTestResults() {\n\t\tvar tests = id( \"qunit-tests\" ),\n\t\t\tresult = id( \"qunit-testresult\" ),\n\t\t\tcontrols;\n\n\t\tif ( result ) {\n\t\t\tresult.parentNode.removeChild( result );\n\t\t}\n\n\t\tif ( tests ) {\n\t\t\ttests.innerHTML = \"\";\n\t\t\tresult = document.createElement( \"p\" );\n\t\t\tresult.id = \"qunit-testresult\";\n\t\t\tresult.className = \"result\";\n\t\t\ttests.parentNode.insertBefore( result, tests );\n\t\t\tresult.innerHTML = \"<div id=\\\"qunit-testresult-display\\\">Running...<br />&#160;</div>\" +\n\t\t\t\"<div id=\\\"qunit-testresult-controls\\\"></div>\" +\n\t\t\t\"<div class=\\\"clearfix\\\"></div>\";\n\t\t\tcontrols = id( \"qunit-testresult-controls\" );\n\t\t}\n\n\t\tif ( controls ) {\n\t\t\tcontrols.appendChild( abortTestsButton() );\n\t\t}\n\t}\n\n\tfunction appendFilteredTest() {\n\t\tvar testId = QUnit.config.testId;\n\t\tif ( !testId || testId.length <= 0 ) {\n\t\t\treturn \"\";\n\t\t}\n\t\treturn \"<div id='qunit-filteredTest'>Rerunning selected tests: \" +\n\t\t\tescapeText( testId.join( \", \" ) ) +\n\t\t\t\" <a id='qunit-clearFilter' href='\" +\n\t\t\tescapeText( unfilteredUrl ) +\n\t\t\t\"'>Run all tests</a></div>\";\n\t}\n\n\tfunction appendUserAgent() {\n\t\tvar userAgent = id( \"qunit-userAgent\" );\n\n\t\tif ( userAgent ) {\n\t\t\tuserAgent.innerHTML = \"\";\n\t\t\tuserAgent.appendChild(\n\t\t\t\tdocument.createTextNode(\n\t\t\t\t\t\"QUnit \" + QUnit.version + \"; \" + navigator.userAgent\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}\n\n\tfunction appendInterface() {\n\t\tvar qunit = id( \"qunit\" );\n\n\t\t// For compat with QUnit 1.2, and to support fully custom theme HTML,\n\t\t// we will use any existing elements if no id=\"qunit\" element exists.\n\t\t//\n\t\t// Note that we don't fail or fallback to creating it ourselves,\n\t\t// because not having id=\"qunit\" (and not having the below elements)\n\t\t// simply means QUnit acts headless, allowing users to use their own\n\t\t// reporters, or for a test runner to listen for events directly without\n\t\t// having the HTML reporter actively render anything.\n\t\tif ( qunit ) {\n\n\t\t\tqunit.setAttribute( \"role\", \"main\" );\n\n\t\t\t// Since QUnit 1.3, these are created automatically if the page\n\t\t\t// contains id=\"qunit\".\n\t\t\tqunit.innerHTML =\n\t\t\t\"<h1 id='qunit-header'>\" + escapeText( document.title ) + \"</h1>\" +\n\t\t\t\"<h2 id='qunit-banner'></h2>\" +\n\t\t\t\"<div id='qunit-testrunner-toolbar' role='navigation'></div>\" +\n\t\t\tappendFilteredTest() +\n\t\t\t\"<h2 id='qunit-userAgent'></h2>\" +\n\t\t\t\"<ol id='qunit-tests'></ol>\";\n\t\t}\n\n\t\tappendHeader();\n\t\tappendBanner();\n\t\tappendTestResults();\n\t\tappendUserAgent();\n\t\tappendToolbar();\n\t}\n\n\tfunction appendTest( name, testId, moduleName ) {\n\t\tvar title, rerunTrigger, testBlock, assertList,\n\t\t\ttests = id( \"qunit-tests\" );\n\n\t\tif ( !tests ) {\n\t\t\treturn;\n\t\t}\n\n\t\ttitle = document.createElement( \"strong\" );\n\t\ttitle.innerHTML = getNameHtml( name, moduleName );\n\n\t\ttestBlock = document.createElement( \"li\" );\n\t\ttestBlock.appendChild( title );\n\n\t\t// No ID or rerun link for \"global failure\" blocks\n\t\tif ( testId !== undefined ) {\n\t\t\trerunTrigger = document.createElement( \"a\" );\n\t\t\trerunTrigger.innerHTML = \"Rerun\";\n\t\t\trerunTrigger.href = setUrl( { testId: testId } );\n\n\t\t\ttestBlock.id = \"qunit-test-output-\" + testId;\n\t\t\ttestBlock.appendChild( rerunTrigger );\n\t\t}\n\n\t\tassertList = document.createElement( \"ol\" );\n\t\tassertList.className = \"qunit-assert-list\";\n\n\t\ttestBlock.appendChild( assertList );\n\n\t\ttests.appendChild( testBlock );\n\n\t\treturn testBlock;\n\t}\n\n\t// HTML Reporter initialization and load\n\tQUnit.on( \"runStart\", function( runStart ) {\n\n\t\tstats.defined = runStart.testCounts.total;\n\t} );\n\n\tQUnit.begin( function() {\n\n\t\t// Initialize QUnit elements\n\t\t// This is done from begin() instead of runStart, because\n\t\t// urlparams.js uses begin(), which we need to wait for.\n\t\t// urlparams.js in turn uses begin() to allow plugins to\n\t\t// add entries to QUnit.config.urlConfig, which may be done\n\t\t// asynchronously.\n\t\t// <https://github.com/qunitjs/qunit/issues/1657>\n\t\tappendInterface();\n\t} );\n\n\tfunction getRerunFailedHtml( failedTests ) {\n\t\tif ( failedTests.length === 0 ) {\n\t\t\treturn \"\";\n\t\t}\n\n\t\tvar href = setUrl( { testId: failedTests } );\n\t\treturn [\n\t\t\t\"<br /><a href='\" + escapeText( href ) + \"'>\",\n\t\t\tfailedTests.length === 1 ?\n\t\t\t\t\"Rerun 1 failed test\" :\n\t\t\t\t\"Rerun \" + failedTests.length + \" failed tests\",\n\t\t\t\"</a>\"\n\t\t].join( \"\" );\n\t}\n\n\tQUnit.on( \"runEnd\", function( runEnd ) {\n\t\tvar banner = id( \"qunit-banner\" ),\n\t\t\ttests = id( \"qunit-tests\" ),\n\t\t\tabortButton = id( \"qunit-abort-tests-button\" ),\n\t\t\tassertPassed = config.stats.all - config.stats.bad,\n\t\t\thtml = [\n\t\t\t\trunEnd.testCounts.total,\n\t\t\t\t\" tests completed in \",\n\t\t\t\trunEnd.runtime,\n\t\t\t\t\" milliseconds, with \",\n\t\t\t\trunEnd.testCounts.failed,\n\t\t\t\t\" failed, \",\n\t\t\t\trunEnd.testCounts.skipped,\n\t\t\t\t\" skipped, and \",\n\t\t\t\trunEnd.testCounts.todo,\n\t\t\t\t\" todo.<br />\",\n\t\t\t\t\"<span class='passed'>\",\n\t\t\t\tassertPassed,\n\t\t\t\t\"</span> assertions of <span class='total'>\",\n\t\t\t\tconfig.stats.all,\n\t\t\t\t\"</span> passed, <span class='failed'>\",\n\t\t\t\tconfig.stats.bad,\n\t\t\t\t\"</span> failed.\",\n\t\t\t\tgetRerunFailedHtml( stats.failedTests )\n\t\t\t].join( \"\" ),\n\t\t\ttest,\n\t\t\tassertLi,\n\t\t\tassertList;\n\n\t\t// Update remaining tests to aborted\n\t\tif ( abortButton && abortButton.disabled ) {\n\t\t\thtml = \"Tests aborted after \" + runEnd.runtime + \" milliseconds.\";\n\n\t\t\tfor ( var i = 0; i < tests.children.length; i++ ) {\n\t\t\t\ttest = tests.children[ i ];\n\t\t\t\tif ( test.className === \"\" || test.className === \"running\" ) {\n\t\t\t\t\ttest.className = \"aborted\";\n\t\t\t\t\tassertList = test.getElementsByTagName( \"ol\" )[ 0 ];\n\t\t\t\t\tassertLi = document.createElement( \"li\" );\n\t\t\t\t\tassertLi.className = \"fail\";\n\t\t\t\t\tassertLi.innerHTML = \"Test aborted.\";\n\t\t\t\t\tassertList.appendChild( assertLi );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ( banner && ( !abortButton || abortButton.disabled === false ) ) {\n\t\t\tbanner.className = runEnd.status === \"failed\" ? \"qunit-fail\" : \"qunit-pass\";\n\t\t}\n\n\t\tif ( abortButton ) {\n\t\t\tabortButton.parentNode.removeChild( abortButton );\n\t\t}\n\n\t\tif ( tests ) {\n\t\t\tid( \"qunit-testresult-display\" ).innerHTML = html;\n\t\t}\n\n\t\tif ( config.altertitle && document.title ) {\n\n\t\t\t// Show ✖ for good, ✔ for bad suite result in title\n\t\t\t// use escape sequences in case file gets loaded with non-utf-8\n\t\t\t// charset\n\t\t\tdocument.title = [\n\t\t\t\t( runEnd.status === \"failed\" ? \"\\u2716\" : \"\\u2714\" ),\n\t\t\t\tdocument.title.replace( /^[\\u2714\\u2716] /i, \"\" )\n\t\t\t].join( \" \" );\n\t\t}\n\n\t\t// Scroll back to top to show results\n\t\tif ( config.scrolltop && window.scrollTo ) {\n\t\t\twindow.scrollTo( 0, 0 );\n\t\t}\n\t} );\n\n\tfunction getNameHtml( name, module ) {\n\t\tvar nameHtml = \"\";\n\n\t\tif ( module ) {\n\t\t\tnameHtml = \"<span class='module-name'>\" + escapeText( module ) + \"</span>: \";\n\t\t}\n\n\t\tnameHtml += \"<span class='test-name'>\" + escapeText( name ) + \"</span>\";\n\n\t\treturn nameHtml;\n\t}\n\n\tfunction getProgressHtml( stats ) {\n\t\treturn [\n\t\t\tstats.completed,\n\t\t\t\" / \",\n\t\t\tstats.defined,\n\t\t\t\" tests completed.<br />\"\n\t\t].join( \"\" );\n\t}\n\n\tQUnit.testStart( function( details ) {\n\t\tvar running, bad;\n\n\t\tappendTest( details.name, details.testId, details.module );\n\n\t\trunning = id( \"qunit-testresult-display\" );\n\n\t\tif ( running ) {\n\t\t\taddClass( running, \"running\" );\n\n\t\t\tbad = QUnit.config.reorder && details.previousFailure;\n\n\t\t\trunning.innerHTML = [\n\t\t\t\tgetProgressHtml( stats ),\n\t\t\t\tbad ?\n\t\t\t\t\t\"Rerunning previously failed test: <br />\" :\n\t\t\t\t\t\"Running: \",\n\t\t\t\tgetNameHtml( details.name, details.module ),\n\t\t\t\tgetRerunFailedHtml( stats.failedTests )\n\t\t\t].join( \"\" );\n\t\t}\n\n\t} );\n\n\tfunction stripHtml( string ) {\n\n\t\t// Strip tags, html entity and whitespaces\n\t\treturn string\n\t\t\t.replace( /<\\/?[^>]+(>|$)/g, \"\" )\n\t\t\t.replace( /&quot;/g, \"\" )\n\t\t\t.replace( /\\s+/g, \"\" );\n\t}\n\n\tQUnit.log( function( details ) {\n\t\tvar assertList, assertLi,\n\t\t\tmessage, expected, actual, diff,\n\t\t\tshowDiff = false,\n\t\t\ttestItem = id( \"qunit-test-output-\" + details.testId );\n\n\t\tif ( !testItem ) {\n\t\t\treturn;\n\t\t}\n\n\t\tmessage = escapeText( details.message ) || ( details.result ? \"okay\" : \"failed\" );\n\t\tmessage = \"<span class='test-message'>\" + message + \"</span>\";\n\t\tmessage += \"<span class='runtime'>@ \" + details.runtime + \" ms</span>\";\n\n\t\t// The pushFailure doesn't provide details.expected\n\t\t// when it calls, it's implicit to also not show expected and diff stuff\n\t\t// Also, we need to check details.expected existence, as it can exist and be undefined\n\t\tif ( !details.result && hasOwn.call( details, \"expected\" ) ) {\n\t\t\tif ( details.negative ) {\n\t\t\t\texpected = \"NOT \" + QUnit.dump.parse( details.expected );\n\t\t\t} else {\n\t\t\t\texpected = QUnit.dump.parse( details.expected );\n\t\t\t}\n\n\t\t\tactual = QUnit.dump.parse( details.actual );\n\t\t\tmessage += \"<table><tr class='test-expected'><th>Expected: </th><td><pre>\" +\n\t\t\tescapeText( expected ) +\n\t\t\t\"</pre></td></tr>\";\n\n\t\t\tif ( actual !== expected ) {\n\n\t\t\t\tmessage += \"<tr class='test-actual'><th>Result: </th><td><pre>\" +\n\t\t\t\t\tescapeText( actual ) + \"</pre></td></tr>\";\n\n\t\t\t\tif ( typeof details.actual === \"number\" && typeof details.expected === \"number\" ) {\n\t\t\t\t\tif ( !isNaN( details.actual ) && !isNaN( details.expected ) ) {\n\t\t\t\t\t\tshowDiff = true;\n\t\t\t\t\t\tdiff = ( details.actual - details.expected );\n\t\t\t\t\t\tdiff = ( diff > 0 ? \"+\" : \"\" ) + diff;\n\t\t\t\t\t}\n\t\t\t\t} else if ( typeof details.actual !== \"boolean\" &&\n\t\t\t\t\t\t\ttypeof details.expected !== \"boolean\" ) {\n\t\t\t\t\tdiff = QUnit.diff( expected, actual );\n\n\t\t\t\t\t// don't show diff if there is zero overlap\n\t\t\t\t\tshowDiff = stripHtml( diff ).length !==\n\t\t\t\t\t\tstripHtml( expected ).length +\n\t\t\t\t\t\tstripHtml( actual ).length;\n\t\t\t\t}\n\n\t\t\t\tif ( showDiff ) {\n\t\t\t\t\tmessage += \"<tr class='test-diff'><th>Diff: </th><td><pre>\" +\n\t\t\t\t\tdiff + \"</pre></td></tr>\";\n\t\t\t\t}\n\t\t\t} else if ( expected.indexOf( \"[object Array]\" ) !== -1 ||\n\t\t\t\texpected.indexOf( \"[object Object]\" ) !== -1 ) {\n\t\t\t\tmessage += \"<tr class='test-message'><th>Message: </th><td>\" +\n\t\t\t\t\"Diff suppressed as the depth of object is more than current max depth (\" +\n\t\t\t\tQUnit.config.maxDepth + \").<p>Hint: Use <code>QUnit.dump.maxDepth</code> to \" +\n\t\t\t\t\" run with a higher max depth or <a href='\" +\n\t\t\t\tescapeText( setUrl( { maxDepth: -1 } ) ) + \"'>\" +\n\t\t\t\t\"Rerun</a> without max depth.</p></td></tr>\";\n\t\t\t} else {\n\t\t\t\tmessage += \"<tr class='test-message'><th>Message: </th><td>\" +\n\t\t\t\t\"Diff suppressed as the expected and actual results have an equivalent\" +\n\t\t\t\t\" serialization</td></tr>\";\n\t\t\t}\n\n\t\t\tif ( details.source ) {\n\t\t\t\tmessage += \"<tr class='test-source'><th>Source: </th><td><pre>\" +\n\t\t\t\tescapeText( details.source ) + \"</pre></td></tr>\";\n\t\t\t}\n\n\t\t\tmessage += \"</table>\";\n\n\t\t// This occurs when pushFailure is set and we have an extracted stack trace\n\t\t} else if ( !details.result && details.source ) {\n\t\t\tmessage += \"<table>\" +\n\t\t\t\"<tr class='test-source'><th>Source: </th><td><pre>\" +\n\t\t\tescapeText( details.source ) + \"</pre></td></tr>\" +\n\t\t\t\"</table>\";\n\t\t}\n\n\t\tassertList = testItem.getElementsByTagName( \"ol\" )[ 0 ];\n\n\t\tassertLi = document.createElement( \"li\" );\n\t\tassertLi.className = details.result ? \"pass\" : \"fail\";\n\t\tassertLi.innerHTML = message;\n\t\tassertList.appendChild( assertLi );\n\t} );\n\n\tQUnit.testDone( function( details ) {\n\t\tvar testTitle, time, assertList, status,\n\t\t\tgood, bad, testCounts, skipped, sourceName,\n\t\t\ttests = id( \"qunit-tests\" ),\n\t\t\ttestItem = id( \"qunit-test-output-\" + details.testId );\n\n\t\tif ( !tests || !testItem ) {\n\t\t\treturn;\n\t\t}\n\n\t\tremoveClass( testItem, \"running\" );\n\n\t\tif ( details.failed > 0 ) {\n\t\t\tstatus = \"failed\";\n\t\t} else if ( details.todo ) {\n\t\t\tstatus = \"todo\";\n\t\t} else {\n\t\t\tstatus = details.skipped ? \"skipped\" : \"passed\";\n\t\t}\n\n\t\tassertList = testItem.getElementsByTagName( \"ol\" )[ 0 ];\n\n\t\tgood = details.passed;\n\t\tbad = details.failed;\n\n\t\t// This test passed if it has no unexpected failed assertions\n\t\tconst testPassed = details.failed > 0 ? details.todo : !details.todo;\n\n\t\tif ( testPassed ) {\n\n\t\t\t// Collapse the passing tests\n\t\t\taddClass( assertList, \"qunit-collapsed\" );\n\t\t} else {\n\n\t\t\tstats.failedTests.push( details.testId );\n\n\t\t\tif ( config.collapse ) {\n\t\t\t\tif ( !collapseNext ) {\n\n\t\t\t\t\t// Skip collapsing the first failing test\n\t\t\t\t\tcollapseNext = true;\n\t\t\t\t} else {\n\n\t\t\t\t\t// Collapse remaining tests\n\t\t\t\t\taddClass( assertList, \"qunit-collapsed\" );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// The testItem.firstChild is the test name\n\t\ttestTitle = testItem.firstChild;\n\n\t\ttestCounts = bad ?\n\t\t\t\"<b class='failed'>\" + bad + \"</b>, \" + \"<b class='passed'>\" + good + \"</b>, \" :\n\t\t\t\"\";\n\n\t\ttestTitle.innerHTML += \" <b class='counts'>(\" + testCounts +\n\t\tdetails.assertions.length + \")</b>\";\n\n\t\tstats.completed++;\n\n\t\tif ( details.skipped ) {\n\t\t\ttestItem.className = \"skipped\";\n\t\t\tskipped = document.createElement( \"em\" );\n\t\t\tskipped.className = \"qunit-skipped-label\";\n\t\t\tskipped.innerHTML = \"skipped\";\n\t\t\ttestItem.insertBefore( skipped, testTitle );\n\t\t} else {\n\t\t\taddEvent( testTitle, \"click\", function() {\n\t\t\t\ttoggleClass( assertList, \"qunit-collapsed\" );\n\t\t\t} );\n\n\t\t\ttestItem.className = testPassed ? \"pass\" : \"fail\";\n\n\t\t\tif ( details.todo ) {\n\t\t\t\tconst todoLabel = document.createElement( \"em\" );\n\t\t\t\ttodoLabel.className = \"qunit-todo-label\";\n\t\t\t\ttodoLabel.innerHTML = \"todo\";\n\t\t\t\ttestItem.className += \" todo\";\n\t\t\t\ttestItem.insertBefore( todoLabel, testTitle );\n\t\t\t}\n\n\t\t\ttime = document.createElement( \"span\" );\n\t\t\ttime.className = \"runtime\";\n\t\t\ttime.innerHTML = details.runtime + \" ms\";\n\t\t\ttestItem.insertBefore( time, assertList );\n\t\t}\n\n\t\t// Show the source of the test when showing assertions\n\t\tif ( details.source ) {\n\t\t\tsourceName = document.createElement( \"p\" );\n\t\t\tsourceName.innerHTML = \"<strong>Source: </strong>\" + escapeText( details.source );\n\t\t\taddClass( sourceName, \"qunit-source\" );\n\t\t\tif ( testPassed ) {\n\t\t\t\taddClass( sourceName, \"qunit-collapsed\" );\n\t\t\t}\n\t\t\taddEvent( testTitle, \"click\", function() {\n\t\t\t\ttoggleClass( sourceName, \"qunit-collapsed\" );\n\t\t\t} );\n\t\t\ttestItem.appendChild( sourceName );\n\t\t}\n\n\t\tif ( config.hidepassed && ( status === \"passed\" || details.skipped ) ) {\n\n\t\t\t// use removeChild instead of remove because of support\n\t\t\thiddenTests.push( testItem );\n\n\t\t\ttests.removeChild( testItem );\n\t\t}\n\t} );\n\n\tQUnit.on( \"error\", ( error ) => {\n\t\tconst testItem = appendTest( \"global failure\" );\n\t\tif ( !testItem ) {\n\n\t\t\t// HTML Reporter is probably disabled or not yet initialized.\n\t\t\treturn;\n\t\t}\n\n\t\t// Render similar to a failed assertion (see above QUnit.log callback)\n\t\tlet message = escapeText( errorString( error ) );\n\t\tmessage = \"<span class='test-message'>\" + message + \"</span>\";\n\t\tif ( error && error.stack ) {\n\t\t\tmessage += \"<table>\" +\n\t\t\t\t\"<tr class='test-source'><th>Source: </th><td><pre>\" +\n\t\t\t\tescapeText( error.stack ) + \"</pre></td></tr>\" +\n\t\t\t\t\"</table>\";\n\t\t}\n\t\tconst assertList = testItem.getElementsByTagName( \"ol\" )[ 0 ];\n\t\tconst assertLi = document.createElement( \"li\" );\n\t\tassertLi.className = \"fail\";\n\t\tassertLi.innerHTML = message;\n\t\tassertList.appendChild( assertLi );\n\n\t\t// Make it visible\n\t\ttestItem.className = \"fail\";\n\t} );\n\n\t// Avoid readyState issue with phantomjs\n\t// Ref: #818\n\tvar usingPhantom = ( function( p ) {\n\t\treturn ( p && p.version && p.version.major > 0 );\n\t} )( window.phantom );\n\n\tif ( usingPhantom ) {\n\t\tconsole.warn( \"Support for PhantomJS is deprecated and will be removed in QUnit 3.0.\" );\n\t}\n\n\tif ( !usingPhantom && document.readyState === \"complete\" ) {\n\t\tQUnit.load();\n\t} else {\n\t\taddEvent( window, \"load\", QUnit.load );\n\t}\n\n\t// Wrap window.onerror. We will call the original window.onerror to see if\n\t// the existing handler fully handles the error; if not, we will call the\n\t// QUnit.onError function.\n\tvar originalWindowOnError = window.onerror;\n\n\t// Cover uncaught exceptions\n\t// Returning true will suppress the default browser handler,\n\t// returning false will let it run.\n\twindow.onerror = function( message, fileName, lineNumber, columnNumber, errorObj, ...args ) {\n\t\tvar ret = false;\n\t\tif ( originalWindowOnError ) {\n\t\t\tret = originalWindowOnError.call(\n\t\t\t\tthis,\n\t\t\t\tmessage,\n\t\t\t\tfileName,\n\t\t\t\tlineNumber,\n\t\t\t\tcolumnNumber,\n\t\t\t\terrorObj,\n\t\t\t\t...args\n\t\t\t);\n\t\t}\n\n\t\t// Treat return value as window.onerror itself does,\n\t\t// Only do our handling if not suppressed.\n\t\tif ( ret !== true ) {\n\n\t\t\t// If there is a current test that sets the internal `ignoreGlobalErrors` field\n\t\t\t// (such as during `assert.throws()`), then the error is ignored and native\n\t\t\t// error reporting is suppressed as well. This is because in browsers, an error\n\t\t\t// can sometimes end up in `window.onerror` instead of in the local try/catch.\n\t\t\t// This ignoring of errors does not apply to our general onUncaughtException\n\t\t\t// method, nor to our `unhandledRejection` handlers, as those are not meant\n\t\t\t// to receive an \"expected\" error during `assert.throws()`.\n\t\t\tif ( config.current && config.current.ignoreGlobalErrors ) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// According to\n\t\t\t// https://blog.sentry.io/2016/01/04/client-javascript-reporting-window-onerror,\n\t\t\t// most modern browsers support an errorObj argument; use that to\n\t\t\t// get a full stack trace if it's available.\n\t\t\tconst error = errorObj || new Error( message );\n\t\t\tif ( !error.stack && fileName && lineNumber ) {\n\t\t\t\terror.stack = `${fileName}:${lineNumber}`;\n\t\t\t}\n\t\t\tQUnit.onUncaughtException( error );\n\t\t}\n\n\t\treturn ret;\n\t};\n\n\twindow.addEventListener( \"unhandledrejection\", function( event ) {\n\t\tQUnit.onUncaughtException( event.reason );\n\t} );\n}() );\n","import QUnit from \"../core\";\nimport { escapeText } from \"./html\";\n\n/*\n * This file is a modified version of google-diff-match-patch's JavaScript implementation\n * (https://code.google.com/p/google-diff-match-patch/source/browse/trunk/javascript/diff_match_patch_uncompressed.js),\n * modifications are licensed as more fully set forth in LICENSE.txt.\n *\n * The original source of google-diff-match-patch is attributable and licensed as follows:\n *\n * Copyright 2006 Google Inc.\n * https://code.google.com/p/google-diff-match-patch/\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * More Info:\n *  https://code.google.com/p/google-diff-match-patch/\n *\n * Usage: QUnit.diff(expected, actual)\n *\n */\nQUnit.diff = ( function() {\n\tfunction DiffMatchPatch() {\n\t}\n\n\t//  DIFF FUNCTIONS\n\n\t/**\n\t * The data structure representing a diff is an array of tuples:\n\t * [[DIFF_DELETE, 'Hello'], [DIFF_INSERT, 'Goodbye'], [DIFF_EQUAL, ' world.']]\n\t * which means: delete 'Hello', add 'Goodbye' and keep ' world.'\n\t */\n\tvar DIFF_DELETE = -1,\n\t\tDIFF_INSERT = 1,\n\t\tDIFF_EQUAL = 0,\n\t\thasOwn = Object.prototype.hasOwnProperty;\n\n\t/**\n\t * Find the differences between two texts.  Simplifies the problem by stripping\n\t * any common prefix or suffix off the texts before diffing.\n\t * @param {string} text1 Old string to be diffed.\n\t * @param {string} text2 New string to be diffed.\n\t * @param {boolean=} optChecklines Optional speedup flag. If present and false,\n\t *     then don't run a line-level diff first to identify the changed areas.\n\t *     Defaults to true, which does a faster, slightly less optimal diff.\n\t * @return {!Array.<!DiffMatchPatch.Diff>} Array of diff tuples.\n\t */\n\tDiffMatchPatch.prototype.DiffMain = function( text1, text2, optChecklines ) {\n\t\tvar deadline, checklines, commonlength,\n\t\t\tcommonprefix, commonsuffix, diffs;\n\n\t\t// The diff must be complete in up to 1 second.\n\t\tdeadline = ( new Date() ).getTime() + 1000;\n\n\t\t// Check for null inputs.\n\t\tif ( text1 === null || text2 === null ) {\n\t\t\tthrow new Error( \"Null input. (DiffMain)\" );\n\t\t}\n\n\t\t// Check for equality (speedup).\n\t\tif ( text1 === text2 ) {\n\t\t\tif ( text1 ) {\n\t\t\t\treturn [\n\t\t\t\t\t[ DIFF_EQUAL, text1 ]\n\t\t\t\t];\n\t\t\t}\n\t\t\treturn [];\n\t\t}\n\n\t\tif ( typeof optChecklines === \"undefined\" ) {\n\t\t\toptChecklines = true;\n\t\t}\n\n\t\tchecklines = optChecklines;\n\n\t\t// Trim off common prefix (speedup).\n\t\tcommonlength = this.diffCommonPrefix( text1, text2 );\n\t\tcommonprefix = text1.substring( 0, commonlength );\n\t\ttext1 = text1.substring( commonlength );\n\t\ttext2 = text2.substring( commonlength );\n\n\t\t// Trim off common suffix (speedup).\n\t\tcommonlength = this.diffCommonSuffix( text1, text2 );\n\t\tcommonsuffix = text1.substring( text1.length - commonlength );\n\t\ttext1 = text1.substring( 0, text1.length - commonlength );\n\t\ttext2 = text2.substring( 0, text2.length - commonlength );\n\n\t\t// Compute the diff on the middle block.\n\t\tdiffs = this.diffCompute( text1, text2, checklines, deadline );\n\n\t\t// Restore the prefix and suffix.\n\t\tif ( commonprefix ) {\n\t\t\tdiffs.unshift( [ DIFF_EQUAL, commonprefix ] );\n\t\t}\n\t\tif ( commonsuffix ) {\n\t\t\tdiffs.push( [ DIFF_EQUAL, commonsuffix ] );\n\t\t}\n\t\tthis.diffCleanupMerge( diffs );\n\t\treturn diffs;\n\t};\n\n\t/**\n\t * Reduce the number of edits by eliminating operationally trivial equalities.\n\t * @param {!Array.<!DiffMatchPatch.Diff>} diffs Array of diff tuples.\n\t */\n\tDiffMatchPatch.prototype.diffCleanupEfficiency = function( diffs ) {\n\t\tvar changes, equalities, equalitiesLength, lastequality,\n\t\t\tpointer, preIns, preDel, postIns, postDel;\n\t\tchanges = false;\n\t\tequalities = []; // Stack of indices where equalities are found.\n\t\tequalitiesLength = 0; // Keeping our own length var is faster in JS.\n\t\t/** @type {?string} */\n\t\tlastequality = null;\n\n\t\t// Always equal to diffs[equalities[equalitiesLength - 1]][1]\n\t\tpointer = 0; // Index of current position.\n\n\t\t// Is there an insertion operation before the last equality.\n\t\tpreIns = false;\n\n\t\t// Is there a deletion operation before the last equality.\n\t\tpreDel = false;\n\n\t\t// Is there an insertion operation after the last equality.\n\t\tpostIns = false;\n\n\t\t// Is there a deletion operation after the last equality.\n\t\tpostDel = false;\n\t\twhile ( pointer < diffs.length ) {\n\n\t\t\t// Equality found.\n\t\t\tif ( diffs[ pointer ][ 0 ] === DIFF_EQUAL ) {\n\t\t\t\tif ( diffs[ pointer ][ 1 ].length < 4 && ( postIns || postDel ) ) {\n\n\t\t\t\t\t// Candidate found.\n\t\t\t\t\tequalities[ equalitiesLength++ ] = pointer;\n\t\t\t\t\tpreIns = postIns;\n\t\t\t\t\tpreDel = postDel;\n\t\t\t\t\tlastequality = diffs[ pointer ][ 1 ];\n\t\t\t\t} else {\n\n\t\t\t\t\t// Not a candidate, and can never become one.\n\t\t\t\t\tequalitiesLength = 0;\n\t\t\t\t\tlastequality = null;\n\t\t\t\t}\n\t\t\t\tpostIns = postDel = false;\n\n\t\t\t// An insertion or deletion.\n\t\t\t} else {\n\n\t\t\t\tif ( diffs[ pointer ][ 0 ] === DIFF_DELETE ) {\n\t\t\t\t\tpostDel = true;\n\t\t\t\t} else {\n\t\t\t\t\tpostIns = true;\n\t\t\t\t}\n\n\t\t\t\t/*\n\t\t\t\t * Five types to be split:\n\t\t\t\t * <ins>A</ins><del>B</del>XY<ins>C</ins><del>D</del>\n\t\t\t\t * <ins>A</ins>X<ins>C</ins><del>D</del>\n\t\t\t\t * <ins>A</ins><del>B</del>X<ins>C</ins>\n\t\t\t\t * <ins>A</del>X<ins>C</ins><del>D</del>\n\t\t\t\t * <ins>A</ins><del>B</del>X<del>C</del>\n\t\t\t\t */\n\t\t\t\tif ( lastequality && ( ( preIns && preDel && postIns && postDel ) ||\n\t\t\t\t\t\t( ( lastequality.length < 2 ) &&\n\t\t\t\t\t\t( preIns + preDel + postIns + postDel ) === 3 ) ) ) {\n\n\t\t\t\t\t// Duplicate record.\n\t\t\t\t\tdiffs.splice(\n\t\t\t\t\t\tequalities[ equalitiesLength - 1 ],\n\t\t\t\t\t\t0,\n\t\t\t\t\t\t[ DIFF_DELETE, lastequality ]\n\t\t\t\t\t);\n\n\t\t\t\t\t// Change second copy to insert.\n\t\t\t\t\tdiffs[ equalities[ equalitiesLength - 1 ] + 1 ][ 0 ] = DIFF_INSERT;\n\t\t\t\t\tequalitiesLength--; // Throw away the equality we just deleted;\n\t\t\t\t\tlastequality = null;\n\t\t\t\t\tif ( preIns && preDel ) {\n\n\t\t\t\t\t\t// No changes made which could affect previous entry, keep going.\n\t\t\t\t\t\tpostIns = postDel = true;\n\t\t\t\t\t\tequalitiesLength = 0;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tequalitiesLength--; // Throw away the previous equality.\n\t\t\t\t\t\tpointer = equalitiesLength > 0 ? equalities[ equalitiesLength - 1 ] : -1;\n\t\t\t\t\t\tpostIns = postDel = false;\n\t\t\t\t\t}\n\t\t\t\t\tchanges = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tpointer++;\n\t\t}\n\n\t\tif ( changes ) {\n\t\t\tthis.diffCleanupMerge( diffs );\n\t\t}\n\t};\n\n\t/**\n\t * Convert a diff array into a pretty HTML report.\n\t * @param {!Array.<!DiffMatchPatch.Diff>} diffs Array of diff tuples.\n\t * @param {integer} string to be beautified.\n\t * @return {string} HTML representation.\n\t */\n\tDiffMatchPatch.prototype.diffPrettyHtml = function( diffs ) {\n\t\tvar op, data, x,\n\t\t\thtml = [];\n\t\tfor ( x = 0; x < diffs.length; x++ ) {\n\t\t\top = diffs[ x ][ 0 ]; // Operation (insert, delete, equal)\n\t\t\tdata = diffs[ x ][ 1 ]; // Text of change.\n\t\t\tswitch ( op ) {\n\t\t\tcase DIFF_INSERT:\n\t\t\t\thtml[ x ] = \"<ins>\" + escapeText( data ) + \"</ins>\";\n\t\t\t\tbreak;\n\t\t\tcase DIFF_DELETE:\n\t\t\t\thtml[ x ] = \"<del>\" + escapeText( data ) + \"</del>\";\n\t\t\t\tbreak;\n\t\t\tcase DIFF_EQUAL:\n\t\t\t\thtml[ x ] = \"<span>\" + escapeText( data ) + \"</span>\";\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn html.join( \"\" );\n\t};\n\n\t/**\n\t * Determine the common prefix of two strings.\n\t * @param {string} text1 First string.\n\t * @param {string} text2 Second string.\n\t * @return {number} The number of characters common to the start of each\n\t *     string.\n\t */\n\tDiffMatchPatch.prototype.diffCommonPrefix = function( text1, text2 ) {\n\t\tvar pointermid, pointermax, pointermin, pointerstart;\n\n\t\t// Quick check for common null cases.\n\t\tif ( !text1 || !text2 || text1.charAt( 0 ) !== text2.charAt( 0 ) ) {\n\t\t\treturn 0;\n\t\t}\n\n\t\t// Binary search.\n\t\t// Performance analysis: https://neil.fraser.name/news/2007/10/09/\n\t\tpointermin = 0;\n\t\tpointermax = Math.min( text1.length, text2.length );\n\t\tpointermid = pointermax;\n\t\tpointerstart = 0;\n\t\twhile ( pointermin < pointermid ) {\n\t\t\tif ( text1.substring( pointerstart, pointermid ) ===\n\t\t\t\t\ttext2.substring( pointerstart, pointermid ) ) {\n\t\t\t\tpointermin = pointermid;\n\t\t\t\tpointerstart = pointermin;\n\t\t\t} else {\n\t\t\t\tpointermax = pointermid;\n\t\t\t}\n\t\t\tpointermid = Math.floor( ( pointermax - pointermin ) / 2 + pointermin );\n\t\t}\n\t\treturn pointermid;\n\t};\n\n\t/**\n\t * Determine the common suffix of two strings.\n\t * @param {string} text1 First string.\n\t * @param {string} text2 Second string.\n\t * @return {number} The number of characters common to the end of each string.\n\t */\n\tDiffMatchPatch.prototype.diffCommonSuffix = function( text1, text2 ) {\n\t\tvar pointermid, pointermax, pointermin, pointerend;\n\n\t\t// Quick check for common null cases.\n\t\tif ( !text1 ||\n\t\t\t\t!text2 ||\n\t\t\t\ttext1.charAt( text1.length - 1 ) !== text2.charAt( text2.length - 1 ) ) {\n\t\t\treturn 0;\n\t\t}\n\n\t\t// Binary search.\n\t\t// Performance analysis: https://neil.fraser.name/news/2007/10/09/\n\t\tpointermin = 0;\n\t\tpointermax = Math.min( text1.length, text2.length );\n\t\tpointermid = pointermax;\n\t\tpointerend = 0;\n\t\twhile ( pointermin < pointermid ) {\n\t\t\tif ( text1.substring( text1.length - pointermid, text1.length - pointerend ) ===\n\t\t\t\t\ttext2.substring( text2.length - pointermid, text2.length - pointerend ) ) {\n\t\t\t\tpointermin = pointermid;\n\t\t\t\tpointerend = pointermin;\n\t\t\t} else {\n\t\t\t\tpointermax = pointermid;\n\t\t\t}\n\t\t\tpointermid = Math.floor( ( pointermax - pointermin ) / 2 + pointermin );\n\t\t}\n\t\treturn pointermid;\n\t};\n\n\t/**\n\t * Find the differences between two texts.  Assumes that the texts do not\n\t * have any common prefix or suffix.\n\t * @param {string} text1 Old string to be diffed.\n\t * @param {string} text2 New string to be diffed.\n\t * @param {boolean} checklines Speedup flag.  If false, then don't run a\n\t *     line-level diff first to identify the changed areas.\n\t *     If true, then run a faster, slightly less optimal diff.\n\t * @param {number} deadline Time when the diff should be complete by.\n\t * @return {!Array.<!DiffMatchPatch.Diff>} Array of diff tuples.\n\t * @private\n\t */\n\tDiffMatchPatch.prototype.diffCompute = function( text1, text2, checklines, deadline ) {\n\t\tvar diffs, longtext, shorttext, i, hm,\n\t\t\ttext1A, text2A, text1B, text2B,\n\t\t\tmidCommon, diffsA, diffsB;\n\n\t\tif ( !text1 ) {\n\n\t\t\t// Just add some text (speedup).\n\t\t\treturn [\n\t\t\t\t[ DIFF_INSERT, text2 ]\n\t\t\t];\n\t\t}\n\n\t\tif ( !text2 ) {\n\n\t\t\t// Just delete some text (speedup).\n\t\t\treturn [\n\t\t\t\t[ DIFF_DELETE, text1 ]\n\t\t\t];\n\t\t}\n\n\t\tlongtext = text1.length > text2.length ? text1 : text2;\n\t\tshorttext = text1.length > text2.length ? text2 : text1;\n\t\ti = longtext.indexOf( shorttext );\n\t\tif ( i !== -1 ) {\n\n\t\t\t// Shorter text is inside the longer text (speedup).\n\t\t\tdiffs = [\n\t\t\t\t[ DIFF_INSERT, longtext.substring( 0, i ) ],\n\t\t\t\t[ DIFF_EQUAL, shorttext ],\n\t\t\t\t[ DIFF_INSERT, longtext.substring( i + shorttext.length ) ]\n\t\t\t];\n\n\t\t\t// Swap insertions for deletions if diff is reversed.\n\t\t\tif ( text1.length > text2.length ) {\n\t\t\t\tdiffs[ 0 ][ 0 ] = diffs[ 2 ][ 0 ] = DIFF_DELETE;\n\t\t\t}\n\t\t\treturn diffs;\n\t\t}\n\n\t\tif ( shorttext.length === 1 ) {\n\n\t\t\t// Single character string.\n\t\t\t// After the previous speedup, the character can't be an equality.\n\t\t\treturn [\n\t\t\t\t[ DIFF_DELETE, text1 ],\n\t\t\t\t[ DIFF_INSERT, text2 ]\n\t\t\t];\n\t\t}\n\n\t\t// Check to see if the problem can be split in two.\n\t\thm = this.diffHalfMatch( text1, text2 );\n\t\tif ( hm ) {\n\n\t\t\t// A half-match was found, sort out the return data.\n\t\t\ttext1A = hm[ 0 ];\n\t\t\ttext1B = hm[ 1 ];\n\t\t\ttext2A = hm[ 2 ];\n\t\t\ttext2B = hm[ 3 ];\n\t\t\tmidCommon = hm[ 4 ];\n\n\t\t\t// Send both pairs off for separate processing.\n\t\t\tdiffsA = this.DiffMain( text1A, text2A, checklines, deadline );\n\t\t\tdiffsB = this.DiffMain( text1B, text2B, checklines, deadline );\n\n\t\t\t// Merge the results.\n\t\t\treturn diffsA.concat( [\n\t\t\t\t[ DIFF_EQUAL, midCommon ]\n\t\t\t], diffsB );\n\t\t}\n\n\t\tif ( checklines && text1.length > 100 && text2.length > 100 ) {\n\t\t\treturn this.diffLineMode( text1, text2, deadline );\n\t\t}\n\n\t\treturn this.diffBisect( text1, text2, deadline );\n\t};\n\n\t/**\n\t * Do the two texts share a substring which is at least half the length of the\n\t * longer text?\n\t * This speedup can produce non-minimal diffs.\n\t * @param {string} text1 First string.\n\t * @param {string} text2 Second string.\n\t * @return {Array.<string>} Five element Array, containing the prefix of\n\t *     text1, the suffix of text1, the prefix of text2, the suffix of\n\t *     text2 and the common middle.  Or null if there was no match.\n\t * @private\n\t */\n\tDiffMatchPatch.prototype.diffHalfMatch = function( text1, text2 ) {\n\t\tvar longtext, shorttext, dmp,\n\t\t\ttext1A, text2B, text2A, text1B, midCommon,\n\t\t\thm1, hm2, hm;\n\n\t\tlongtext = text1.length > text2.length ? text1 : text2;\n\t\tshorttext = text1.length > text2.length ? text2 : text1;\n\t\tif ( longtext.length < 4 || shorttext.length * 2 < longtext.length ) {\n\t\t\treturn null; // Pointless.\n\t\t}\n\t\tdmp = this; // 'this' becomes 'window' in a closure.\n\n\t\t/**\n\t\t * Does a substring of shorttext exist within longtext such that the substring\n\t\t * is at least half the length of longtext?\n\t\t * Closure, but does not reference any external variables.\n\t\t * @param {string} longtext Longer string.\n\t\t * @param {string} shorttext Shorter string.\n\t\t * @param {number} i Start index of quarter length substring within longtext.\n\t\t * @return {Array.<string>} Five element Array, containing the prefix of\n\t\t *     longtext, the suffix of longtext, the prefix of shorttext, the suffix\n\t\t *     of shorttext and the common middle.  Or null if there was no match.\n\t\t * @private\n\t\t */\n\t\tfunction diffHalfMatchI( longtext, shorttext, i ) {\n\t\t\tvar seed, j, bestCommon, prefixLength, suffixLength,\n\t\t\t\tbestLongtextA, bestLongtextB, bestShorttextA, bestShorttextB;\n\n\t\t\t// Start with a 1/4 length substring at position i as a seed.\n\t\t\tseed = longtext.substring( i, i + Math.floor( longtext.length / 4 ) );\n\t\t\tj = -1;\n\t\t\tbestCommon = \"\";\n\t\t\twhile ( ( j = shorttext.indexOf( seed, j + 1 ) ) !== -1 ) {\n\t\t\t\tprefixLength = dmp.diffCommonPrefix( longtext.substring( i ),\n\t\t\t\t\tshorttext.substring( j ) );\n\t\t\t\tsuffixLength = dmp.diffCommonSuffix( longtext.substring( 0, i ),\n\t\t\t\t\tshorttext.substring( 0, j ) );\n\t\t\t\tif ( bestCommon.length < suffixLength + prefixLength ) {\n\t\t\t\t\tbestCommon = shorttext.substring( j - suffixLength, j ) +\n\t\t\t\t\t\tshorttext.substring( j, j + prefixLength );\n\t\t\t\t\tbestLongtextA = longtext.substring( 0, i - suffixLength );\n\t\t\t\t\tbestLongtextB = longtext.substring( i + prefixLength );\n\t\t\t\t\tbestShorttextA = shorttext.substring( 0, j - suffixLength );\n\t\t\t\t\tbestShorttextB = shorttext.substring( j + prefixLength );\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ( bestCommon.length * 2 >= longtext.length ) {\n\t\t\t\treturn [ bestLongtextA, bestLongtextB,\n\t\t\t\t\tbestShorttextA, bestShorttextB, bestCommon\n\t\t\t\t];\n\t\t\t} else {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\n\t\t// First check if the second quarter is the seed for a half-match.\n\t\thm1 = diffHalfMatchI( longtext, shorttext,\n\t\t\tMath.ceil( longtext.length / 4 ) );\n\n\t\t// Check again based on the third quarter.\n\t\thm2 = diffHalfMatchI( longtext, shorttext,\n\t\t\tMath.ceil( longtext.length / 2 ) );\n\t\tif ( !hm1 && !hm2 ) {\n\t\t\treturn null;\n\t\t} else if ( !hm2 ) {\n\t\t\thm = hm1;\n\t\t} else if ( !hm1 ) {\n\t\t\thm = hm2;\n\t\t} else {\n\n\t\t\t// Both matched.  Select the longest.\n\t\t\thm = hm1[ 4 ].length > hm2[ 4 ].length ? hm1 : hm2;\n\t\t}\n\n\t\t// A half-match was found, sort out the return data.\n\t\tif ( text1.length > text2.length ) {\n\t\t\ttext1A = hm[ 0 ];\n\t\t\ttext1B = hm[ 1 ];\n\t\t\ttext2A = hm[ 2 ];\n\t\t\ttext2B = hm[ 3 ];\n\t\t} else {\n\t\t\ttext2A = hm[ 0 ];\n\t\t\ttext2B = hm[ 1 ];\n\t\t\ttext1A = hm[ 2 ];\n\t\t\ttext1B = hm[ 3 ];\n\t\t}\n\t\tmidCommon = hm[ 4 ];\n\t\treturn [ text1A, text1B, text2A, text2B, midCommon ];\n\t};\n\n\t/**\n\t * Do a quick line-level diff on both strings, then rediff the parts for\n\t * greater accuracy.\n\t * This speedup can produce non-minimal diffs.\n\t * @param {string} text1 Old string to be diffed.\n\t * @param {string} text2 New string to be diffed.\n\t * @param {number} deadline Time when the diff should be complete by.\n\t * @return {!Array.<!DiffMatchPatch.Diff>} Array of diff tuples.\n\t * @private\n\t */\n\tDiffMatchPatch.prototype.diffLineMode = function( text1, text2, deadline ) {\n\t\tvar a, diffs, linearray, pointer, countInsert,\n\t\t\tcountDelete, textInsert, textDelete, j;\n\n\t\t// Scan the text on a line-by-line basis first.\n\t\ta = this.diffLinesToChars( text1, text2 );\n\t\ttext1 = a.chars1;\n\t\ttext2 = a.chars2;\n\t\tlinearray = a.lineArray;\n\n\t\tdiffs = this.DiffMain( text1, text2, false, deadline );\n\n\t\t// Convert the diff back to original text.\n\t\tthis.diffCharsToLines( diffs, linearray );\n\n\t\t// Eliminate freak matches (e.g. blank lines)\n\t\tthis.diffCleanupSemantic( diffs );\n\n\t\t// Rediff any replacement blocks, this time character-by-character.\n\t\t// Add a dummy entry at the end.\n\t\tdiffs.push( [ DIFF_EQUAL, \"\" ] );\n\t\tpointer = 0;\n\t\tcountDelete = 0;\n\t\tcountInsert = 0;\n\t\ttextDelete = \"\";\n\t\ttextInsert = \"\";\n\t\twhile ( pointer < diffs.length ) {\n\t\t\tswitch ( diffs[ pointer ][ 0 ] ) {\n\t\t\tcase DIFF_INSERT:\n\t\t\t\tcountInsert++;\n\t\t\t\ttextInsert += diffs[ pointer ][ 1 ];\n\t\t\t\tbreak;\n\t\t\tcase DIFF_DELETE:\n\t\t\t\tcountDelete++;\n\t\t\t\ttextDelete += diffs[ pointer ][ 1 ];\n\t\t\t\tbreak;\n\t\t\tcase DIFF_EQUAL:\n\n\t\t\t\t// Upon reaching an equality, check for prior redundancies.\n\t\t\t\tif ( countDelete >= 1 && countInsert >= 1 ) {\n\n\t\t\t\t\t// Delete the offending records and add the merged ones.\n\t\t\t\t\tdiffs.splice( pointer - countDelete - countInsert,\n\t\t\t\t\t\tcountDelete + countInsert );\n\t\t\t\t\tpointer = pointer - countDelete - countInsert;\n\t\t\t\t\ta = this.DiffMain( textDelete, textInsert, false, deadline );\n\t\t\t\t\tfor ( j = a.length - 1; j >= 0; j-- ) {\n\t\t\t\t\t\tdiffs.splice( pointer, 0, a[ j ] );\n\t\t\t\t\t}\n\t\t\t\t\tpointer = pointer + a.length;\n\t\t\t\t}\n\t\t\t\tcountInsert = 0;\n\t\t\t\tcountDelete = 0;\n\t\t\t\ttextDelete = \"\";\n\t\t\t\ttextInsert = \"\";\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tpointer++;\n\t\t}\n\t\tdiffs.pop(); // Remove the dummy entry at the end.\n\n\t\treturn diffs;\n\t};\n\n\t/**\n\t * Find the 'middle snake' of a diff, split the problem in two\n\t * and return the recursively constructed diff.\n\t * See Myers 1986 paper: An O(ND) Difference Algorithm and Its Variations.\n\t * @param {string} text1 Old string to be diffed.\n\t * @param {string} text2 New string to be diffed.\n\t * @param {number} deadline Time at which to bail if not yet complete.\n\t * @return {!Array.<!DiffMatchPatch.Diff>} Array of diff tuples.\n\t * @private\n\t */\n\tDiffMatchPatch.prototype.diffBisect = function( text1, text2, deadline ) {\n\t\tvar text1Length, text2Length, maxD, vOffset, vLength,\n\t\t\tv1, v2, x, delta, front, k1start, k1end, k2start,\n\t\t\tk2end, k2Offset, k1Offset, x1, x2, y1, y2, d, k1, k2;\n\n\t\t// Cache the text lengths to prevent multiple calls.\n\t\ttext1Length = text1.length;\n\t\ttext2Length = text2.length;\n\t\tmaxD = Math.ceil( ( text1Length + text2Length ) / 2 );\n\t\tvOffset = maxD;\n\t\tvLength = 2 * maxD;\n\t\tv1 = new Array( vLength );\n\t\tv2 = new Array( vLength );\n\n\t\t// Setting all elements to -1 is faster in Chrome & Firefox than mixing\n\t\t// integers and undefined.\n\t\tfor ( x = 0; x < vLength; x++ ) {\n\t\t\tv1[ x ] = -1;\n\t\t\tv2[ x ] = -1;\n\t\t}\n\t\tv1[ vOffset + 1 ] = 0;\n\t\tv2[ vOffset + 1 ] = 0;\n\t\tdelta = text1Length - text2Length;\n\n\t\t// If the total number of characters is odd, then the front path will collide\n\t\t// with the reverse path.\n\t\tfront = ( delta % 2 !== 0 );\n\n\t\t// Offsets for start and end of k loop.\n\t\t// Prevents mapping of space beyond the grid.\n\t\tk1start = 0;\n\t\tk1end = 0;\n\t\tk2start = 0;\n\t\tk2end = 0;\n\t\tfor ( d = 0; d < maxD; d++ ) {\n\n\t\t\t// Bail out if deadline is reached.\n\t\t\tif ( ( new Date() ).getTime() > deadline ) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\t// Walk the front path one step.\n\t\t\tfor ( k1 = -d + k1start; k1 <= d - k1end; k1 += 2 ) {\n\t\t\t\tk1Offset = vOffset + k1;\n\t\t\t\tif ( k1 === -d || ( k1 !== d && v1[ k1Offset - 1 ] < v1[ k1Offset + 1 ] ) ) {\n\t\t\t\t\tx1 = v1[ k1Offset + 1 ];\n\t\t\t\t} else {\n\t\t\t\t\tx1 = v1[ k1Offset - 1 ] + 1;\n\t\t\t\t}\n\t\t\t\ty1 = x1 - k1;\n\t\t\t\twhile ( x1 < text1Length && y1 < text2Length &&\n\t\t\t\t\ttext1.charAt( x1 ) === text2.charAt( y1 ) ) {\n\t\t\t\t\tx1++;\n\t\t\t\t\ty1++;\n\t\t\t\t}\n\t\t\t\tv1[ k1Offset ] = x1;\n\t\t\t\tif ( x1 > text1Length ) {\n\n\t\t\t\t\t// Ran off the right of the graph.\n\t\t\t\t\tk1end += 2;\n\t\t\t\t} else if ( y1 > text2Length ) {\n\n\t\t\t\t\t// Ran off the bottom of the graph.\n\t\t\t\t\tk1start += 2;\n\t\t\t\t} else if ( front ) {\n\t\t\t\t\tk2Offset = vOffset + delta - k1;\n\t\t\t\t\tif ( k2Offset >= 0 && k2Offset < vLength && v2[ k2Offset ] !== -1 ) {\n\n\t\t\t\t\t\t// Mirror x2 onto top-left coordinate system.\n\t\t\t\t\t\tx2 = text1Length - v2[ k2Offset ];\n\t\t\t\t\t\tif ( x1 >= x2 ) {\n\n\t\t\t\t\t\t\t// Overlap detected.\n\t\t\t\t\t\t\treturn this.diffBisectSplit( text1, text2, x1, y1, deadline );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Walk the reverse path one step.\n\t\t\tfor ( k2 = -d + k2start; k2 <= d - k2end; k2 += 2 ) {\n\t\t\t\tk2Offset = vOffset + k2;\n\t\t\t\tif ( k2 === -d || ( k2 !== d && v2[ k2Offset - 1 ] < v2[ k2Offset + 1 ] ) ) {\n\t\t\t\t\tx2 = v2[ k2Offset + 1 ];\n\t\t\t\t} else {\n\t\t\t\t\tx2 = v2[ k2Offset - 1 ] + 1;\n\t\t\t\t}\n\t\t\t\ty2 = x2 - k2;\n\t\t\t\twhile ( x2 < text1Length && y2 < text2Length &&\n\t\t\t\t\ttext1.charAt( text1Length - x2 - 1 ) ===\n\t\t\t\t\ttext2.charAt( text2Length - y2 - 1 ) ) {\n\t\t\t\t\tx2++;\n\t\t\t\t\ty2++;\n\t\t\t\t}\n\t\t\t\tv2[ k2Offset ] = x2;\n\t\t\t\tif ( x2 > text1Length ) {\n\n\t\t\t\t\t// Ran off the left of the graph.\n\t\t\t\t\tk2end += 2;\n\t\t\t\t} else if ( y2 > text2Length ) {\n\n\t\t\t\t\t// Ran off the top of the graph.\n\t\t\t\t\tk2start += 2;\n\t\t\t\t} else if ( !front ) {\n\t\t\t\t\tk1Offset = vOffset + delta - k2;\n\t\t\t\t\tif ( k1Offset >= 0 && k1Offset < vLength && v1[ k1Offset ] !== -1 ) {\n\t\t\t\t\t\tx1 = v1[ k1Offset ];\n\t\t\t\t\t\ty1 = vOffset + x1 - k1Offset;\n\n\t\t\t\t\t\t// Mirror x2 onto top-left coordinate system.\n\t\t\t\t\t\tx2 = text1Length - x2;\n\t\t\t\t\t\tif ( x1 >= x2 ) {\n\n\t\t\t\t\t\t\t// Overlap detected.\n\t\t\t\t\t\t\treturn this.diffBisectSplit( text1, text2, x1, y1, deadline );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Diff took too long and hit the deadline or\n\t\t// number of diffs equals number of characters, no commonality at all.\n\t\treturn [\n\t\t\t[ DIFF_DELETE, text1 ],\n\t\t\t[ DIFF_INSERT, text2 ]\n\t\t];\n\t};\n\n\t/**\n\t * Given the location of the 'middle snake', split the diff in two parts\n\t * and recurse.\n\t * @param {string} text1 Old string to be diffed.\n\t * @param {string} text2 New string to be diffed.\n\t * @param {number} x Index of split point in text1.\n\t * @param {number} y Index of split point in text2.\n\t * @param {number} deadline Time at which to bail if not yet complete.\n\t * @return {!Array.<!DiffMatchPatch.Diff>} Array of diff tuples.\n\t * @private\n\t */\n\tDiffMatchPatch.prototype.diffBisectSplit = function( text1, text2, x, y, deadline ) {\n\t\tvar text1a, text1b, text2a, text2b, diffs, diffsb;\n\t\ttext1a = text1.substring( 0, x );\n\t\ttext2a = text2.substring( 0, y );\n\t\ttext1b = text1.substring( x );\n\t\ttext2b = text2.substring( y );\n\n\t\t// Compute both diffs serially.\n\t\tdiffs = this.DiffMain( text1a, text2a, false, deadline );\n\t\tdiffsb = this.DiffMain( text1b, text2b, false, deadline );\n\n\t\treturn diffs.concat( diffsb );\n\t};\n\n\t/**\n\t * Reduce the number of edits by eliminating semantically trivial equalities.\n\t * @param {!Array.<!DiffMatchPatch.Diff>} diffs Array of diff tuples.\n\t */\n\tDiffMatchPatch.prototype.diffCleanupSemantic = function( diffs ) {\n\t\tvar changes, equalities, equalitiesLength, lastequality,\n\t\t\tpointer, lengthInsertions2, lengthDeletions2, lengthInsertions1,\n\t\t\tlengthDeletions1, deletion, insertion, overlapLength1, overlapLength2;\n\t\tchanges = false;\n\t\tequalities = []; // Stack of indices where equalities are found.\n\t\tequalitiesLength = 0; // Keeping our own length var is faster in JS.\n\t\t/** @type {?string} */\n\t\tlastequality = null;\n\n\t\t// Always equal to diffs[equalities[equalitiesLength - 1]][1]\n\t\tpointer = 0; // Index of current position.\n\n\t\t// Number of characters that changed prior to the equality.\n\t\tlengthInsertions1 = 0;\n\t\tlengthDeletions1 = 0;\n\n\t\t// Number of characters that changed after the equality.\n\t\tlengthInsertions2 = 0;\n\t\tlengthDeletions2 = 0;\n\t\twhile ( pointer < diffs.length ) {\n\t\t\tif ( diffs[ pointer ][ 0 ] === DIFF_EQUAL ) { // Equality found.\n\t\t\t\tequalities[ equalitiesLength++ ] = pointer;\n\t\t\t\tlengthInsertions1 = lengthInsertions2;\n\t\t\t\tlengthDeletions1 = lengthDeletions2;\n\t\t\t\tlengthInsertions2 = 0;\n\t\t\t\tlengthDeletions2 = 0;\n\t\t\t\tlastequality = diffs[ pointer ][ 1 ];\n\t\t\t} else { // An insertion or deletion.\n\t\t\t\tif ( diffs[ pointer ][ 0 ] === DIFF_INSERT ) {\n\t\t\t\t\tlengthInsertions2 += diffs[ pointer ][ 1 ].length;\n\t\t\t\t} else {\n\t\t\t\t\tlengthDeletions2 += diffs[ pointer ][ 1 ].length;\n\t\t\t\t}\n\n\t\t\t\t// Eliminate an equality that is smaller or equal to the edits on both\n\t\t\t\t// sides of it.\n\t\t\t\tif ( lastequality && ( lastequality.length <=\n\t\t\t\t\t\tMath.max( lengthInsertions1, lengthDeletions1 ) ) &&\n\t\t\t\t\t\t( lastequality.length <= Math.max( lengthInsertions2,\n\t\t\t\t\t\t\tlengthDeletions2 ) ) ) {\n\n\t\t\t\t\t// Duplicate record.\n\t\t\t\t\tdiffs.splice(\n\t\t\t\t\t\tequalities[ equalitiesLength - 1 ],\n\t\t\t\t\t\t0,\n\t\t\t\t\t\t[ DIFF_DELETE, lastequality ]\n\t\t\t\t\t);\n\n\t\t\t\t\t// Change second copy to insert.\n\t\t\t\t\tdiffs[ equalities[ equalitiesLength - 1 ] + 1 ][ 0 ] = DIFF_INSERT;\n\n\t\t\t\t\t// Throw away the equality we just deleted.\n\t\t\t\t\tequalitiesLength--;\n\n\t\t\t\t\t// Throw away the previous equality (it needs to be reevaluated).\n\t\t\t\t\tequalitiesLength--;\n\t\t\t\t\tpointer = equalitiesLength > 0 ? equalities[ equalitiesLength - 1 ] : -1;\n\n\t\t\t\t\t// Reset the counters.\n\t\t\t\t\tlengthInsertions1 = 0;\n\t\t\t\t\tlengthDeletions1 = 0;\n\t\t\t\t\tlengthInsertions2 = 0;\n\t\t\t\t\tlengthDeletions2 = 0;\n\t\t\t\t\tlastequality = null;\n\t\t\t\t\tchanges = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tpointer++;\n\t\t}\n\n\t\t// Normalize the diff.\n\t\tif ( changes ) {\n\t\t\tthis.diffCleanupMerge( diffs );\n\t\t}\n\n\t\t// Find any overlaps between deletions and insertions.\n\t\t// e.g: <del>abcxxx</del><ins>xxxdef</ins>\n\t\t//   -> <del>abc</del>xxx<ins>def</ins>\n\t\t// e.g: <del>xxxabc</del><ins>defxxx</ins>\n\t\t//   -> <ins>def</ins>xxx<del>abc</del>\n\t\t// Only extract an overlap if it is as big as the edit ahead or behind it.\n\t\tpointer = 1;\n\t\twhile ( pointer < diffs.length ) {\n\t\t\tif ( diffs[ pointer - 1 ][ 0 ] === DIFF_DELETE &&\n\t\t\t\t\tdiffs[ pointer ][ 0 ] === DIFF_INSERT ) {\n\t\t\t\tdeletion = diffs[ pointer - 1 ][ 1 ];\n\t\t\t\tinsertion = diffs[ pointer ][ 1 ];\n\t\t\t\toverlapLength1 = this.diffCommonOverlap( deletion, insertion );\n\t\t\t\toverlapLength2 = this.diffCommonOverlap( insertion, deletion );\n\t\t\t\tif ( overlapLength1 >= overlapLength2 ) {\n\t\t\t\t\tif ( overlapLength1 >= deletion.length / 2 ||\n\t\t\t\t\t\t\toverlapLength1 >= insertion.length / 2 ) {\n\n\t\t\t\t\t\t// Overlap found.  Insert an equality and trim the surrounding edits.\n\t\t\t\t\t\tdiffs.splice(\n\t\t\t\t\t\t\tpointer,\n\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t[ DIFF_EQUAL, insertion.substring( 0, overlapLength1 ) ]\n\t\t\t\t\t\t);\n\t\t\t\t\t\tdiffs[ pointer - 1 ][ 1 ] =\n\t\t\t\t\t\t\tdeletion.substring( 0, deletion.length - overlapLength1 );\n\t\t\t\t\t\tdiffs[ pointer + 1 ][ 1 ] = insertion.substring( overlapLength1 );\n\t\t\t\t\t\tpointer++;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif ( overlapLength2 >= deletion.length / 2 ||\n\t\t\t\t\t\t\toverlapLength2 >= insertion.length / 2 ) {\n\n\t\t\t\t\t\t// Reverse overlap found.\n\t\t\t\t\t\t// Insert an equality and swap and trim the surrounding edits.\n\t\t\t\t\t\tdiffs.splice(\n\t\t\t\t\t\t\tpointer,\n\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t[ DIFF_EQUAL, deletion.substring( 0, overlapLength2 ) ]\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tdiffs[ pointer - 1 ][ 0 ] = DIFF_INSERT;\n\t\t\t\t\t\tdiffs[ pointer - 1 ][ 1 ] =\n\t\t\t\t\t\t\tinsertion.substring( 0, insertion.length - overlapLength2 );\n\t\t\t\t\t\tdiffs[ pointer + 1 ][ 0 ] = DIFF_DELETE;\n\t\t\t\t\t\tdiffs[ pointer + 1 ][ 1 ] =\n\t\t\t\t\t\t\tdeletion.substring( overlapLength2 );\n\t\t\t\t\t\tpointer++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tpointer++;\n\t\t\t}\n\t\t\tpointer++;\n\t\t}\n\t};\n\n\t/**\n\t * Determine if the suffix of one string is the prefix of another.\n\t * @param {string} text1 First string.\n\t * @param {string} text2 Second string.\n\t * @return {number} The number of characters common to the end of the first\n\t *     string and the start of the second string.\n\t * @private\n\t */\n\tDiffMatchPatch.prototype.diffCommonOverlap = function( text1, text2 ) {\n\t\tvar text1Length, text2Length, textLength,\n\t\t\tbest, length, pattern, found;\n\n\t\t// Cache the text lengths to prevent multiple calls.\n\t\ttext1Length = text1.length;\n\t\ttext2Length = text2.length;\n\n\t\t// Eliminate the null case.\n\t\tif ( text1Length === 0 || text2Length === 0 ) {\n\t\t\treturn 0;\n\t\t}\n\n\t\t// Truncate the longer string.\n\t\tif ( text1Length > text2Length ) {\n\t\t\ttext1 = text1.substring( text1Length - text2Length );\n\t\t} else if ( text1Length < text2Length ) {\n\t\t\ttext2 = text2.substring( 0, text1Length );\n\t\t}\n\t\ttextLength = Math.min( text1Length, text2Length );\n\n\t\t// Quick check for the worst case.\n\t\tif ( text1 === text2 ) {\n\t\t\treturn textLength;\n\t\t}\n\n\t\t// Start by looking for a single character match\n\t\t// and increase length until no match is found.\n\t\t// Performance analysis: https://neil.fraser.name/news/2010/11/04/\n\t\tbest = 0;\n\t\tlength = 1;\n\t\twhile ( true ) {\n\t\t\tpattern = text1.substring( textLength - length );\n\t\t\tfound = text2.indexOf( pattern );\n\t\t\tif ( found === -1 ) {\n\t\t\t\treturn best;\n\t\t\t}\n\t\t\tlength += found;\n\t\t\tif ( found === 0 || text1.substring( textLength - length ) ===\n\t\t\t\t\ttext2.substring( 0, length ) ) {\n\t\t\t\tbest = length;\n\t\t\t\tlength++;\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * Split two texts into an array of strings.  Reduce the texts to a string of\n\t * hashes where each Unicode character represents one line.\n\t * @param {string} text1 First string.\n\t * @param {string} text2 Second string.\n\t * @return {{chars1: string, chars2: string, lineArray: !Array.<string>}}\n\t *     An object containing the encoded text1, the encoded text2 and\n\t *     the array of unique strings.\n\t *     The zeroth element of the array of unique strings is intentionally blank.\n\t * @private\n\t */\n\tDiffMatchPatch.prototype.diffLinesToChars = function( text1, text2 ) {\n\t\tvar lineArray, lineHash, chars1, chars2;\n\t\tlineArray = []; // E.g. lineArray[4] === 'Hello\\n'\n\t\tlineHash = {};  // E.g. lineHash['Hello\\n'] === 4\n\n\t\t// '\\x00' is a valid character, but various debuggers don't like it.\n\t\t// So we'll insert a junk entry to avoid generating a null character.\n\t\tlineArray[ 0 ] = \"\";\n\n\t\t/**\n\t\t * Split a text into an array of strings.  Reduce the texts to a string of\n\t\t * hashes where each Unicode character represents one line.\n\t\t * Modifies linearray and linehash through being a closure.\n\t\t * @param {string} text String to encode.\n\t\t * @return {string} Encoded string.\n\t\t * @private\n\t\t */\n\t\tfunction diffLinesToCharsMunge( text ) {\n\t\t\tvar chars, lineStart, lineEnd, lineArrayLength, line;\n\t\t\tchars = \"\";\n\n\t\t\t// Walk the text, pulling out a substring for each line.\n\t\t\t// text.split('\\n') would would temporarily double our memory footprint.\n\t\t\t// Modifying text would create many large strings to garbage collect.\n\t\t\tlineStart = 0;\n\t\t\tlineEnd = -1;\n\n\t\t\t// Keeping our own length variable is faster than looking it up.\n\t\t\tlineArrayLength = lineArray.length;\n\t\t\twhile ( lineEnd < text.length - 1 ) {\n\t\t\t\tlineEnd = text.indexOf( \"\\n\", lineStart );\n\t\t\t\tif ( lineEnd === -1 ) {\n\t\t\t\t\tlineEnd = text.length - 1;\n\t\t\t\t}\n\t\t\t\tline = text.substring( lineStart, lineEnd + 1 );\n\t\t\t\tlineStart = lineEnd + 1;\n\n\t\t\t\tif ( hasOwn.call( lineHash, line ) ) {\n\t\t\t\t\tchars += String.fromCharCode( lineHash[ line ] );\n\t\t\t\t} else {\n\t\t\t\t\tchars += String.fromCharCode( lineArrayLength );\n\t\t\t\t\tlineHash[ line ] = lineArrayLength;\n\t\t\t\t\tlineArray[ lineArrayLength++ ] = line;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn chars;\n\t\t}\n\n\t\tchars1 = diffLinesToCharsMunge( text1 );\n\t\tchars2 = diffLinesToCharsMunge( text2 );\n\t\treturn {\n\t\t\tchars1: chars1,\n\t\t\tchars2: chars2,\n\t\t\tlineArray: lineArray\n\t\t};\n\t};\n\n\t/**\n\t * Rehydrate the text in a diff from a string of line hashes to real lines of\n\t * text.\n\t * @param {!Array.<!DiffMatchPatch.Diff>} diffs Array of diff tuples.\n\t * @param {!Array.<string>} lineArray Array of unique strings.\n\t * @private\n\t */\n\tDiffMatchPatch.prototype.diffCharsToLines = function( diffs, lineArray ) {\n\t\tvar x, chars, text, y;\n\t\tfor ( x = 0; x < diffs.length; x++ ) {\n\t\t\tchars = diffs[ x ][ 1 ];\n\t\t\ttext = [];\n\t\t\tfor ( y = 0; y < chars.length; y++ ) {\n\t\t\t\ttext[ y ] = lineArray[ chars.charCodeAt( y ) ];\n\t\t\t}\n\t\t\tdiffs[ x ][ 1 ] = text.join( \"\" );\n\t\t}\n\t};\n\n\t/**\n\t * Reorder and merge like edit sections.  Merge equalities.\n\t * Any edit section can move as long as it doesn't cross an equality.\n\t * @param {!Array.<!DiffMatchPatch.Diff>} diffs Array of diff tuples.\n\t */\n\tDiffMatchPatch.prototype.diffCleanupMerge = function( diffs ) {\n\t\tvar pointer, countDelete, countInsert, textInsert, textDelete,\n\t\t\tcommonlength, changes, diffPointer, position;\n\t\tdiffs.push( [ DIFF_EQUAL, \"\" ] ); // Add a dummy entry at the end.\n\t\tpointer = 0;\n\t\tcountDelete = 0;\n\t\tcountInsert = 0;\n\t\ttextDelete = \"\";\n\t\ttextInsert = \"\";\n\n\t\twhile ( pointer < diffs.length ) {\n\t\t\tswitch ( diffs[ pointer ][ 0 ] ) {\n\t\t\tcase DIFF_INSERT:\n\t\t\t\tcountInsert++;\n\t\t\t\ttextInsert += diffs[ pointer ][ 1 ];\n\t\t\t\tpointer++;\n\t\t\t\tbreak;\n\t\t\tcase DIFF_DELETE:\n\t\t\t\tcountDelete++;\n\t\t\t\ttextDelete += diffs[ pointer ][ 1 ];\n\t\t\t\tpointer++;\n\t\t\t\tbreak;\n\t\t\tcase DIFF_EQUAL:\n\n\t\t\t\t// Upon reaching an equality, check for prior redundancies.\n\t\t\t\tif ( countDelete + countInsert > 1 ) {\n\t\t\t\t\tif ( countDelete !== 0 && countInsert !== 0 ) {\n\n\t\t\t\t\t\t// Factor out any common prefixes.\n\t\t\t\t\t\tcommonlength = this.diffCommonPrefix( textInsert, textDelete );\n\t\t\t\t\t\tif ( commonlength !== 0 ) {\n\t\t\t\t\t\t\tif ( ( pointer - countDelete - countInsert ) > 0 &&\n\t\t\t\t\t\t\t\t\tdiffs[ pointer - countDelete - countInsert - 1 ][ 0 ] ===\n\t\t\t\t\t\t\t\t\tDIFF_EQUAL ) {\n\t\t\t\t\t\t\t\tdiffs[ pointer - countDelete - countInsert - 1 ][ 1 ] +=\n\t\t\t\t\t\t\t\t\ttextInsert.substring( 0, commonlength );\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tdiffs.splice( 0, 0, [ DIFF_EQUAL,\n\t\t\t\t\t\t\t\t\ttextInsert.substring( 0, commonlength )\n\t\t\t\t\t\t\t\t] );\n\t\t\t\t\t\t\t\tpointer++;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\ttextInsert = textInsert.substring( commonlength );\n\t\t\t\t\t\t\ttextDelete = textDelete.substring( commonlength );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Factor out any common suffixies.\n\t\t\t\t\t\tcommonlength = this.diffCommonSuffix( textInsert, textDelete );\n\t\t\t\t\t\tif ( commonlength !== 0 ) {\n\t\t\t\t\t\t\tdiffs[ pointer ][ 1 ] = textInsert.substring( textInsert.length -\n\t\t\t\t\t\t\t\t\tcommonlength ) + diffs[ pointer ][ 1 ];\n\t\t\t\t\t\t\ttextInsert = textInsert.substring( 0, textInsert.length -\n\t\t\t\t\t\t\t\tcommonlength );\n\t\t\t\t\t\t\ttextDelete = textDelete.substring( 0, textDelete.length -\n\t\t\t\t\t\t\t\tcommonlength );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Delete the offending records and add the merged ones.\n\t\t\t\t\tif ( countDelete === 0 ) {\n\t\t\t\t\t\tdiffs.splice( pointer - countInsert,\n\t\t\t\t\t\t\tcountDelete + countInsert, [ DIFF_INSERT, textInsert ] );\n\t\t\t\t\t} else if ( countInsert === 0 ) {\n\t\t\t\t\t\tdiffs.splice( pointer - countDelete,\n\t\t\t\t\t\t\tcountDelete + countInsert, [ DIFF_DELETE, textDelete ] );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdiffs.splice(\n\t\t\t\t\t\t\tpointer - countDelete - countInsert,\n\t\t\t\t\t\t\tcountDelete + countInsert,\n\t\t\t\t\t\t\t[ DIFF_DELETE, textDelete ], [ DIFF_INSERT, textInsert ]\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\tpointer = pointer - countDelete - countInsert +\n\t\t\t\t\t\t( countDelete ? 1 : 0 ) + ( countInsert ? 1 : 0 ) + 1;\n\t\t\t\t} else if ( pointer !== 0 && diffs[ pointer - 1 ][ 0 ] === DIFF_EQUAL ) {\n\n\t\t\t\t\t// Merge this equality with the previous one.\n\t\t\t\t\tdiffs[ pointer - 1 ][ 1 ] += diffs[ pointer ][ 1 ];\n\t\t\t\t\tdiffs.splice( pointer, 1 );\n\t\t\t\t} else {\n\t\t\t\t\tpointer++;\n\t\t\t\t}\n\t\t\t\tcountInsert = 0;\n\t\t\t\tcountDelete = 0;\n\t\t\t\ttextDelete = \"\";\n\t\t\t\ttextInsert = \"\";\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif ( diffs[ diffs.length - 1 ][ 1 ] === \"\" ) {\n\t\t\tdiffs.pop(); // Remove the dummy entry at the end.\n\t\t}\n\n\t\t// Second pass: look for single edits surrounded on both sides by equalities\n\t\t// which can be shifted sideways to eliminate an equality.\n\t\t// e.g: A<ins>BA</ins>C -> <ins>AB</ins>AC\n\t\tchanges = false;\n\t\tpointer = 1;\n\n\t\t// Intentionally ignore the first and last element (don't need checking).\n\t\twhile ( pointer < diffs.length - 1 ) {\n\t\t\tif ( diffs[ pointer - 1 ][ 0 ] === DIFF_EQUAL &&\n\t\t\t\t\tdiffs[ pointer + 1 ][ 0 ] === DIFF_EQUAL ) {\n\n\t\t\t\tdiffPointer = diffs[ pointer ][ 1 ];\n\t\t\t\tposition = diffPointer.substring(\n\t\t\t\t\tdiffPointer.length - diffs[ pointer - 1 ][ 1 ].length\n\t\t\t\t);\n\n\t\t\t\t// This is a single edit surrounded by equalities.\n\t\t\t\tif ( position === diffs[ pointer - 1 ][ 1 ] ) {\n\n\t\t\t\t\t// Shift the edit over the previous equality.\n\t\t\t\t\tdiffs[ pointer ][ 1 ] = diffs[ pointer - 1 ][ 1 ] +\n\t\t\t\t\t\tdiffs[ pointer ][ 1 ].substring( 0, diffs[ pointer ][ 1 ].length -\n\t\t\t\t\t\t\tdiffs[ pointer - 1 ][ 1 ].length );\n\t\t\t\t\tdiffs[ pointer + 1 ][ 1 ] =\n\t\t\t\t\t\tdiffs[ pointer - 1 ][ 1 ] + diffs[ pointer + 1 ][ 1 ];\n\t\t\t\t\tdiffs.splice( pointer - 1, 1 );\n\t\t\t\t\tchanges = true;\n\t\t\t\t} else if ( diffPointer.substring( 0, diffs[ pointer + 1 ][ 1 ].length ) ===\n\t\t\t\t\t\tdiffs[ pointer + 1 ][ 1 ] ) {\n\n\t\t\t\t\t// Shift the edit over the next equality.\n\t\t\t\t\tdiffs[ pointer - 1 ][ 1 ] += diffs[ pointer + 1 ][ 1 ];\n\t\t\t\t\tdiffs[ pointer ][ 1 ] =\n\t\t\t\t\t\tdiffs[ pointer ][ 1 ].substring( diffs[ pointer + 1 ][ 1 ].length ) +\n\t\t\t\t\t\tdiffs[ pointer + 1 ][ 1 ];\n\t\t\t\t\tdiffs.splice( pointer + 1, 1 );\n\t\t\t\t\tchanges = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tpointer++;\n\t\t}\n\n\t\t// If shifts were made, the diff needs reordering and another shift sweep.\n\t\tif ( changes ) {\n\t\t\tthis.diffCleanupMerge( diffs );\n\t\t}\n\t};\n\n\treturn function( o, n ) {\n\t\tvar diff, output, text;\n\t\tdiff = new DiffMatchPatch();\n\t\toutput = diff.DiffMain( o, n );\n\t\tdiff.diffCleanupEfficiency( output );\n\t\ttext = diff.diffPrettyHtml( output );\n\n\t\treturn text;\n\t};\n}() );\n"],"names":["foundGlobalThis","Object","globalThis","get","self","prototype","_T_","defineProperty","configurable","window","console","setTimeout","clearTimeout","document","navigator","localSessionStorage","x","sessionStorage","setItem","removeItem","e","undefined","warn","Function","bind","call","log","toString","hasOwn","hasOwnProperty","now","Date","getTime","nativePerf","getNativePerf","performance","mark","measure","comment","startMark","endMark","ex","Logger","message","diff","a","b","result","slice","i","length","j","splice","inArray","elem","array","indexOf","objectValues","obj","allowArray","vals","is","key","val","objectValuesSubset","model","subset","extend","undefOnly","prop","objectType","match","type","isNaN","toLowerCase","generateHash","module","testName","str","hash","charCodeAt","hex","errorString","error","resultErrorString","String","name","pairs","getProto","getPrototypeOf","__proto__","useStrictEquality","valueOf","compareConstructors","protoA","protoB","constructor","getRegExpFlags","regexp","flags","isContainer","breadthFirstCompareChild","typeEquiv","every","pair","push","callbacks","source","len","size","outerEq","forEach","aVal","innerEq","bVal","parentPairs","innerEquiv","aKey","bKey","aProperties","bProperties","sort","arguments","apply","config","queue","stats","all","bad","testCount","blocking","failOnZeroTests","reorder","altertitle","collapse","scrolltop","maxDepth","requireExpects","urlConfig","modules","currentModule","tests","childModules","testsRun","testsIgnored","hooks","before","beforeEach","afterEach","after","storage","globalConfig","QUnit","version","quote","replace","literal","o","join","pre","arr","post","s","dump","separator","inner","indent","base","stack","depth","up","ret","Array","parse","down","isArray","item","reName","objType","objIndex","typeOf","parser","parsers","parserType","res","pop","setInterval","nodeType","Error","multiline","HTML","extra","chr","indentChar","setParser","unknown","fn","exec","nodelist","object","map","keys","nonEnumerableProperties","node","open","close","tag","nodeName","attrs","attributes","nodeValue","functionArgs","l","args","fromCharCode","functionCode","attribute","string","date","number","symbol","sym","SuiteReport","parentSuite","fullName","concat","globalFailureCount","childSuites","pushChildSuite","recordTime","_startTime","suiteLevel","test","start","suite","testCounts","total","getTestCounts","_endTime","suiteName","end","runtime","getRuntime","status","getStatus","counts","passed","failed","skipped","todo","reduce","valid","moduleStack","isParentModuleInQueue","modulesInQueue","filter","ignored","moduleId","some","includes","createModule","testEnvironment","modifiers","parentModule","moduleName","suiteReport","runSuite","skip","env","setHookFromEnvironment","environment","potentialHook","makeSetHook","hookName","setHook","callback","processModule","options","executeNow","moduleFns","prevModule","cbReturnValue","then","focused","only","LISTENERS","create","SUPPORTED_EVENTS","emit","eventName","data","TypeError","originalCallbacks","on","events","globalNS","global","promisePolyfillModule","finallyConstructor","value","resolve","reason","reject","allSettled","P","remaining","setTimeoutFunc","Boolean","noop","thisArg","Promise","_state","_handled","_value","_deferreds","doResolve","handle","deferred","_immediateFn","cb","onFulfilled","onRejected","promise","newValue","finale","_unhandledRejectionFn","Handler","done","prom","race","setImmediate","err","registerLoggingCallbacks","callbackNames","registerLoggingCallback","loggingCallback","runLoggingCallbacks","promiseChain","fileName","sourceFromStacktrace","extractStacktrace","offset","split","shift","include","priorityCount","unitSampler","taskQueue","advance","advanceTaskQueue","current","advanceTestQueue","processTaskQueue","elapsedTime","updateRate","task","testTasks","addToTaskQueue","tasksArray","taskQueueLength","addToTestQueue","testTasksFunc","prioritize","seed","unitSamplerGenerator","index","Math","floor","sample","parseInt","testId","assert","pushResult","validTest","started","ProcessingQueue","finished","add","taskCount","TestReport","assertions","pushTest","errors","getFailedAssertions","getAssertions","assertion","testPassed","actual","expected","Test","settings","steps","timeout","withData","pauses","Map","nextPauseId","method","count","errorForStack","testReport","async","Assert","getNotStartedModules","startModule","reverse","notStartedModules","callbackPromises","previousFailure","pollution","saveGlobal","run","callbackStarted","notrycatch","runTest","pushFailure","internalRecover","resolvePromise","checkPollution","queueHook","hook","hookOwner","callHook","runHook","preserveEnvironment","lastTestWithinModuleExecuted","handler","processHooks","finish","stepsList","incrementTestsIgnored","incrementTestsRun","slimAssertions","allTestsExecuted","completedModules","parent","completedModule","logSuiteEnd","nextModule","preserveTestEnvironment","previousFailCount","getItem","resultInfo","details","negative","logAssertion","pushAssertion","phase","resume","internalStop","regexFilter","moduleChainNameMatch","testModule","testModuleName","moduleChainIdMatch","stringFilter","exclude","pattern","regex","RegExp","charAt","currentTest","noglobals","old","newGlobals","deletedGlobals","addTest","newTest","addOnlyTest","makeEachTestName","argument","runEach","eachFn","each","dataset","testKey","_","resetTestTimeout","timeoutDuration","timeoutHandler","requiredCalls","pauseId","pause","cancelled","set","release","delete","internalStart","testTimeout","clear","begin","collectTests","testContext","duration","assertionMessage","actualStepsClone","deepEqual","asserts","currentAssert","equiv","block","validateExpectedExceptionArgs","ignoreGlobalErrors","validateException","handleFulfillment","handleRejection","assertionMethod","expectedType","raises","exportQUnit","exportedModule","exports","define","amd","autostart","WorkerGlobalScope","ConsoleReporter","runner","onError","onRunStart","onTestStart","onTestEnd","onRunEnd","runStart","runEnd","FORCE_COLOR","NODE_DISABLE_COLORS","NO_COLOR","TERM","isTTY","process","stdout","$","enabled","reset","init","bold","dim","italic","underline","inverse","hidden","strikethrough","black","red","green","yellow","blue","magenta","cyan","white","gray","grey","bgBlack","bgRed","bgGreen","bgYellow","bgBlue","bgMagenta","bgCyan","bgWhite","tmp","beg","rgx","chain","has","ctx","blk","txt","prettyYamlValue","isFinite","JSON","stringify","rSpecialJson","rSpecialYaml","rUntrimmed","rNumerical","rBool","prefix","trailingLinebreakMatch","trailingLinebreaks","lines","line","decycledShallowClone","ancestors","clone","element","TapReporter","ended","bailed","_runSuite","kleur","logError","severity","out","tap","onUncaughtException","onWindowError","stacktrace","lineNumber","globalStartCalled","runStarted","isLocal","location","protocol","reporters","globalStartAlreadyCalled","pageLoaded","load","scheduleBegin","onUnhandledRejection","unblockAndAdvanceQueue","modulesLog","totalTests","storeFixture","fixture","getElementById","cloneNode","resetFixture","resetFixtureType","newFixture","createElement","setAttribute","innerHTML","parentNode","replaceChild","clonedFixture","testStart","urlParams","getUrlParams","random","id","label","tooltip","option","param","params","search","decodeQueryParam","decodeURIComponent","root","UMD","fuzzysort","this","fuzzysortNew","instanceOptions","single","target","isObj","getPreparedSearch","getPrepared","allowTypo","algorithm","algorithmNoTypo","go","targets","noResults","prepareSearch","searchLowerCode","threshold","limit","resultsLen","limitedCount","targetsLen","scoreFn","defaultScoreFn","keysLen","objResults","keyI","getValue","score","q","peek","replaceTop","_targetLowerCodes","_nextBeginningIndexes","indexes","results","poll","goAsync","canceled","p","fastpriorityqueue","iCurrent","step","startMs","isNode","cancel","highlight","hOpen","hClose","highlighted","matchesIndex","opened","targetLen","matchesBest","char","substr","prepare","prepareLowerCodes","prepareSlow","prepareNextBeginningIndexes","targetPrepared","preparedCache","searchPrepared","preparedSearchCache","searchLowerCodes","prepared","targetLowerCodes","searchLen","searchI","targetI","typoSimpleI","matchesSimpleLen","isMatch","matchesSimple","searchLowerCodeNew","typoStrictI","successStrict","matchesStrictLen","nextBeginningIndexes","firstPossibleI","lastMatch","matchesStrict","matchesBestLen","lastTargetI","strLen","lowerCodes","lower","prepareBeginningIndexes","beginningIndexes","beginningIndexesLen","wasUpper","wasAlphanum","targetCode","isUpper","isAlphanum","isBeginning","lastIsBeginning","lastIsBeginningI","cleanup","new","require","max","segs","r","n","c","f","failedTests","defined","completed","escapeText","hiddenTests","collapseNext","unfilteredUrl","setUrl","trim","addEvent","addEventListener","removeEvent","removeEventListener","addEvents","elems","hasClass","className","addClass","toggleClass","force","removeClass","abortTests","abortButton","disabled","interceptNavigation","ev","filterInputElem","applyUrlParams","preventDefault","getUrlConfigHtml","escaped","escapedTooltip","selection","urlConfigHtml","toolbarChanged","updatedUrl","field","selectedIndex","checked","defaultValue","history","children","classNameHasPass","classNameHasSkipped","hiddenTest","removeChild","appendChild","replaceState","arrValue","querystring","encodeURIComponent","host","pathname","selectedModules","modulesList","getElementsByTagName","toolbarUrlConfigContainer","urlConfigContainer","abortTestsButton","button","toolbarLooseFilter","input","createTextNode","moduleListHtml","html","toolbarModuleFilter","commit","moduleFilter","moduleSearch","dropDown","actions","applyButton","resetButton","allModulesLabel","allCheckbox","dropDownList","dirty","autocomplete","searchInput","searchFocus","namePrepared","textContent","style","display","firstChild","nextSibling","selectionChange","hideHandler","inContainer","contains","keyCode","focus","filterModules","searchText","searchInputTimeout","filteredModules","evt","checkbox","selectedNames","defaultChecked","placeholder","title","toolbarFilters","appendToolbar","toolbar","appendHeader","header","appendBanner","banner","appendTestResults","controls","insertBefore","appendFilteredTest","appendUserAgent","userAgent","appendInterface","qunit","appendTest","rerunTrigger","testBlock","assertList","getNameHtml","href","getRerunFailedHtml","assertPassed","assertLi","scrollTo","nameHtml","getProgressHtml","running","stripHtml","showDiff","testItem","testDone","testTitle","time","good","sourceName","todoLabel","hidepassed","usingPhantom","major","phantom","readyState","originalWindowOnError","onerror","columnNumber","errorObj","event","DiffMatchPatch","DIFF_DELETE","DIFF_INSERT","DIFF_EQUAL","DiffMain","text1","text2","optChecklines","deadline","checklines","commonlength","commonprefix","commonsuffix","diffs","diffCommonPrefix","substring","diffCommonSuffix","diffCompute","unshift","diffCleanupMerge","diffCleanupEfficiency","changes","equalities","equalitiesLength","lastequality","pointer","preIns","preDel","postIns","postDel","diffPrettyHtml","op","pointermid","pointermax","pointermin","pointerstart","min","pointerend","longtext","shorttext","hm","text1A","text2A","text1B","text2B","midCommon","diffsA","diffsB","diffHalfMatch","diffLineMode","diffBisect","dmp","hm1","hm2","diffHalfMatchI","bestCommon","prefixLength","suffixLength","bestLongtextA","bestLongtextB","bestShorttextA","bestShorttextB","ceil","linearray","countInsert","countDelete","textInsert","textDelete","diffLinesToChars","chars1","chars2","lineArray","diffCharsToLines","diffCleanupSemantic","text1Length","text2Length","maxD","vOffset","vLength","v1","v2","delta","front","k1start","k1end","k2start","k2end","k2Offset","k1Offset","x1","x2","y1","y2","d","k1","k2","diffBisectSplit","y","text1a","text1b","text2a","text2b","diffsb","lengthInsertions2","lengthDeletions2","lengthInsertions1","lengthDeletions1","deletion","insertion","overlapLength1","overlapLength2","diffCommonOverlap","textLength","best","found","lineHash","diffLinesToCharsMunge","text","chars","lineStart","lineEnd","lineArrayLength","diffPointer","position","output"],"mappings":"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"}