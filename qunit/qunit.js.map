{"version":3,"file":"qunit.js","sources":["../src/globals.js","../src/logger.js","../src/core/utilities.js","../src/equiv.js","../src/core/config.js","../src/dump.js","../src/reports/suite.js","../src/module.js","../src/events.js","../node_modules/es6-promise/dist/es6-promise.js","../src/promise.js","../src/core/logging.js","../src/core/stacktrace.js","../src/core/processing-queue.js","../src/reports/test.js","../src/test.js","../src/assert.js","../src/export.js","../src/core/onerror.js","../src/core/on-unhandled-rejection.js","../src/core.js","../runner/fixture.js","../reporter/urlparams.js","../node_modules/fuzzysort/fuzzysort.js","../reporter/html.js","../reporter/diff.js"],"sourcesContent":["import global from \"global\";\n\nexport const window = global.window;\nexport const self = global.self;\nexport const console = global.console;\nexport const setTimeout = global.setTimeout;\nexport const clearTimeout = global.clearTimeout;\n\nexport const document = window && window.document;\nexport const navigator = window && window.navigator;\n\nexport const localSessionStorage = ( function() {\n\tvar x = \"qunit-test-string\";\n\ttry {\n\t\tglobal.sessionStorage.setItem( x, x );\n\t\tglobal.sessionStorage.removeItem( x );\n\t\treturn global.sessionStorage;\n\t} catch ( e ) {\n\t\treturn undefined;\n\t}\n}() );\n\n// Support IE 9-10: Fallback for fuzzysort.js used by /reporter/html.js\nif ( !global.Map ) {\n\tglobal.Map = function StringMap() {\n\t\tvar store = Object.create( null );\n\t\tthis.get = function( strKey ) {\n\t\t\treturn store[ strKey ];\n\t\t};\n\t\tthis.set = function( strKey, val ) {\n\t\t\tstore[ strKey ] = val;\n\t\t\treturn this;\n\t\t};\n\t\tthis.clear = function() {\n\t\t\tstore = Object.create( null );\n\t\t};\n\t};\n}\n","import { console } from \"./globals\";\n\n/**\n * Returns a function that proxies to the given method name on the globals\n * console object. The proxy will also detect if the console doesn't exist and\n * will appropriately no-op. This allows support for IE9, which doesn't have a\n * console if the developer tools are not open.\n */\nfunction consoleProxy( method ) {\n\treturn function( ...args ) {\n\t\tif ( console ) {\n\t\t\tconsole[ method ]( ...args );\n\t\t}\n\t};\n}\n\nexport default {\n\twarn: consoleProxy( \"warn\" )\n};\n","import { window, setTimeout } from \"../globals\";\nimport Logger from \"../logger\";\n\nexport const toString = Object.prototype.toString;\nexport const hasOwn = Object.prototype.hasOwnProperty;\nexport const now = Date.now || function() {\n\treturn new Date().getTime();\n};\n\nexport const hasPerformanceApi = detectPerformanceApi();\nexport const performance = hasPerformanceApi ? window.performance : undefined;\nexport const performanceNow = hasPerformanceApi ?\n\tperformance.now.bind( performance ) :\n\tnow;\n\nfunction detectPerformanceApi() {\n\treturn window &&\n\t\ttypeof window.performance !== \"undefined\" &&\n\t\ttypeof window.performance.mark === \"function\" &&\n\t\ttypeof window.performance.measure === \"function\";\n}\n\nexport function measure( comment, startMark, endMark ) {\n\n\t// `performance.measure` may fail if the mark could not be found.\n\t// reasons a specific mark could not be found include: outside code invoking `performance.clearMarks()`\n\ttry {\n\t\tperformance.measure( comment, startMark, endMark );\n\t} catch ( ex ) {\n\t\tLogger.warn( \"performance.measure could not be executed because of \", ex.message );\n\t}\n}\n\nexport const defined = {\n\tdocument: window && window.document !== undefined,\n\tsetTimeout: setTimeout !== undefined\n};\n\n// Returns a new Array with the elements that are in a but not in b\nexport function diff( a, b ) {\n\tvar i, j,\n\t\tresult = a.slice();\n\n\tfor ( i = 0; i < result.length; i++ ) {\n\t\tfor ( j = 0; j < b.length; j++ ) {\n\t\t\tif ( result[ i ] === b[ j ] ) {\n\t\t\t\tresult.splice( i, 1 );\n\t\t\t\ti--;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\treturn result;\n}\n\n/**\n * Determines whether an element exists in a given array or not.\n *\n * @method inArray\n * @param {Any} elem\n * @param {Array} array\n * @return {Boolean}\n */\nexport function inArray( elem, array ) {\n\treturn array.indexOf( elem ) !== -1;\n}\n\n/**\n * Makes a clone of an object using only Array or Object as base,\n * and copies over the own enumerable properties.\n *\n * @param {Object} obj\n * @return {Object} New object with only the own properties (recursively).\n */\nexport function objectValues( obj ) {\n\tvar key, val,\n\t\tvals = is( \"array\", obj ) ? [] : {};\n\tfor ( key in obj ) {\n\t\tif ( hasOwn.call( obj, key ) ) {\n\t\t\tval = obj[ key ];\n\t\t\tvals[ key ] = val === Object( val ) ? objectValues( val ) : val;\n\t\t}\n\t}\n\treturn vals;\n}\n\nexport function extend( a, b, undefOnly ) {\n\tfor ( var prop in b ) {\n\t\tif ( hasOwn.call( b, prop ) ) {\n\t\t\tif ( b[ prop ] === undefined ) {\n\t\t\t\tdelete a[ prop ];\n\t\t\t} else if ( !( undefOnly && typeof a[ prop ] !== \"undefined\" ) ) {\n\t\t\t\ta[ prop ] = b[ prop ];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn a;\n}\n\nexport function objectType( obj ) {\n\tif ( typeof obj === \"undefined\" ) {\n\t\treturn \"undefined\";\n\t}\n\n\t// Consider: typeof null === object\n\tif ( obj === null ) {\n\t\treturn \"null\";\n\t}\n\n\tvar match = toString.call( obj ).match( /^\\[object\\s(.*)\\]$/ ),\n\t\ttype = match && match[ 1 ];\n\n\tswitch ( type ) {\n\tcase \"Number\":\n\t\tif ( isNaN( obj ) ) {\n\t\t\treturn \"nan\";\n\t\t}\n\t\treturn \"number\";\n\tcase \"String\":\n\tcase \"Boolean\":\n\tcase \"Array\":\n\tcase \"Set\":\n\tcase \"Map\":\n\tcase \"Date\":\n\tcase \"RegExp\":\n\tcase \"Function\":\n\tcase \"Symbol\":\n\t\treturn type.toLowerCase();\n\tdefault:\n\t\treturn typeof obj;\n\t}\n}\n\n// Safe object type checking\nexport function is( type, obj ) {\n\treturn objectType( obj ) === type;\n}\n\n// Based on Java's String.hashCode, a simple but not\n// rigorously collision resistant hashing function\nexport function generateHash( module, testName ) {\n\tconst str = module + \"\\x1C\" + testName;\n\tlet hash = 0;\n\n\tfor ( let i = 0; i < str.length; i++ ) {\n\t\thash = ( ( hash << 5 ) - hash ) + str.charCodeAt( i );\n\t\thash |= 0;\n\t}\n\n\t// Convert the possibly negative integer hash code into an 8 character hex string, which isn't\n\t// strictly necessary but increases user understanding that the id is a SHA-like hash\n\tlet hex = ( 0x100000000 + hash ).toString( 16 );\n\tif ( hex.length < 8 ) {\n\t\thex = \"0000000\" + hex;\n\t}\n\n\treturn hex.slice( -8 );\n}\n","import { objectType } from \"./core/utilities\";\n\n// Test for equality any JavaScript type.\n// Authors: Philippe Rathé <prathe@gmail.com>, David Chan <david@troi.org>\nexport default ( function() {\n\n\t// Value pairs queued for comparison. Used for breadth-first processing order, recursion\n\t// detection and avoiding repeated comparison (see below for details).\n\t// Elements are { a: val, b: val }.\n\tvar pairs = [];\n\n\tvar getProto = Object.getPrototypeOf || function( obj ) {\n\t\treturn obj.__proto__;\n\t};\n\n\tfunction useStrictEquality( a, b ) {\n\n\t\t// This only gets called if a and b are not strict equal, and is used to compare on\n\t\t// the primitive values inside object wrappers. For example:\n\t\t// `var i = 1;`\n\t\t// `var j = new Number(1);`\n\t\t// Neither a nor b can be null, as a !== b and they have the same type.\n\t\tif ( typeof a === \"object\" ) {\n\t\t\ta = a.valueOf();\n\t\t}\n\t\tif ( typeof b === \"object\" ) {\n\t\t\tb = b.valueOf();\n\t\t}\n\n\t\treturn a === b;\n\t}\n\n\tfunction compareConstructors( a, b ) {\n\t\tvar protoA = getProto( a );\n\t\tvar protoB = getProto( b );\n\n\t\t// Comparing constructors is more strict than using `instanceof`\n\t\tif ( a.constructor === b.constructor ) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Ref #851\n\t\t// If the obj prototype descends from a null constructor, treat it\n\t\t// as a null prototype.\n\t\tif ( protoA && protoA.constructor === null ) {\n\t\t\tprotoA = null;\n\t\t}\n\t\tif ( protoB && protoB.constructor === null ) {\n\t\t\tprotoB = null;\n\t\t}\n\n\t\t// Allow objects with no prototype to be equivalent to\n\t\t// objects with Object as their constructor.\n\t\tif ( ( protoA === null && protoB === Object.prototype ) ||\n\t\t\t\t( protoB === null && protoA === Object.prototype ) ) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tfunction getRegExpFlags( regexp ) {\n\t\treturn \"flags\" in regexp ? regexp.flags : regexp.toString().match( /[gimuy]*$/ )[ 0 ];\n\t}\n\n\tfunction isContainer( val ) {\n\t\treturn [ \"object\", \"array\", \"map\", \"set\" ].indexOf( objectType( val ) ) !== -1;\n\t}\n\n\tfunction breadthFirstCompareChild( a, b ) {\n\n\t\t// If a is a container not reference-equal to b, postpone the comparison to the\n\t\t// end of the pairs queue -- unless (a, b) has been seen before, in which case skip\n\t\t// over the pair.\n\t\tif ( a === b ) {\n\t\t\treturn true;\n\t\t}\n\t\tif ( !isContainer( a ) ) {\n\t\t\treturn typeEquiv( a, b );\n\t\t}\n\t\tif ( pairs.every( function( pair ) {\n\t\t\treturn pair.a !== a || pair.b !== b;\n\t\t} ) ) {\n\n\t\t\t// Not yet started comparing this pair\n\t\t\tpairs.push( { a: a, b: b } );\n\t\t}\n\t\treturn true;\n\t}\n\n\tvar callbacks = {\n\t\t\"string\": useStrictEquality,\n\t\t\"boolean\": useStrictEquality,\n\t\t\"number\": useStrictEquality,\n\t\t\"null\": useStrictEquality,\n\t\t\"undefined\": useStrictEquality,\n\t\t\"symbol\": useStrictEquality,\n\t\t\"date\": useStrictEquality,\n\n\t\t\"nan\": function() {\n\t\t\treturn true;\n\t\t},\n\n\t\t\"regexp\": function( a, b ) {\n\t\t\treturn a.source === b.source &&\n\n\t\t\t\t// Include flags in the comparison\n\t\t\t\tgetRegExpFlags( a ) === getRegExpFlags( b );\n\t\t},\n\n\t\t// abort (identical references / instance methods were skipped earlier)\n\t\t\"function\": function() {\n\t\t\treturn false;\n\t\t},\n\n\t\t\"array\": function( a, b ) {\n\t\t\tvar i, len;\n\n\t\t\tlen = a.length;\n\t\t\tif ( len !== b.length ) {\n\n\t\t\t\t// Safe and faster\n\t\t\t\treturn false;\n\t\t\t}\n\n\n\t\t\tfor ( i = 0; i < len; i++ ) {\n\n\t\t\t\t// Compare non-containers; queue non-reference-equal containers\n\t\t\t\tif ( !breadthFirstCompareChild( a[ i ], b[ i ] ) ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\n\t\t// Define sets a and b to be equivalent if for each element aVal in a, there\n\t\t// is some element bVal in b such that aVal and bVal are equivalent. Element\n\t\t// repetitions are not counted, so these are equivalent:\n\t\t// a = new Set( [ {}, [], [] ] );\n\t\t// b = new Set( [ {}, {}, [] ] );\n\t\t\"set\": function( a, b ) {\n\t\t\tvar innerEq,\n\t\t\t\touterEq = true;\n\n\t\t\tif ( a.size !== b.size ) {\n\n\t\t\t\t// This optimization has certain quirks because of the lack of\n\t\t\t\t// repetition counting. For instance, adding the same\n\t\t\t\t// (reference-identical) element to two equivalent sets can\n\t\t\t\t// make them non-equivalent.\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\ta.forEach( function( aVal ) {\n\n\t\t\t\t// Short-circuit if the result is already known. (Using for...of\n\t\t\t\t// with a break clause would be cleaner here, but it would cause\n\t\t\t\t// a syntax error on older Javascript implementations even if\n\t\t\t\t// Set is unused)\n\t\t\t\tif ( !outerEq ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tinnerEq = false;\n\n\t\t\t\tb.forEach( function( bVal ) {\n\t\t\t\t\tvar parentPairs;\n\n\t\t\t\t\t// Likewise, short-circuit if the result is already known\n\t\t\t\t\tif ( innerEq ) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Swap out the global pairs list, as the nested call to\n\t\t\t\t\t// innerEquiv will clobber its contents\n\t\t\t\t\tparentPairs = pairs;\n\t\t\t\t\tif ( innerEquiv( bVal, aVal ) ) {\n\t\t\t\t\t\tinnerEq = true;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Replace the global pairs list\n\t\t\t\t\tpairs = parentPairs;\n\t\t\t\t} );\n\n\t\t\t\tif ( !innerEq ) {\n\t\t\t\t\touterEq = false;\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\treturn outerEq;\n\t\t},\n\n\t\t// Define maps a and b to be equivalent if for each key-value pair (aKey, aVal)\n\t\t// in a, there is some key-value pair (bKey, bVal) in b such that\n\t\t// [ aKey, aVal ] and [ bKey, bVal ] are equivalent. Key repetitions are not\n\t\t// counted, so these are equivalent:\n\t\t// a = new Map( [ [ {}, 1 ], [ {}, 1 ], [ [], 1 ] ] );\n\t\t// b = new Map( [ [ {}, 1 ], [ [], 1 ], [ [], 1 ] ] );\n\t\t\"map\": function( a, b ) {\n\t\t\tvar innerEq,\n\t\t\t\touterEq = true;\n\n\t\t\tif ( a.size !== b.size ) {\n\n\t\t\t\t// This optimization has certain quirks because of the lack of\n\t\t\t\t// repetition counting. For instance, adding the same\n\t\t\t\t// (reference-identical) key-value pair to two equivalent maps\n\t\t\t\t// can make them non-equivalent.\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\ta.forEach( function( aVal, aKey ) {\n\n\t\t\t\t// Short-circuit if the result is already known. (Using for...of\n\t\t\t\t// with a break clause would be cleaner here, but it would cause\n\t\t\t\t// a syntax error on older Javascript implementations even if\n\t\t\t\t// Map is unused)\n\t\t\t\tif ( !outerEq ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tinnerEq = false;\n\n\t\t\t\tb.forEach( function( bVal, bKey ) {\n\t\t\t\t\tvar parentPairs;\n\n\t\t\t\t\t// Likewise, short-circuit if the result is already known\n\t\t\t\t\tif ( innerEq ) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Swap out the global pairs list, as the nested call to\n\t\t\t\t\t// innerEquiv will clobber its contents\n\t\t\t\t\tparentPairs = pairs;\n\t\t\t\t\tif ( innerEquiv( [ bVal, bKey ], [ aVal, aKey ] ) ) {\n\t\t\t\t\t\tinnerEq = true;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Replace the global pairs list\n\t\t\t\t\tpairs = parentPairs;\n\t\t\t\t} );\n\n\t\t\t\tif ( !innerEq ) {\n\t\t\t\t\touterEq = false;\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\treturn outerEq;\n\t\t},\n\n\t\t\"object\": function( a, b ) {\n\t\t\tvar i,\n\t\t\t\taProperties = [],\n\t\t\t\tbProperties = [];\n\n\t\t\tif ( compareConstructors( a, b ) === false ) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// Be strict: don't ensure hasOwnProperty and go deep\n\t\t\tfor ( i in a ) {\n\n\t\t\t\t// Collect a's properties\n\t\t\t\taProperties.push( i );\n\n\t\t\t\t// Skip OOP methods that look the same\n\t\t\t\tif (\n\t\t\t\t\ta.constructor !== Object &&\n\t\t\t\t\ttypeof a.constructor !== \"undefined\" &&\n\t\t\t\t\ttypeof a[ i ] === \"function\" &&\n\t\t\t\t\ttypeof b[ i ] === \"function\" &&\n\t\t\t\t\ta[ i ].toString() === b[ i ].toString()\n\t\t\t\t) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Compare non-containers; queue non-reference-equal containers\n\t\t\t\tif ( !breadthFirstCompareChild( a[ i ], b[ i ] ) ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor ( i in b ) {\n\n\t\t\t\t// Collect b's properties\n\t\t\t\tbProperties.push( i );\n\t\t\t}\n\n\t\t\t// Ensures identical properties name\n\t\t\treturn typeEquiv( aProperties.sort(), bProperties.sort() );\n\t\t}\n\t};\n\n\tfunction typeEquiv( a, b ) {\n\t\tvar type = objectType( a );\n\n\t\t// Callbacks for containers will append to the pairs queue to achieve breadth-first\n\t\t// search order. The pairs queue is also used to avoid reprocessing any pair of\n\t\t// containers that are reference-equal to a previously visited pair (a special case\n\t\t// this being recursion detection).\n\t\t//\n\t\t// Because of this approach, once typeEquiv returns a false value, it should not be\n\t\t// called again without clearing the pair queue else it may wrongly report a visited\n\t\t// pair as being equivalent.\n\t\treturn objectType( b ) === type && callbacks[ type ]( a, b );\n\t}\n\n\tfunction innerEquiv( a, b ) {\n\t\tvar i, pair;\n\n\t\t// We're done when there's nothing more to compare\n\t\tif ( arguments.length < 2 ) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Clear the global pair queue and add the top-level values being compared\n\t\tpairs = [ { a: a, b: b } ];\n\n\t\tfor ( i = 0; i < pairs.length; i++ ) {\n\t\t\tpair = pairs[ i ];\n\n\t\t\t// Perform type-specific comparison on any pairs that are not strictly\n\t\t\t// equal. For container types, that comparison will postpone comparison\n\t\t\t// of any sub-container pair to the end of the pair queue. This gives\n\t\t\t// breadth-first search order. It also avoids the reprocessing of\n\t\t\t// reference-equal siblings, cousins etc, which can have a significant speed\n\t\t\t// impact when comparing a container of small objects each of which has a\n\t\t\t// reference to the same (singleton) large object.\n\t\t\tif ( pair.a !== pair.b && !typeEquiv( pair.a, pair.b ) ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\t// ...across all consecutive argument pairs\n\t\treturn arguments.length === 2 || innerEquiv.apply( this, [].slice.call( arguments, 1 ) );\n\t}\n\n\treturn ( ...args ) => {\n\t\tconst result = innerEquiv( ...args );\n\n\t\t// Release any retained objects\n\t\tpairs.length = 0;\n\t\treturn result;\n\t};\n}() );\n","import { window, localSessionStorage } from \"../globals\";\nimport { extend } from \"./utilities\";\n\n/**\n * Config object: Maintain internal state\n * Later exposed as QUnit.config\n * `config` initialized at top of scope\n */\nconst config = {\n\n\t// The queue of tests to run\n\tqueue: [],\n\n\t// Block until document ready\n\tblocking: true,\n\n\t// By default, run previously failed tests first\n\t// very useful in combination with \"Hide passed tests\" checked\n\treorder: true,\n\n\t// By default, modify document.title when suite is done\n\taltertitle: true,\n\n\t// HTML Reporter: collapse every test except the first failing test\n\t// If false, all failing tests will be expanded\n\tcollapse: true,\n\n\t// By default, scroll to top of the page when suite is done\n\tscrolltop: true,\n\n\t// Depth up-to which object will be dumped\n\tmaxDepth: 5,\n\n\t// When enabled, all tests must call expect()\n\trequireExpects: false,\n\n\t// Placeholder for user-configurable form-exposed URL parameters\n\turlConfig: [],\n\n\t// Set of all modules.\n\tmodules: [],\n\n\t// The first unnamed module\n\tcurrentModule: {\n\t\tname: \"\",\n\t\ttests: [],\n\t\tchildModules: [],\n\t\ttestsRun: 0,\n\t\tunskippedTestsRun: 0,\n\t\thooks: {\n\t\t\tbefore: [],\n\t\t\tbeforeEach: [],\n\t\t\tafterEach: [],\n\t\t\tafter: []\n\t\t}\n\t},\n\n\tcallbacks: {},\n\n\t// The storage module to use for reordering tests\n\tstorage: localSessionStorage\n};\n\n// take a predefined QUnit.config and extend the defaults\nvar globalConfig = window && window.QUnit && window.QUnit.config;\n\n// only extend the global config if there is no QUnit overload\nif ( window && window.QUnit && !window.QUnit.version ) {\n\textend( config, globalConfig );\n}\n\n// Push a loose unnamed module to the modules collection\nconfig.modules.push( config.currentModule );\n\nexport default config;\n","import config from \"./core/config\";\nimport { inArray, toString, is } from \"./core/utilities\";\n\n// Based on jsDump by Ariel Flesler\n// https://flesler.blogspot.com/2008/05/jsdump-pretty-dump-of-any-javascript.html\nexport default ( function() {\n\tfunction quote( str ) {\n\t\treturn \"\\\"\" + str.toString().replace( /\\\\/g, \"\\\\\\\\\" ).replace( /\"/g, \"\\\\\\\"\" ) + \"\\\"\";\n\t}\n\tfunction literal( o ) {\n\t\treturn o + \"\";\n\t}\n\tfunction join( pre, arr, post ) {\n\t\tvar s = dump.separator(),\n\t\t\tbase = dump.indent(),\n\t\t\tinner = dump.indent( 1 );\n\t\tif ( arr.join ) {\n\t\t\tarr = arr.join( \",\" + s + inner );\n\t\t}\n\t\tif ( !arr ) {\n\t\t\treturn pre + post;\n\t\t}\n\t\treturn [ pre, inner + arr, base + post ].join( s );\n\t}\n\tfunction array( arr, stack ) {\n\t\tvar i = arr.length,\n\t\t\tret = new Array( i );\n\n\t\tif ( dump.maxDepth && dump.depth > dump.maxDepth ) {\n\t\t\treturn \"[object Array]\";\n\t\t}\n\n\t\tthis.up();\n\t\twhile ( i-- ) {\n\t\t\tret[ i ] = this.parse( arr[ i ], undefined, stack );\n\t\t}\n\t\tthis.down();\n\t\treturn join( \"[\", ret, \"]\" );\n\t}\n\n\tfunction isArray( obj ) {\n\t\treturn (\n\n\t\t\t//Native Arrays\n\t\t\ttoString.call( obj ) === \"[object Array]\" ||\n\n\t\t\t// NodeList objects\n\t\t\t( typeof obj.length === \"number\" && obj.item !== undefined ) &&\n\t\t\t( obj.length ?\n\t\t\t\tobj.item( 0 ) === obj[ 0 ] :\n\t\t\t\t( obj.item( 0 ) === null && obj[ 0 ] === undefined )\n\t\t\t)\n\t\t);\n\t}\n\n\tvar reName = /^function (\\w+)/,\n\t\tdump = {\n\n\t\t\t// The objType is used mostly internally, you can fix a (custom) type in advance\n\t\t\tparse: function( obj, objType, stack ) {\n\t\t\t\tstack = stack || [];\n\t\t\t\tvar res, parser, parserType,\n\t\t\t\t\tobjIndex = stack.indexOf( obj );\n\n\t\t\t\tif ( objIndex !== -1 ) {\n\t\t\t\t\treturn `recursion(${objIndex - stack.length})`;\n\t\t\t\t}\n\n\t\t\t\tobjType = objType || this.typeOf( obj );\n\t\t\t\tparser = this.parsers[ objType ];\n\t\t\t\tparserType = typeof parser;\n\n\t\t\t\tif ( parserType === \"function\" ) {\n\t\t\t\t\tstack.push( obj );\n\t\t\t\t\tres = parser.call( this, obj, stack );\n\t\t\t\t\tstack.pop();\n\t\t\t\t\treturn res;\n\t\t\t\t}\n\t\t\t\treturn ( parserType === \"string\" ) ? parser : this.parsers.error;\n\t\t\t},\n\t\t\ttypeOf: function( obj ) {\n\t\t\t\tvar type;\n\n\t\t\t\tif ( obj === null ) {\n\t\t\t\t\ttype = \"null\";\n\t\t\t\t} else if ( typeof obj === \"undefined\" ) {\n\t\t\t\t\ttype = \"undefined\";\n\t\t\t\t} else if ( is( \"regexp\", obj ) ) {\n\t\t\t\t\ttype = \"regexp\";\n\t\t\t\t} else if ( is( \"date\", obj ) ) {\n\t\t\t\t\ttype = \"date\";\n\t\t\t\t} else if ( is( \"function\", obj ) ) {\n\t\t\t\t\ttype = \"function\";\n\t\t\t\t} else if ( obj.setInterval !== undefined &&\n\t\t\t\t\t\tobj.document !== undefined &&\n\t\t\t\t\t\tobj.nodeType === undefined ) {\n\t\t\t\t\ttype = \"window\";\n\t\t\t\t} else if ( obj.nodeType === 9 ) {\n\t\t\t\t\ttype = \"document\";\n\t\t\t\t} else if ( obj.nodeType ) {\n\t\t\t\t\ttype = \"node\";\n\t\t\t\t} else if ( isArray( obj ) ) {\n\t\t\t\t\ttype = \"array\";\n\t\t\t\t} else if ( obj.constructor === Error.prototype.constructor ) {\n\t\t\t\t\ttype = \"error\";\n\t\t\t\t} else {\n\t\t\t\t\ttype = typeof obj;\n\t\t\t\t}\n\t\t\t\treturn type;\n\t\t\t},\n\n\t\t\tseparator: function() {\n\t\t\t\tif ( this.multiline ) {\n\t\t\t\t\treturn this.HTML ? \"<br />\" : \"\\n\";\n\t\t\t\t} else {\n\t\t\t\t\treturn this.HTML ? \"&#160;\" : \" \";\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t// Extra can be a number, shortcut for increasing-calling-decreasing\n\t\t\tindent: function( extra ) {\n\t\t\t\tif ( !this.multiline ) {\n\t\t\t\t\treturn \"\";\n\t\t\t\t}\n\t\t\t\tvar chr = this.indentChar;\n\t\t\t\tif ( this.HTML ) {\n\t\t\t\t\tchr = chr.replace( /\\t/g, \"   \" ).replace( / /g, \"&#160;\" );\n\t\t\t\t}\n\t\t\t\treturn new Array( this.depth + ( extra || 0 ) ).join( chr );\n\t\t\t},\n\t\t\tup: function( a ) {\n\t\t\t\tthis.depth += a || 1;\n\t\t\t},\n\t\t\tdown: function( a ) {\n\t\t\t\tthis.depth -= a || 1;\n\t\t\t},\n\t\t\tsetParser: function( name, parser ) {\n\t\t\t\tthis.parsers[ name ] = parser;\n\t\t\t},\n\n\t\t\t// The next 3 are exposed so you can use them\n\t\t\tquote: quote,\n\t\t\tliteral: literal,\n\t\t\tjoin: join,\n\t\t\tdepth: 1,\n\t\t\tmaxDepth: config.maxDepth,\n\n\t\t\t// This is the list of parsers, to modify them, use dump.setParser\n\t\t\tparsers: {\n\t\t\t\twindow: \"[Window]\",\n\t\t\t\tdocument: \"[Document]\",\n\t\t\t\terror: function( error ) {\n\t\t\t\t\treturn \"Error(\\\"\" + error.message + \"\\\")\";\n\t\t\t\t},\n\t\t\t\tunknown: \"[Unknown]\",\n\t\t\t\t\"null\": \"null\",\n\t\t\t\t\"undefined\": \"undefined\",\n\t\t\t\t\"function\": function( fn ) {\n\t\t\t\t\tvar ret = \"function\",\n\n\t\t\t\t\t\t// Functions never have name in IE\n\t\t\t\t\t\tname = \"name\" in fn ? fn.name : ( reName.exec( fn ) || [] )[ 1 ];\n\n\t\t\t\t\tif ( name ) {\n\t\t\t\t\t\tret += \" \" + name;\n\t\t\t\t\t}\n\t\t\t\t\tret += \"(\";\n\n\t\t\t\t\tret = [ ret, dump.parse( fn, \"functionArgs\" ), \"){\" ].join( \"\" );\n\t\t\t\t\treturn join( ret, dump.parse( fn, \"functionCode\" ), \"}\" );\n\t\t\t\t},\n\t\t\t\tarray: array,\n\t\t\t\tnodelist: array,\n\t\t\t\t\"arguments\": array,\n\t\t\t\tobject: function( map, stack ) {\n\t\t\t\t\tvar keys, key, val, i, nonEnumerableProperties,\n\t\t\t\t\t\tret = [];\n\n\t\t\t\t\tif ( dump.maxDepth && dump.depth > dump.maxDepth ) {\n\t\t\t\t\t\treturn \"[object Object]\";\n\t\t\t\t\t}\n\n\t\t\t\t\tdump.up();\n\t\t\t\t\tkeys = [];\n\t\t\t\t\tfor ( key in map ) {\n\t\t\t\t\t\tkeys.push( key );\n\t\t\t\t\t}\n\n\t\t\t\t\t// Some properties are not always enumerable on Error objects.\n\t\t\t\t\tnonEnumerableProperties = [ \"message\", \"name\" ];\n\t\t\t\t\tfor ( i in nonEnumerableProperties ) {\n\t\t\t\t\t\tkey = nonEnumerableProperties[ i ];\n\t\t\t\t\t\tif ( key in map && !inArray( key, keys ) ) {\n\t\t\t\t\t\t\tkeys.push( key );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tkeys.sort();\n\t\t\t\t\tfor ( i = 0; i < keys.length; i++ ) {\n\t\t\t\t\t\tkey = keys[ i ];\n\t\t\t\t\t\tval = map[ key ];\n\t\t\t\t\t\tret.push( dump.parse( key, \"key\" ) + \": \" +\n\t\t\t\t\t\t\tdump.parse( val, undefined, stack ) );\n\t\t\t\t\t}\n\t\t\t\t\tdump.down();\n\t\t\t\t\treturn join( \"{\", ret, \"}\" );\n\t\t\t\t},\n\t\t\t\tnode: function( node ) {\n\t\t\t\t\tvar len, i, val,\n\t\t\t\t\t\topen = dump.HTML ? \"&lt;\" : \"<\",\n\t\t\t\t\t\tclose = dump.HTML ? \"&gt;\" : \">\",\n\t\t\t\t\t\ttag = node.nodeName.toLowerCase(),\n\t\t\t\t\t\tret = open + tag,\n\t\t\t\t\t\tattrs = node.attributes;\n\n\t\t\t\t\tif ( attrs ) {\n\t\t\t\t\t\tfor ( i = 0, len = attrs.length; i < len; i++ ) {\n\t\t\t\t\t\t\tval = attrs[ i ].nodeValue;\n\n\t\t\t\t\t\t\t// IE6 includes all attributes in .attributes, even ones not explicitly\n\t\t\t\t\t\t\t// set. Those have values like undefined, null, 0, false, \"\" or\n\t\t\t\t\t\t\t// \"inherit\".\n\t\t\t\t\t\t\tif ( val && val !== \"inherit\" ) {\n\t\t\t\t\t\t\t\tret += \" \" + attrs[ i ].nodeName + \"=\" +\n\t\t\t\t\t\t\t\t\tdump.parse( val, \"attribute\" );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tret += close;\n\n\t\t\t\t\t// Show content of TextNode or CDATASection\n\t\t\t\t\tif ( node.nodeType === 3 || node.nodeType === 4 ) {\n\t\t\t\t\t\tret += node.nodeValue;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn ret + open + \"/\" + tag + close;\n\t\t\t\t},\n\n\t\t\t\t// Function calls it internally, it's the arguments part of the function\n\t\t\t\tfunctionArgs: function( fn ) {\n\t\t\t\t\tvar args,\n\t\t\t\t\t\tl = fn.length;\n\n\t\t\t\t\tif ( !l ) {\n\t\t\t\t\t\treturn \"\";\n\t\t\t\t\t}\n\n\t\t\t\t\targs = new Array( l );\n\t\t\t\t\twhile ( l-- ) {\n\n\t\t\t\t\t\t// 97 is 'a'\n\t\t\t\t\t\targs[ l ] = String.fromCharCode( 97 + l );\n\t\t\t\t\t}\n\t\t\t\t\treturn \" \" + args.join( \", \" ) + \" \";\n\t\t\t\t},\n\n\t\t\t\t// Object calls it internally, the key part of an item in a map\n\t\t\t\tkey: quote,\n\n\t\t\t\t// Function calls it internally, it's the content of the function\n\t\t\t\tfunctionCode: \"[code]\",\n\n\t\t\t\t// Node calls it internally, it's a html attribute value\n\t\t\t\tattribute: quote,\n\t\t\t\tstring: quote,\n\t\t\t\tdate: quote,\n\t\t\t\tregexp: literal,\n\t\t\t\tnumber: literal,\n\t\t\t\t\"boolean\": literal,\n\t\t\t\tsymbol: function( sym ) {\n\t\t\t\t\treturn sym.toString();\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t// If true, entities are escaped ( <, >, \\t, space and \\n )\n\t\t\tHTML: false,\n\n\t\t\t// Indentation unit\n\t\t\tindentChar: \"  \",\n\n\t\t\t// If true, items in a collection, are separated by a \\n, else just a space.\n\t\t\tmultiline: true\n\t\t};\n\n\treturn dump;\n} )();\n","import { measure, performance, performanceNow } from \"../core/utilities\";\n\nexport default class SuiteReport {\n\tconstructor( name, parentSuite ) {\n\t\tthis.name = name;\n\t\tthis.fullName = parentSuite ? parentSuite.fullName.concat( name ) : [];\n\n\t\tthis.tests = [];\n\t\tthis.childSuites = [];\n\n\t\tif ( parentSuite ) {\n\t\t\tparentSuite.pushChildSuite( this );\n\t\t}\n\t}\n\n\tstart( recordTime ) {\n\t\tif ( recordTime ) {\n\t\t\tthis._startTime = performanceNow();\n\n\t\t\tif ( performance ) {\n\t\t\t\tconst suiteLevel = this.fullName.length;\n\t\t\t\tperformance.mark( `qunit_suite_${suiteLevel}_start` );\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\tname: this.name,\n\t\t\tfullName: this.fullName.slice(),\n\t\t\ttests: this.tests.map( test => test.start() ),\n\t\t\tchildSuites: this.childSuites.map( suite => suite.start() ),\n\t\t\ttestCounts: {\n\t\t\t\ttotal: this.getTestCounts().total\n\t\t\t}\n\t\t};\n\t}\n\n\tend( recordTime ) {\n\t\tif ( recordTime ) {\n\t\t\tthis._endTime = performanceNow();\n\n\t\t\tif ( performance ) {\n\t\t\t\tconst suiteLevel = this.fullName.length;\n\t\t\t\tperformance.mark( `qunit_suite_${suiteLevel}_end` );\n\n\t\t\t\tconst suiteName = this.fullName.join( \" – \" );\n\n\t\t\t\tmeasure(\n\t\t\t\t\tsuiteLevel === 0 ? \"QUnit Test Run\" : `QUnit Test Suite: ${suiteName}`,\n\t\t\t\t\t`qunit_suite_${suiteLevel}_start`,\n\t\t\t\t\t`qunit_suite_${suiteLevel}_end`\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\tname: this.name,\n\t\t\tfullName: this.fullName.slice(),\n\t\t\ttests: this.tests.map( test => test.end() ),\n\t\t\tchildSuites: this.childSuites.map( suite => suite.end() ),\n\t\t\ttestCounts: this.getTestCounts(),\n\t\t\truntime: this.getRuntime(),\n\t\t\tstatus: this.getStatus()\n\t\t};\n\t}\n\n\tpushChildSuite( suite ) {\n\t\tthis.childSuites.push( suite );\n\t}\n\n\tpushTest( test ) {\n\t\tthis.tests.push( test );\n\t}\n\n\tgetRuntime() {\n\t\treturn this._endTime - this._startTime;\n\t}\n\n\tgetTestCounts( counts = { passed: 0, failed: 0, skipped: 0, todo: 0, total: 0 } ) {\n\t\tcounts = this.tests.reduce( ( counts, test ) => {\n\t\t\tif ( test.valid ) {\n\t\t\t\tcounts[ test.getStatus() ]++;\n\t\t\t\tcounts.total++;\n\t\t\t}\n\n\t\t\treturn counts;\n\t\t}, counts );\n\n\t\treturn this.childSuites.reduce( ( counts, suite ) => {\n\t\t\treturn suite.getTestCounts( counts );\n\t\t}, counts );\n\t}\n\n\tgetStatus() {\n\t\tconst {\n\t\t\ttotal,\n\t\t\tfailed,\n\t\t\tskipped,\n\t\t\ttodo\n\t\t} = this.getTestCounts();\n\n\t\tif ( failed ) {\n\t\t\treturn \"failed\";\n\t\t} else {\n\t\t\tif ( skipped === total ) {\n\t\t\t\treturn \"skipped\";\n\t\t\t} else if ( todo === total ) {\n\t\t\t\treturn \"todo\";\n\t\t\t} else {\n\t\t\t\treturn \"passed\";\n\t\t\t}\n\t\t}\n\t}\n}\n","import config from \"./core/config\";\n\nimport SuiteReport from \"./reports/suite\";\n\nimport { extend, objectType, generateHash } from \"./core/utilities\";\nimport { globalSuite } from \"./core\";\n\nlet focused = false;\n\nconst moduleStack = [];\n\nfunction isParentModuleInQueue() {\n\tconst modulesInQueue = config.modules.map( module => module.moduleId );\n\treturn moduleStack.some( module => modulesInQueue.includes( module.moduleId ) );\n}\n\nfunction createModule( name, testEnvironment, modifiers ) {\n\tconst parentModule = moduleStack.length ? moduleStack.slice( -1 )[ 0 ] : null;\n\tconst moduleName = parentModule !== null ? [ parentModule.name, name ].join( \" > \" ) : name;\n\tconst parentSuite = parentModule ? parentModule.suiteReport : globalSuite;\n\n\tconst skip = parentModule !== null && parentModule.skip || modifiers.skip;\n\tconst todo = parentModule !== null && parentModule.todo || modifiers.todo;\n\n\tconst module = {\n\t\tname: moduleName,\n\t\tparentModule: parentModule,\n\t\ttests: [],\n\t\tmoduleId: generateHash( moduleName ),\n\t\ttestsRun: 0,\n\t\tunskippedTestsRun: 0,\n\t\tchildModules: [],\n\t\tsuiteReport: new SuiteReport( name, parentSuite ),\n\n\t\t// Pass along `skip` and `todo` properties from parent module, in case\n\t\t// there is one, to childs. And use own otherwise.\n\t\t// This property will be used to mark own tests and tests of child suites\n\t\t// as either `skipped` or `todo`.\n\t\tskip: skip,\n\t\ttodo: skip ? false : todo\n\t};\n\n\tconst env = {};\n\tif ( parentModule ) {\n\t\tparentModule.childModules.push( module );\n\t\textend( env, parentModule.testEnvironment );\n\t}\n\textend( env, testEnvironment );\n\tmodule.testEnvironment = env;\n\n\tconfig.modules.push( module );\n\treturn module;\n}\n\nfunction processModule( name, options, executeNow, modifiers = {} ) {\n\tif ( objectType( options ) === \"function\" ) {\n\t\texecuteNow = options;\n\t\toptions = undefined;\n\t}\n\n\tlet module = createModule( name, options, modifiers );\n\n\t// Move any hooks to a 'hooks' object\n\tconst testEnvironment = module.testEnvironment;\n\tconst hooks = module.hooks = {};\n\n\tsetHookFromEnvironment( hooks, testEnvironment, \"before\" );\n\tsetHookFromEnvironment( hooks, testEnvironment, \"beforeEach\" );\n\tsetHookFromEnvironment( hooks, testEnvironment, \"afterEach\" );\n\tsetHookFromEnvironment( hooks, testEnvironment, \"after\" );\n\n\tconst moduleFns = {\n\t\tbefore: setHookFunction( module, \"before\" ),\n\t\tbeforeEach: setHookFunction( module, \"beforeEach\" ),\n\t\tafterEach: setHookFunction( module, \"afterEach\" ),\n\t\tafter: setHookFunction( module, \"after\" )\n\t};\n\n\tconst currentModule = config.currentModule;\n\tif ( objectType( executeNow ) === \"function\" ) {\n\t\tmoduleStack.push( module );\n\t\tconfig.currentModule = module;\n\t\texecuteNow.call( module.testEnvironment, moduleFns );\n\t\tmoduleStack.pop();\n\t\tmodule = module.parentModule || currentModule;\n\t}\n\n\tconfig.currentModule = module;\n\n\tfunction setHookFromEnvironment( hooks, environment, name ) {\n\t\tconst potentialHook = environment[ name ];\n\t\thooks[ name ] = typeof potentialHook === \"function\" ? [ potentialHook ] : [];\n\t\tdelete environment[ name ];\n\t}\n\n\tfunction setHookFunction( module, hookName ) {\n\t\treturn function setHook( callback ) {\n\t\t\tmodule.hooks[ hookName ].push( callback );\n\t\t};\n\t}\n}\n\nexport default function module( name, options, executeNow ) {\n\tif ( focused && !isParentModuleInQueue() ) {\n\t\treturn;\n\t}\n\n\tprocessModule( name, options, executeNow );\n}\n\nmodule.only = function() {\n\tif ( !focused ) {\n\t\tconfig.modules.length = 0;\n\t\tconfig.queue.length = 0;\n\t}\n\n\tprocessModule( ...arguments );\n\n\tfocused = true;\n};\n\nmodule.skip = function( name, options, executeNow ) {\n\tif ( focused ) {\n\t\treturn;\n\t}\n\n\tprocessModule( name, options, executeNow, { skip: true } );\n};\n\nmodule.todo = function( name, options, executeNow ) {\n\tif ( focused ) {\n\t\treturn;\n\t}\n\n\tprocessModule( name, options, executeNow, { todo: true } );\n};\n","import { objectType, inArray } from \"./core/utilities\";\n\nconst LISTENERS = Object.create( null );\nconst SUPPORTED_EVENTS = [\n\t\"runStart\",\n\t\"suiteStart\",\n\t\"testStart\",\n\t\"assertion\",\n\t\"testEnd\",\n\t\"suiteEnd\",\n\t\"runEnd\"\n];\n\n/**\n * Emits an event with the specified data to all currently registered listeners.\n * Callbacks will fire in the order in which they are registered (FIFO). This\n * function is not exposed publicly; it is used by QUnit internals to emit\n * logging events.\n *\n * @private\n * @method emit\n * @param {String} eventName\n * @param {Object} data\n * @return {Void}\n */\nexport function emit( eventName, data ) {\n\tif ( objectType( eventName ) !== \"string\" ) {\n\t\tthrow new TypeError( \"eventName must be a string when emitting an event\" );\n\t}\n\n\t// Clone the callbacks in case one of them registers a new callback\n\tconst originalCallbacks = LISTENERS[ eventName ];\n\tconst callbacks = originalCallbacks ? [ ...originalCallbacks ] : [];\n\n\tfor ( let i = 0; i < callbacks.length; i++ ) {\n\t\tcallbacks[ i ]( data );\n\t}\n}\n\n/**\n * Registers a callback as a listener to the specified event.\n *\n * @public\n * @method on\n * @param {String} eventName\n * @param {Function} callback\n * @return {Void}\n */\nexport function on( eventName, callback ) {\n\tif ( objectType( eventName ) !== \"string\" ) {\n\t\tthrow new TypeError( \"eventName must be a string when registering a listener\" );\n\t} else if ( !inArray( eventName, SUPPORTED_EVENTS ) ) {\n\t\tconst events = SUPPORTED_EVENTS.join( \", \" );\n\t\tthrow new Error( `\"${eventName}\" is not a valid event; must be one of: ${events}.` );\n\t} else if ( objectType( callback ) !== \"function\" ) {\n\t\tthrow new TypeError( \"callback must be a function when registering a listener\" );\n\t}\n\n\tif ( !LISTENERS[ eventName ] ) {\n\t\tLISTENERS[ eventName ] = [];\n\t}\n\n\t// Don't register the same callback more than once\n\tif ( !inArray( callback, LISTENERS[ eventName ] ) ) {\n\t\tLISTENERS[ eventName ].push( callback );\n\t}\n}\n","/*!\n * @overview es6-promise - a tiny implementation of Promises/A+.\n * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)\n * @license   Licensed under MIT license\n *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE\n * @version   v4.2.8+1e68dce6\n */\n\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(global.ES6Promise = factory());\n}(this, (function () { 'use strict';\n\nfunction objectOrFunction(x) {\n  var type = typeof x;\n  return x !== null && (type === 'object' || type === 'function');\n}\n\nfunction isFunction(x) {\n  return typeof x === 'function';\n}\n\n\n\nvar _isArray = void 0;\nif (Array.isArray) {\n  _isArray = Array.isArray;\n} else {\n  _isArray = function (x) {\n    return Object.prototype.toString.call(x) === '[object Array]';\n  };\n}\n\nvar isArray = _isArray;\n\nvar len = 0;\nvar vertxNext = void 0;\nvar customSchedulerFn = void 0;\n\nvar asap = function asap(callback, arg) {\n  queue[len] = callback;\n  queue[len + 1] = arg;\n  len += 2;\n  if (len === 2) {\n    // If len is 2, that means that we need to schedule an async flush.\n    // If additional callbacks are queued before the queue is flushed, they\n    // will be processed by this flush that we are scheduling.\n    if (customSchedulerFn) {\n      customSchedulerFn(flush);\n    } else {\n      scheduleFlush();\n    }\n  }\n};\n\nfunction setScheduler(scheduleFn) {\n  customSchedulerFn = scheduleFn;\n}\n\nfunction setAsap(asapFn) {\n  asap = asapFn;\n}\n\nvar browserWindow = typeof window !== 'undefined' ? window : undefined;\nvar browserGlobal = browserWindow || {};\nvar BrowserMutationObserver = browserGlobal.MutationObserver || browserGlobal.WebKitMutationObserver;\nvar isNode = typeof self === 'undefined' && typeof process !== 'undefined' && {}.toString.call(process) === '[object process]';\n\n// test for web worker but not in IE10\nvar isWorker = typeof Uint8ClampedArray !== 'undefined' && typeof importScripts !== 'undefined' && typeof MessageChannel !== 'undefined';\n\n// node\nfunction useNextTick() {\n  // node version 0.10.x displays a deprecation warning when nextTick is used recursively\n  // see https://github.com/cujojs/when/issues/410 for details\n  return function () {\n    return process.nextTick(flush);\n  };\n}\n\n// vertx\nfunction useVertxTimer() {\n  if (typeof vertxNext !== 'undefined') {\n    return function () {\n      vertxNext(flush);\n    };\n  }\n\n  return useSetTimeout();\n}\n\nfunction useMutationObserver() {\n  var iterations = 0;\n  var observer = new BrowserMutationObserver(flush);\n  var node = document.createTextNode('');\n  observer.observe(node, { characterData: true });\n\n  return function () {\n    node.data = iterations = ++iterations % 2;\n  };\n}\n\n// web worker\nfunction useMessageChannel() {\n  var channel = new MessageChannel();\n  channel.port1.onmessage = flush;\n  return function () {\n    return channel.port2.postMessage(0);\n  };\n}\n\nfunction useSetTimeout() {\n  // Store setTimeout reference so es6-promise will be unaffected by\n  // other code modifying setTimeout (like sinon.useFakeTimers())\n  var globalSetTimeout = setTimeout;\n  return function () {\n    return globalSetTimeout(flush, 1);\n  };\n}\n\nvar queue = new Array(1000);\nfunction flush() {\n  for (var i = 0; i < len; i += 2) {\n    var callback = queue[i];\n    var arg = queue[i + 1];\n\n    callback(arg);\n\n    queue[i] = undefined;\n    queue[i + 1] = undefined;\n  }\n\n  len = 0;\n}\n\nfunction attemptVertx() {\n  try {\n    var vertx = Function('return this')().require('vertx');\n    vertxNext = vertx.runOnLoop || vertx.runOnContext;\n    return useVertxTimer();\n  } catch (e) {\n    return useSetTimeout();\n  }\n}\n\nvar scheduleFlush = void 0;\n// Decide what async method to use to triggering processing of queued callbacks:\nif (isNode) {\n  scheduleFlush = useNextTick();\n} else if (BrowserMutationObserver) {\n  scheduleFlush = useMutationObserver();\n} else if (isWorker) {\n  scheduleFlush = useMessageChannel();\n} else if (browserWindow === undefined && typeof require === 'function') {\n  scheduleFlush = attemptVertx();\n} else {\n  scheduleFlush = useSetTimeout();\n}\n\nfunction then(onFulfillment, onRejection) {\n  var parent = this;\n\n  var child = new this.constructor(noop);\n\n  if (child[PROMISE_ID] === undefined) {\n    makePromise(child);\n  }\n\n  var _state = parent._state;\n\n\n  if (_state) {\n    var callback = arguments[_state - 1];\n    asap(function () {\n      return invokeCallback(_state, child, callback, parent._result);\n    });\n  } else {\n    subscribe(parent, child, onFulfillment, onRejection);\n  }\n\n  return child;\n}\n\n/**\n  `Promise.resolve` returns a promise that will become resolved with the\n  passed `value`. It is shorthand for the following:\n\n  ```javascript\n  let promise = new Promise(function(resolve, reject){\n    resolve(1);\n  });\n\n  promise.then(function(value){\n    // value === 1\n  });\n  ```\n\n  Instead of writing the above, your code now simply becomes the following:\n\n  ```javascript\n  let promise = Promise.resolve(1);\n\n  promise.then(function(value){\n    // value === 1\n  });\n  ```\n\n  @method resolve\n  @static\n  @param {Any} value value that the returned promise will be resolved with\n  Useful for tooling.\n  @return {Promise} a promise that will become fulfilled with the given\n  `value`\n*/\nfunction resolve$1(object) {\n  /*jshint validthis:true */\n  var Constructor = this;\n\n  if (object && typeof object === 'object' && object.constructor === Constructor) {\n    return object;\n  }\n\n  var promise = new Constructor(noop);\n  resolve(promise, object);\n  return promise;\n}\n\nvar PROMISE_ID = Math.random().toString(36).substring(2);\n\nfunction noop() {}\n\nvar PENDING = void 0;\nvar FULFILLED = 1;\nvar REJECTED = 2;\n\nfunction selfFulfillment() {\n  return new TypeError(\"You cannot resolve a promise with itself\");\n}\n\nfunction cannotReturnOwn() {\n  return new TypeError('A promises callback cannot return that same promise.');\n}\n\nfunction tryThen(then$$1, value, fulfillmentHandler, rejectionHandler) {\n  try {\n    then$$1.call(value, fulfillmentHandler, rejectionHandler);\n  } catch (e) {\n    return e;\n  }\n}\n\nfunction handleForeignThenable(promise, thenable, then$$1) {\n  asap(function (promise) {\n    var sealed = false;\n    var error = tryThen(then$$1, thenable, function (value) {\n      if (sealed) {\n        return;\n      }\n      sealed = true;\n      if (thenable !== value) {\n        resolve(promise, value);\n      } else {\n        fulfill(promise, value);\n      }\n    }, function (reason) {\n      if (sealed) {\n        return;\n      }\n      sealed = true;\n\n      reject(promise, reason);\n    }, 'Settle: ' + (promise._label || ' unknown promise'));\n\n    if (!sealed && error) {\n      sealed = true;\n      reject(promise, error);\n    }\n  }, promise);\n}\n\nfunction handleOwnThenable(promise, thenable) {\n  if (thenable._state === FULFILLED) {\n    fulfill(promise, thenable._result);\n  } else if (thenable._state === REJECTED) {\n    reject(promise, thenable._result);\n  } else {\n    subscribe(thenable, undefined, function (value) {\n      return resolve(promise, value);\n    }, function (reason) {\n      return reject(promise, reason);\n    });\n  }\n}\n\nfunction handleMaybeThenable(promise, maybeThenable, then$$1) {\n  if (maybeThenable.constructor === promise.constructor && then$$1 === then && maybeThenable.constructor.resolve === resolve$1) {\n    handleOwnThenable(promise, maybeThenable);\n  } else {\n    if (then$$1 === undefined) {\n      fulfill(promise, maybeThenable);\n    } else if (isFunction(then$$1)) {\n      handleForeignThenable(promise, maybeThenable, then$$1);\n    } else {\n      fulfill(promise, maybeThenable);\n    }\n  }\n}\n\nfunction resolve(promise, value) {\n  if (promise === value) {\n    reject(promise, selfFulfillment());\n  } else if (objectOrFunction(value)) {\n    var then$$1 = void 0;\n    try {\n      then$$1 = value.then;\n    } catch (error) {\n      reject(promise, error);\n      return;\n    }\n    handleMaybeThenable(promise, value, then$$1);\n  } else {\n    fulfill(promise, value);\n  }\n}\n\nfunction publishRejection(promise) {\n  if (promise._onerror) {\n    promise._onerror(promise._result);\n  }\n\n  publish(promise);\n}\n\nfunction fulfill(promise, value) {\n  if (promise._state !== PENDING) {\n    return;\n  }\n\n  promise._result = value;\n  promise._state = FULFILLED;\n\n  if (promise._subscribers.length !== 0) {\n    asap(publish, promise);\n  }\n}\n\nfunction reject(promise, reason) {\n  if (promise._state !== PENDING) {\n    return;\n  }\n  promise._state = REJECTED;\n  promise._result = reason;\n\n  asap(publishRejection, promise);\n}\n\nfunction subscribe(parent, child, onFulfillment, onRejection) {\n  var _subscribers = parent._subscribers;\n  var length = _subscribers.length;\n\n\n  parent._onerror = null;\n\n  _subscribers[length] = child;\n  _subscribers[length + FULFILLED] = onFulfillment;\n  _subscribers[length + REJECTED] = onRejection;\n\n  if (length === 0 && parent._state) {\n    asap(publish, parent);\n  }\n}\n\nfunction publish(promise) {\n  var subscribers = promise._subscribers;\n  var settled = promise._state;\n\n  if (subscribers.length === 0) {\n    return;\n  }\n\n  var child = void 0,\n      callback = void 0,\n      detail = promise._result;\n\n  for (var i = 0; i < subscribers.length; i += 3) {\n    child = subscribers[i];\n    callback = subscribers[i + settled];\n\n    if (child) {\n      invokeCallback(settled, child, callback, detail);\n    } else {\n      callback(detail);\n    }\n  }\n\n  promise._subscribers.length = 0;\n}\n\nfunction invokeCallback(settled, promise, callback, detail) {\n  var hasCallback = isFunction(callback),\n      value = void 0,\n      error = void 0,\n      succeeded = true;\n\n  if (hasCallback) {\n    try {\n      value = callback(detail);\n    } catch (e) {\n      succeeded = false;\n      error = e;\n    }\n\n    if (promise === value) {\n      reject(promise, cannotReturnOwn());\n      return;\n    }\n  } else {\n    value = detail;\n  }\n\n  if (promise._state !== PENDING) {\n    // noop\n  } else if (hasCallback && succeeded) {\n    resolve(promise, value);\n  } else if (succeeded === false) {\n    reject(promise, error);\n  } else if (settled === FULFILLED) {\n    fulfill(promise, value);\n  } else if (settled === REJECTED) {\n    reject(promise, value);\n  }\n}\n\nfunction initializePromise(promise, resolver) {\n  try {\n    resolver(function resolvePromise(value) {\n      resolve(promise, value);\n    }, function rejectPromise(reason) {\n      reject(promise, reason);\n    });\n  } catch (e) {\n    reject(promise, e);\n  }\n}\n\nvar id = 0;\nfunction nextId() {\n  return id++;\n}\n\nfunction makePromise(promise) {\n  promise[PROMISE_ID] = id++;\n  promise._state = undefined;\n  promise._result = undefined;\n  promise._subscribers = [];\n}\n\nfunction validationError() {\n  return new Error('Array Methods must be provided an Array');\n}\n\nvar Enumerator = function () {\n  function Enumerator(Constructor, input) {\n    this._instanceConstructor = Constructor;\n    this.promise = new Constructor(noop);\n\n    if (!this.promise[PROMISE_ID]) {\n      makePromise(this.promise);\n    }\n\n    if (isArray(input)) {\n      this.length = input.length;\n      this._remaining = input.length;\n\n      this._result = new Array(this.length);\n\n      if (this.length === 0) {\n        fulfill(this.promise, this._result);\n      } else {\n        this.length = this.length || 0;\n        this._enumerate(input);\n        if (this._remaining === 0) {\n          fulfill(this.promise, this._result);\n        }\n      }\n    } else {\n      reject(this.promise, validationError());\n    }\n  }\n\n  Enumerator.prototype._enumerate = function _enumerate(input) {\n    for (var i = 0; this._state === PENDING && i < input.length; i++) {\n      this._eachEntry(input[i], i);\n    }\n  };\n\n  Enumerator.prototype._eachEntry = function _eachEntry(entry, i) {\n    var c = this._instanceConstructor;\n    var resolve$$1 = c.resolve;\n\n\n    if (resolve$$1 === resolve$1) {\n      var _then = void 0;\n      var error = void 0;\n      var didError = false;\n      try {\n        _then = entry.then;\n      } catch (e) {\n        didError = true;\n        error = e;\n      }\n\n      if (_then === then && entry._state !== PENDING) {\n        this._settledAt(entry._state, i, entry._result);\n      } else if (typeof _then !== 'function') {\n        this._remaining--;\n        this._result[i] = entry;\n      } else if (c === Promise$1) {\n        var promise = new c(noop);\n        if (didError) {\n          reject(promise, error);\n        } else {\n          handleMaybeThenable(promise, entry, _then);\n        }\n        this._willSettleAt(promise, i);\n      } else {\n        this._willSettleAt(new c(function (resolve$$1) {\n          return resolve$$1(entry);\n        }), i);\n      }\n    } else {\n      this._willSettleAt(resolve$$1(entry), i);\n    }\n  };\n\n  Enumerator.prototype._settledAt = function _settledAt(state, i, value) {\n    var promise = this.promise;\n\n\n    if (promise._state === PENDING) {\n      this._remaining--;\n\n      if (state === REJECTED) {\n        reject(promise, value);\n      } else {\n        this._result[i] = value;\n      }\n    }\n\n    if (this._remaining === 0) {\n      fulfill(promise, this._result);\n    }\n  };\n\n  Enumerator.prototype._willSettleAt = function _willSettleAt(promise, i) {\n    var enumerator = this;\n\n    subscribe(promise, undefined, function (value) {\n      return enumerator._settledAt(FULFILLED, i, value);\n    }, function (reason) {\n      return enumerator._settledAt(REJECTED, i, reason);\n    });\n  };\n\n  return Enumerator;\n}();\n\n/**\n  `Promise.all` accepts an array of promises, and returns a new promise which\n  is fulfilled with an array of fulfillment values for the passed promises, or\n  rejected with the reason of the first passed promise to be rejected. It casts all\n  elements of the passed iterable to promises as it runs this algorithm.\n\n  Example:\n\n  ```javascript\n  let promise1 = resolve(1);\n  let promise2 = resolve(2);\n  let promise3 = resolve(3);\n  let promises = [ promise1, promise2, promise3 ];\n\n  Promise.all(promises).then(function(array){\n    // The array here would be [ 1, 2, 3 ];\n  });\n  ```\n\n  If any of the `promises` given to `all` are rejected, the first promise\n  that is rejected will be given as an argument to the returned promises's\n  rejection handler. For example:\n\n  Example:\n\n  ```javascript\n  let promise1 = resolve(1);\n  let promise2 = reject(new Error(\"2\"));\n  let promise3 = reject(new Error(\"3\"));\n  let promises = [ promise1, promise2, promise3 ];\n\n  Promise.all(promises).then(function(array){\n    // Code here never runs because there are rejected promises!\n  }, function(error) {\n    // error.message === \"2\"\n  });\n  ```\n\n  @method all\n  @static\n  @param {Array} entries array of promises\n  @param {String} label optional string for labeling the promise.\n  Useful for tooling.\n  @return {Promise} promise that is fulfilled when all `promises` have been\n  fulfilled, or rejected if any of them become rejected.\n  @static\n*/\nfunction all(entries) {\n  return new Enumerator(this, entries).promise;\n}\n\n/**\n  `Promise.race` returns a new promise which is settled in the same way as the\n  first passed promise to settle.\n\n  Example:\n\n  ```javascript\n  let promise1 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 1');\n    }, 200);\n  });\n\n  let promise2 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 2');\n    }, 100);\n  });\n\n  Promise.race([promise1, promise2]).then(function(result){\n    // result === 'promise 2' because it was resolved before promise1\n    // was resolved.\n  });\n  ```\n\n  `Promise.race` is deterministic in that only the state of the first\n  settled promise matters. For example, even if other promises given to the\n  `promises` array argument are resolved, but the first settled promise has\n  become rejected before the other promises became fulfilled, the returned\n  promise will become rejected:\n\n  ```javascript\n  let promise1 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 1');\n    }, 200);\n  });\n\n  let promise2 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      reject(new Error('promise 2'));\n    }, 100);\n  });\n\n  Promise.race([promise1, promise2]).then(function(result){\n    // Code here never runs\n  }, function(reason){\n    // reason.message === 'promise 2' because promise 2 became rejected before\n    // promise 1 became fulfilled\n  });\n  ```\n\n  An example real-world use case is implementing timeouts:\n\n  ```javascript\n  Promise.race([ajax('foo.json'), timeout(5000)])\n  ```\n\n  @method race\n  @static\n  @param {Array} promises array of promises to observe\n  Useful for tooling.\n  @return {Promise} a promise which settles in the same way as the first passed\n  promise to settle.\n*/\nfunction race(entries) {\n  /*jshint validthis:true */\n  var Constructor = this;\n\n  if (!isArray(entries)) {\n    return new Constructor(function (_, reject) {\n      return reject(new TypeError('You must pass an array to race.'));\n    });\n  } else {\n    return new Constructor(function (resolve, reject) {\n      var length = entries.length;\n      for (var i = 0; i < length; i++) {\n        Constructor.resolve(entries[i]).then(resolve, reject);\n      }\n    });\n  }\n}\n\n/**\n  `Promise.reject` returns a promise rejected with the passed `reason`.\n  It is shorthand for the following:\n\n  ```javascript\n  let promise = new Promise(function(resolve, reject){\n    reject(new Error('WHOOPS'));\n  });\n\n  promise.then(function(value){\n    // Code here doesn't run because the promise is rejected!\n  }, function(reason){\n    // reason.message === 'WHOOPS'\n  });\n  ```\n\n  Instead of writing the above, your code now simply becomes the following:\n\n  ```javascript\n  let promise = Promise.reject(new Error('WHOOPS'));\n\n  promise.then(function(value){\n    // Code here doesn't run because the promise is rejected!\n  }, function(reason){\n    // reason.message === 'WHOOPS'\n  });\n  ```\n\n  @method reject\n  @static\n  @param {Any} reason value that the returned promise will be rejected with.\n  Useful for tooling.\n  @return {Promise} a promise rejected with the given `reason`.\n*/\nfunction reject$1(reason) {\n  /*jshint validthis:true */\n  var Constructor = this;\n  var promise = new Constructor(noop);\n  reject(promise, reason);\n  return promise;\n}\n\nfunction needsResolver() {\n  throw new TypeError('You must pass a resolver function as the first argument to the promise constructor');\n}\n\nfunction needsNew() {\n  throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\");\n}\n\n/**\n  Promise objects represent the eventual result of an asynchronous operation. The\n  primary way of interacting with a promise is through its `then` method, which\n  registers callbacks to receive either a promise's eventual value or the reason\n  why the promise cannot be fulfilled.\n\n  Terminology\n  -----------\n\n  - `promise` is an object or function with a `then` method whose behavior conforms to this specification.\n  - `thenable` is an object or function that defines a `then` method.\n  - `value` is any legal JavaScript value (including undefined, a thenable, or a promise).\n  - `exception` is a value that is thrown using the throw statement.\n  - `reason` is a value that indicates why a promise was rejected.\n  - `settled` the final resting state of a promise, fulfilled or rejected.\n\n  A promise can be in one of three states: pending, fulfilled, or rejected.\n\n  Promises that are fulfilled have a fulfillment value and are in the fulfilled\n  state.  Promises that are rejected have a rejection reason and are in the\n  rejected state.  A fulfillment value is never a thenable.\n\n  Promises can also be said to *resolve* a value.  If this value is also a\n  promise, then the original promise's settled state will match the value's\n  settled state.  So a promise that *resolves* a promise that rejects will\n  itself reject, and a promise that *resolves* a promise that fulfills will\n  itself fulfill.\n\n\n  Basic Usage:\n  ------------\n\n  ```js\n  let promise = new Promise(function(resolve, reject) {\n    // on success\n    resolve(value);\n\n    // on failure\n    reject(reason);\n  });\n\n  promise.then(function(value) {\n    // on fulfillment\n  }, function(reason) {\n    // on rejection\n  });\n  ```\n\n  Advanced Usage:\n  ---------------\n\n  Promises shine when abstracting away asynchronous interactions such as\n  `XMLHttpRequest`s.\n\n  ```js\n  function getJSON(url) {\n    return new Promise(function(resolve, reject){\n      let xhr = new XMLHttpRequest();\n\n      xhr.open('GET', url);\n      xhr.onreadystatechange = handler;\n      xhr.responseType = 'json';\n      xhr.setRequestHeader('Accept', 'application/json');\n      xhr.send();\n\n      function handler() {\n        if (this.readyState === this.DONE) {\n          if (this.status === 200) {\n            resolve(this.response);\n          } else {\n            reject(new Error('getJSON: `' + url + '` failed with status: [' + this.status + ']'));\n          }\n        }\n      };\n    });\n  }\n\n  getJSON('/posts.json').then(function(json) {\n    // on fulfillment\n  }, function(reason) {\n    // on rejection\n  });\n  ```\n\n  Unlike callbacks, promises are great composable primitives.\n\n  ```js\n  Promise.all([\n    getJSON('/posts'),\n    getJSON('/comments')\n  ]).then(function(values){\n    values[0] // => postsJSON\n    values[1] // => commentsJSON\n\n    return values;\n  });\n  ```\n\n  @class Promise\n  @param {Function} resolver\n  Useful for tooling.\n  @constructor\n*/\n\nvar Promise$1 = function () {\n  function Promise(resolver) {\n    this[PROMISE_ID] = nextId();\n    this._result = this._state = undefined;\n    this._subscribers = [];\n\n    if (noop !== resolver) {\n      typeof resolver !== 'function' && needsResolver();\n      this instanceof Promise ? initializePromise(this, resolver) : needsNew();\n    }\n  }\n\n  /**\n  The primary way of interacting with a promise is through its `then` method,\n  which registers callbacks to receive either a promise's eventual value or the\n  reason why the promise cannot be fulfilled.\n   ```js\n  findUser().then(function(user){\n    // user is available\n  }, function(reason){\n    // user is unavailable, and you are given the reason why\n  });\n  ```\n   Chaining\n  --------\n   The return value of `then` is itself a promise.  This second, 'downstream'\n  promise is resolved with the return value of the first promise's fulfillment\n  or rejection handler, or rejected if the handler throws an exception.\n   ```js\n  findUser().then(function (user) {\n    return user.name;\n  }, function (reason) {\n    return 'default name';\n  }).then(function (userName) {\n    // If `findUser` fulfilled, `userName` will be the user's name, otherwise it\n    // will be `'default name'`\n  });\n   findUser().then(function (user) {\n    throw new Error('Found user, but still unhappy');\n  }, function (reason) {\n    throw new Error('`findUser` rejected and we're unhappy');\n  }).then(function (value) {\n    // never reached\n  }, function (reason) {\n    // if `findUser` fulfilled, `reason` will be 'Found user, but still unhappy'.\n    // If `findUser` rejected, `reason` will be '`findUser` rejected and we're unhappy'.\n  });\n  ```\n  If the downstream promise does not specify a rejection handler, rejection reasons will be propagated further downstream.\n   ```js\n  findUser().then(function (user) {\n    throw new PedagogicalException('Upstream error');\n  }).then(function (value) {\n    // never reached\n  }).then(function (value) {\n    // never reached\n  }, function (reason) {\n    // The `PedgagocialException` is propagated all the way down to here\n  });\n  ```\n   Assimilation\n  ------------\n   Sometimes the value you want to propagate to a downstream promise can only be\n  retrieved asynchronously. This can be achieved by returning a promise in the\n  fulfillment or rejection handler. The downstream promise will then be pending\n  until the returned promise is settled. This is called *assimilation*.\n   ```js\n  findUser().then(function (user) {\n    return findCommentsByAuthor(user);\n  }).then(function (comments) {\n    // The user's comments are now available\n  });\n  ```\n   If the assimliated promise rejects, then the downstream promise will also reject.\n   ```js\n  findUser().then(function (user) {\n    return findCommentsByAuthor(user);\n  }).then(function (comments) {\n    // If `findCommentsByAuthor` fulfills, we'll have the value here\n  }, function (reason) {\n    // If `findCommentsByAuthor` rejects, we'll have the reason here\n  });\n  ```\n   Simple Example\n  --------------\n   Synchronous Example\n   ```javascript\n  let result;\n   try {\n    result = findResult();\n    // success\n  } catch(reason) {\n    // failure\n  }\n  ```\n   Errback Example\n   ```js\n  findResult(function(result, err){\n    if (err) {\n      // failure\n    } else {\n      // success\n    }\n  });\n  ```\n   Promise Example;\n   ```javascript\n  findResult().then(function(result){\n    // success\n  }, function(reason){\n    // failure\n  });\n  ```\n   Advanced Example\n  --------------\n   Synchronous Example\n   ```javascript\n  let author, books;\n   try {\n    author = findAuthor();\n    books  = findBooksByAuthor(author);\n    // success\n  } catch(reason) {\n    // failure\n  }\n  ```\n   Errback Example\n   ```js\n   function foundBooks(books) {\n   }\n   function failure(reason) {\n   }\n   findAuthor(function(author, err){\n    if (err) {\n      failure(err);\n      // failure\n    } else {\n      try {\n        findBoooksByAuthor(author, function(books, err) {\n          if (err) {\n            failure(err);\n          } else {\n            try {\n              foundBooks(books);\n            } catch(reason) {\n              failure(reason);\n            }\n          }\n        });\n      } catch(error) {\n        failure(err);\n      }\n      // success\n    }\n  });\n  ```\n   Promise Example;\n   ```javascript\n  findAuthor().\n    then(findBooksByAuthor).\n    then(function(books){\n      // found books\n  }).catch(function(reason){\n    // something went wrong\n  });\n  ```\n   @method then\n  @param {Function} onFulfilled\n  @param {Function} onRejected\n  Useful for tooling.\n  @return {Promise}\n  */\n\n  /**\n  `catch` is simply sugar for `then(undefined, onRejection)` which makes it the same\n  as the catch block of a try/catch statement.\n  ```js\n  function findAuthor(){\n  throw new Error('couldn't find that author');\n  }\n  // synchronous\n  try {\n  findAuthor();\n  } catch(reason) {\n  // something went wrong\n  }\n  // async with promises\n  findAuthor().catch(function(reason){\n  // something went wrong\n  });\n  ```\n  @method catch\n  @param {Function} onRejection\n  Useful for tooling.\n  @return {Promise}\n  */\n\n\n  Promise.prototype.catch = function _catch(onRejection) {\n    return this.then(null, onRejection);\n  };\n\n  /**\n    `finally` will be invoked regardless of the promise's fate just as native\n    try/catch/finally behaves\n  \n    Synchronous example:\n  \n    ```js\n    findAuthor() {\n      if (Math.random() > 0.5) {\n        throw new Error();\n      }\n      return new Author();\n    }\n  \n    try {\n      return findAuthor(); // succeed or fail\n    } catch(error) {\n      return findOtherAuther();\n    } finally {\n      // always runs\n      // doesn't affect the return value\n    }\n    ```\n  \n    Asynchronous example:\n  \n    ```js\n    findAuthor().catch(function(reason){\n      return findOtherAuther();\n    }).finally(function(){\n      // author was either found, or not\n    });\n    ```\n  \n    @method finally\n    @param {Function} callback\n    @return {Promise}\n  */\n\n\n  Promise.prototype.finally = function _finally(callback) {\n    var promise = this;\n    var constructor = promise.constructor;\n\n    if (isFunction(callback)) {\n      return promise.then(function (value) {\n        return constructor.resolve(callback()).then(function () {\n          return value;\n        });\n      }, function (reason) {\n        return constructor.resolve(callback()).then(function () {\n          throw reason;\n        });\n      });\n    }\n\n    return promise.then(callback, callback);\n  };\n\n  return Promise;\n}();\n\nPromise$1.prototype.then = then;\nPromise$1.all = all;\nPromise$1.race = race;\nPromise$1.resolve = resolve$1;\nPromise$1.reject = reject$1;\nPromise$1._setScheduler = setScheduler;\nPromise$1._setAsap = setAsap;\nPromise$1._asap = asap;\n\n/*global self*/\nfunction polyfill() {\n  var local = void 0;\n\n  if (typeof global !== 'undefined') {\n    local = global;\n  } else if (typeof self !== 'undefined') {\n    local = self;\n  } else {\n    try {\n      local = Function('return this')();\n    } catch (e) {\n      throw new Error('polyfill failed because global object is unavailable in this environment');\n    }\n  }\n\n  var P = local.Promise;\n\n  if (P) {\n    var promiseToString = null;\n    try {\n      promiseToString = Object.prototype.toString.call(P.resolve());\n    } catch (e) {\n      // silently ignored\n    }\n\n    if (promiseToString === '[object Promise]' && !P.cast) {\n      return;\n    }\n  }\n\n  local.Promise = Promise$1;\n}\n\n// Strange compat..\nPromise$1.polyfill = polyfill;\nPromise$1.Promise = Promise$1;\n\nreturn Promise$1;\n\n})));\n\n\n\n//# sourceMappingURL=es6-promise.map\n","import _Promise from \"es6-promise\";\n\nexport default typeof Promise !== \"undefined\" ? Promise : _Promise;\n","import config from \"./config\";\nimport { objectType } from \"./utilities\";\nimport Promise from \"../promise\";\n\n// Register logging callbacks\nexport function registerLoggingCallbacks( obj ) {\n\tvar i, l, key,\n\t\tcallbackNames = [ \"begin\", \"done\", \"log\", \"testStart\", \"testDone\",\n\t\t\t\"moduleStart\", \"moduleDone\" ];\n\n\tfunction registerLoggingCallback( key ) {\n\t\tvar loggingCallback = function( callback ) {\n\t\t\tif ( objectType( callback ) !== \"function\" ) {\n\t\t\t\tthrow new Error(\n\t\t\t\t\t\"QUnit logging methods require a callback function as their first parameters.\"\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tconfig.callbacks[ key ].push( callback );\n\t\t};\n\n\t\treturn loggingCallback;\n\t}\n\n\tfor ( i = 0, l = callbackNames.length; i < l; i++ ) {\n\t\tkey = callbackNames[ i ];\n\n\t\t// Initialize key collection of logging callback\n\t\tif ( objectType( config.callbacks[ key ] ) === \"undefined\" ) {\n\t\t\tconfig.callbacks[ key ] = [];\n\t\t}\n\n\t\tobj[ key ] = registerLoggingCallback( key );\n\t}\n}\n\nexport function runLoggingCallbacks( key, args ) {\n\tvar callbacks = config.callbacks[ key ];\n\n\t// Handling 'log' callbacks separately. Unlike the other callbacks,\n\t// the log callback is not controlled by the processing queue,\n\t// but rather used by asserts. Hence to promisfy the 'log' callback\n\t// would mean promisfying each step of a test\n\tif ( key === \"log\" ) {\n\t\tcallbacks.map( callback => callback( args ) );\n\t\treturn;\n\t}\n\n\t// ensure that each callback is executed serially\n\treturn callbacks.reduce( ( promiseChain, callback ) => {\n\t\treturn promiseChain.then( () => {\n\t\t\treturn Promise.resolve( callback( args ) );\n\t\t} );\n\t}, Promise.resolve( [] ) );\n}\n","// Doesn't support IE9, it will return undefined on these browsers\n// See also https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Error/Stack\nvar fileName = ( sourceFromStacktrace( 0 ) || \"\" )\n\t.replace( /(:\\d+)+\\)?/, \"\" )\n\t.replace( /.+\\//, \"\" );\n\nexport function extractStacktrace( e, offset ) {\n\toffset = offset === undefined ? 4 : offset;\n\n\tvar stack, include, i;\n\n\tif ( e && e.stack ) {\n\t\tstack = e.stack.split( \"\\n\" );\n\t\tif ( /^error$/i.test( stack[ 0 ] ) ) {\n\t\t\tstack.shift();\n\t\t}\n\t\tif ( fileName ) {\n\t\t\tinclude = [];\n\t\t\tfor ( i = offset; i < stack.length; i++ ) {\n\t\t\t\tif ( stack[ i ].indexOf( fileName ) !== -1 ) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tinclude.push( stack[ i ] );\n\t\t\t}\n\t\t\tif ( include.length ) {\n\t\t\t\treturn include.join( \"\\n\" );\n\t\t\t}\n\t\t}\n\t\treturn stack[ offset ];\n\t}\n}\n\nexport function sourceFromStacktrace( offset ) {\n\tvar error = new Error();\n\n\t// Support: Safari <=7 only, IE <=10 - 11 only\n\t// Not all browsers generate the `stack` property for `new Error()`, see also #636\n\tif ( !error.stack ) {\n\t\ttry {\n\t\t\tthrow error;\n\t\t} catch ( err ) {\n\t\t\terror = err;\n\t\t}\n\t}\n\n\treturn extractStacktrace( error, offset );\n}\n","import config from \"./config\";\nimport {\n\tdefined,\n\tgenerateHash,\n\tnow\n} from \"./utilities\";\nimport {\n\trunLoggingCallbacks\n} from \"./logging\";\n\nimport Promise from \"../promise\";\nimport {\n\tglobalSuite\n} from \"../core\";\nimport {\n\temit\n} from \"../events\";\nimport {\n\tsetTimeout\n} from \"../globals\";\n\nlet priorityCount = 0;\nlet unitSampler;\n\n// This is a queue of functions that are tasks within a single test.\n// After tests are dequeued from config.queue they are expanded into\n// a set of tasks in this queue.\nconst taskQueue = [];\n\n/**\n * Advances the taskQueue to the next task. If the taskQueue is empty,\n * process the testQueue\n */\nfunction advance() {\n\tadvanceTaskQueue();\n\n\tif ( !taskQueue.length && !config.blocking && !config.current ) {\n\t\tadvanceTestQueue();\n\t}\n}\n\n/**\n * Advances the taskQueue with an increased depth\n */\nfunction advanceTaskQueue() {\n\tconst start = now();\n\tconfig.depth = ( config.depth || 0 ) + 1;\n\n\tprocessTaskQueue( start );\n\n\tconfig.depth--;\n}\n\n/**\n * Process the first task on the taskQueue as a promise.\n * Each task is a function returned by https://github.com/qunitjs/qunit/blob/master/src/test.js#L381\n */\nfunction processTaskQueue( start ) {\n\tif ( taskQueue.length && !config.blocking ) {\n\t\tconst elapsedTime = now() - start;\n\n\t\tif ( !defined.setTimeout || config.updateRate <= 0 || elapsedTime < config.updateRate ) {\n\t\t\tconst task = taskQueue.shift();\n\t\t\tPromise.resolve( task() ).then( function() {\n\t\t\t\tif ( !taskQueue.length ) {\n\t\t\t\t\tadvance();\n\t\t\t\t} else {\n\t\t\t\t\tprocessTaskQueue( start );\n\t\t\t\t}\n\t\t\t} );\n\t\t} else {\n\t\t\tsetTimeout( advance );\n\t\t}\n\t}\n}\n\n/**\n * Advance the testQueue to the next test to process. Call done() if testQueue completes.\n */\nfunction advanceTestQueue() {\n\tif ( !config.blocking && !config.queue.length && config.depth === 0 ) {\n\t\tdone();\n\t\treturn;\n\t}\n\n\tconst testTasks = config.queue.shift();\n\taddToTaskQueue( testTasks() );\n\n\tif ( priorityCount > 0 ) {\n\t\tpriorityCount--;\n\t}\n\n\tadvance();\n}\n\n/**\n * Enqueue the tasks for a test into the task queue.\n * @param {Array} tasksArray\n */\nfunction addToTaskQueue( tasksArray ) {\n\ttaskQueue.push( ...tasksArray );\n}\n\n/**\n * Return the number of tasks remaining in the task queue to be processed.\n * @return {Number}\n */\nfunction taskQueueLength() {\n\treturn taskQueue.length;\n}\n\n/**\n * Adds a test to the TestQueue for execution.\n * @param {Function} testTasksFunc\n * @param {Boolean} prioritize\n * @param {String} seed\n */\nfunction addToTestQueue( testTasksFunc, prioritize, seed ) {\n\tif ( prioritize ) {\n\t\tconfig.queue.splice( priorityCount++, 0, testTasksFunc );\n\t} else if ( seed ) {\n\t\tif ( !unitSampler ) {\n\t\t\tunitSampler = unitSamplerGenerator( seed );\n\t\t}\n\n\t\t// Insert into a random position after all prioritized items\n\t\tconst index = Math.floor( unitSampler() * ( config.queue.length - priorityCount + 1 ) );\n\t\tconfig.queue.splice( priorityCount + index, 0, testTasksFunc );\n\t} else {\n\t\tconfig.queue.push( testTasksFunc );\n\t}\n}\n\n/**\n * Creates a seeded \"sample\" generator which is used for randomizing tests.\n */\nfunction unitSamplerGenerator( seed ) {\n\n\t// 32-bit xorshift, requires only a nonzero seed\n\t// https://excamera.com/sphinx/article-xorshift.html\n\tlet sample = parseInt( generateHash( seed ), 16 ) || -1;\n\treturn function() {\n\t\tsample ^= sample << 13;\n\t\tsample ^= sample >>> 17;\n\t\tsample ^= sample << 5;\n\n\t\t// ECMAScript has no unsigned number type\n\t\tif ( sample < 0 ) {\n\t\t\tsample += 0x100000000;\n\t\t}\n\n\t\treturn sample / 0x100000000;\n\t};\n}\n\n/**\n * This function is called when the ProcessingQueue is done processing all\n * items. It handles emitting the final run events.\n */\nfunction done() {\n\tconst storage = config.storage;\n\n\tProcessingQueue.finished = true;\n\n\tconst runtime = now() - config.started;\n\tconst passed = config.stats.all - config.stats.bad;\n\n\tif ( config.stats.testCount === 0 ) {\n\n\t\tif ( config.filter && config.filter.length ) {\n\t\t\tthrow new Error( `No tests matched the filter \"${config.filter}\".` );\n\t\t}\n\n\t\tif ( config.module && config.module.length ) {\n\t\t\tthrow new Error( `No tests matched the module \"${config.module}\".` );\n\t\t}\n\n\t\tif ( config.moduleId && config.moduleId.length ) {\n\t\t\tthrow new Error( `No tests matched the moduleId \"${config.moduleId}\".` );\n\t\t}\n\n\t\tif ( config.testId && config.testId.length ) {\n\t\t\tthrow new Error( `No tests matched the testId \"${config.testId}\".` );\n\t\t}\n\n\t\tthrow new Error( \"No tests were run.\" );\n\n\t}\n\n\temit( \"runEnd\", globalSuite.end( true ) );\n\trunLoggingCallbacks( \"done\", {\n\t\tpassed,\n\t\tfailed: config.stats.bad,\n\t\ttotal: config.stats.all,\n\t\truntime\n\t} ).then( () => {\n\n\t\t// Clear own storage items if all tests passed\n\t\tif ( storage && config.stats.bad === 0 ) {\n\t\t\tfor ( let i = storage.length - 1; i >= 0; i-- ) {\n\t\t\t\tconst key = storage.key( i );\n\n\t\t\t\tif ( key.indexOf( \"qunit-test-\" ) === 0 ) {\n\t\t\t\t\tstorage.removeItem( key );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} );\n}\n\nconst ProcessingQueue = {\n\tfinished: false,\n\tadd: addToTestQueue,\n\tadvance,\n\ttaskCount: taskQueueLength\n};\n\nexport default ProcessingQueue;\n","import { extend, measure, performance, performanceNow } from \"../core/utilities\";\n\nexport default class TestReport {\n\tconstructor( name, suite, options ) {\n\t\tthis.name = name;\n\t\tthis.suiteName = suite.name;\n\t\tthis.fullName = suite.fullName.concat( name );\n\t\tthis.runtime = 0;\n\t\tthis.assertions = [];\n\n\t\tthis.skipped = !!options.skip;\n\t\tthis.todo = !!options.todo;\n\n\t\tthis.valid = options.valid;\n\n\t\tthis._startTime = 0;\n\t\tthis._endTime = 0;\n\n\t\tsuite.pushTest( this );\n\t}\n\n\tstart( recordTime ) {\n\t\tif ( recordTime ) {\n\t\t\tthis._startTime = performanceNow();\n\t\t\tif ( performance ) {\n\t\t\t\tperformance.mark( \"qunit_test_start\" );\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\tname: this.name,\n\t\t\tsuiteName: this.suiteName,\n\t\t\tfullName: this.fullName.slice()\n\t\t};\n\t}\n\n\tend( recordTime ) {\n\t\tif ( recordTime ) {\n\t\t\tthis._endTime = performanceNow();\n\t\t\tif ( performance ) {\n\t\t\t\tperformance.mark( \"qunit_test_end\" );\n\n\t\t\t\tconst testName = this.fullName.join( \" – \" );\n\n\t\t\t\tmeasure(\n\t\t\t\t\t`QUnit Test: ${testName}`,\n\t\t\t\t\t\"qunit_test_start\",\n\t\t\t\t\t\"qunit_test_end\"\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\treturn extend( this.start(), {\n\t\t\truntime: this.getRuntime(),\n\t\t\tstatus: this.getStatus(),\n\t\t\terrors: this.getFailedAssertions(),\n\t\t\tassertions: this.getAssertions()\n\t\t} );\n\t}\n\n\tpushAssertion( assertion ) {\n\t\tthis.assertions.push( assertion );\n\t}\n\n\tgetRuntime() {\n\t\treturn this._endTime - this._startTime;\n\t}\n\n\tgetStatus() {\n\t\tif ( this.skipped ) {\n\t\t\treturn \"skipped\";\n\t\t}\n\n\t\tconst testPassed = this.getFailedAssertions().length > 0 ? this.todo : !this.todo;\n\n\t\tif ( !testPassed ) {\n\t\t\treturn \"failed\";\n\t\t} else if ( this.todo ) {\n\t\t\treturn \"todo\";\n\t\t} else {\n\t\t\treturn \"passed\";\n\t\t}\n\t}\n\n\tgetFailedAssertions() {\n\t\treturn this.assertions.filter( assertion => !assertion.passed );\n\t}\n\n\tgetAssertions() {\n\t\treturn this.assertions.slice();\n\t}\n\n\t// Remove actual and expected values from assertions. This is to prevent\n\t// leaking memory throughout a test suite.\n\tslimAssertions() {\n\t\tthis.assertions = this.assertions.map( assertion => {\n\t\t\tdelete assertion.actual;\n\t\t\tdelete assertion.expected;\n\t\t\treturn assertion;\n\t\t} );\n\t}\n}\n","import global from \"global\";\n\nimport { begin } from \"./core\";\nimport { setTimeout, clearTimeout } from \"./globals\";\nimport { emit } from \"./events\";\nimport Assert from \"./assert\";\nimport Promise from \"./promise\";\n\nimport config from \"./core/config\";\nimport {\n\tdefined,\n\tdiff,\n\textend,\n\tgenerateHash,\n\thasOwn,\n\tinArray,\n\tnow,\n\tobjectType\n} from \"./core/utilities\";\nimport { runLoggingCallbacks } from \"./core/logging\";\nimport { extractStacktrace, sourceFromStacktrace } from \"./core/stacktrace\";\nimport ProcessingQueue from \"./core/processing-queue\";\n\nimport TestReport from \"./reports/test\";\n\nlet focused = false;\n\nexport default function Test( settings ) {\n\tvar i, l;\n\n\t++Test.count;\n\n\tthis.expected = null;\n\tthis.assertions = [];\n\tthis.semaphore = 0;\n\tthis.module = config.currentModule;\n\tthis.steps = [];\n\tthis.timeout = undefined;\n\tthis.errorForStack = new Error();\n\n\t// If a module is skipped, all its tests and the tests of the child suites\n\t// should be treated as skipped even if they are defined as `only` or `todo`.\n\t// As for `todo` module, all its tests will be treated as `todo` except for\n\t// tests defined as `skip` which will be left intact.\n\t//\n\t// So, if a test is defined as `todo` and is inside a skipped module, we should\n\t// then treat that test as if was defined as `skip`.\n\tif ( this.module.skip ) {\n\t\tsettings.skip = true;\n\t\tsettings.todo = false;\n\n\t// Skipped tests should be left intact\n\t} else\tif ( this.module.todo && !settings.skip ) {\n\t\tsettings.todo = true;\n\t}\n\n\textend( this, settings );\n\n\tthis.testReport = new TestReport( settings.testName, this.module.suiteReport, {\n\t\ttodo: settings.todo,\n\t\tskip: settings.skip,\n\t\tvalid: this.valid()\n\t} );\n\n\t// Register unique strings\n\tfor ( i = 0, l = this.module.tests; i < l.length; i++ ) {\n\t\tif ( this.module.tests[ i ].name === this.testName ) {\n\t\t\tthis.testName += \" \";\n\t\t}\n\t}\n\n\tthis.testId = generateHash( this.module.name, this.testName );\n\n\tthis.module.tests.push( {\n\t\tname: this.testName,\n\t\ttestId: this.testId,\n\t\tskip: !!settings.skip\n\t} );\n\n\tif ( settings.skip ) {\n\n\t\t// Skipped tests will fully ignore any sent callback\n\t\tthis.callback = function() {};\n\t\tthis.async = false;\n\t\tthis.expected = 0;\n\t} else {\n\t\tif ( typeof this.callback !== \"function\" ) {\n\t\t\tconst method = this.todo ? \"todo\" : \"test\";\n\n\t\t\t// eslint-disable-next-line max-len\n\t\t\tthrow new TypeError( `You must provide a function as a test callback to QUnit.${method}(\"${settings.testName}\")` );\n\t\t}\n\n\t\tthis.assert = new Assert( this );\n\t}\n}\n\nTest.count = 0;\n\nfunction getNotStartedModules( startModule ) {\n\tvar module = startModule,\n\t\tmodules = [];\n\n\twhile ( module && module.testsRun === 0 ) {\n\t\tmodules.push( module );\n\t\tmodule = module.parentModule;\n\t}\n\n\t// The above push modules from the child to the parent\n\t// return a reversed order with the top being the top most parent module\n\treturn modules.reverse();\n}\n\nTest.prototype = {\n\n\t// generating a stack trace can be expensive, so using a getter defers this until we need it\n\tget stack() {\n\t\treturn extractStacktrace( this.errorForStack, 2 );\n\t},\n\n\tbefore: function() {\n\t\tvar module = this.module,\n\t\t\tnotStartedModules = getNotStartedModules( module );\n\n\t\t// ensure the callbacks are executed serially for each module\n\t\tvar callbackPromises = notStartedModules.reduce( ( promiseChain, startModule ) => {\n\t\t\treturn promiseChain.then( () => {\n\t\t\t\tstartModule.stats = { all: 0, bad: 0, started: now() };\n\t\t\t\temit( \"suiteStart\", startModule.suiteReport.start( true ) );\n\t\t\t\treturn runLoggingCallbacks( \"moduleStart\", {\n\t\t\t\t\tname: startModule.name,\n\t\t\t\t\ttests: startModule.tests\n\t\t\t\t} );\n\t\t\t} );\n\t\t}, Promise.resolve( [] ) );\n\n\t\treturn callbackPromises.then( () => {\n\t\t\tconfig.current = this;\n\n\t\t\tthis.testEnvironment = extend( {}, module.testEnvironment );\n\n\t\t\tthis.started = now();\n\t\t\temit( \"testStart\", this.testReport.start( true ) );\n\t\t\treturn runLoggingCallbacks( \"testStart\", {\n\t\t\t\tname: this.testName,\n\t\t\t\tmodule: module.name,\n\t\t\t\ttestId: this.testId,\n\t\t\t\tpreviousFailure: this.previousFailure\n\t\t\t} ).then( () => {\n\t\t\t\tif ( !config.pollution ) {\n\t\t\t\t\tsaveGlobal();\n\t\t\t\t}\n\t\t\t} );\n\t\t} );\n\t},\n\n\trun: function() {\n\t\tvar promise;\n\n\t\tconfig.current = this;\n\n\t\tthis.callbackStarted = now();\n\n\t\tif ( config.notrycatch ) {\n\t\t\trunTest( this );\n\t\t\treturn;\n\t\t}\n\n\t\ttry {\n\t\t\trunTest( this );\n\t\t} catch ( e ) {\n\t\t\tthis.pushFailure( \"Died on test #\" + ( this.assertions.length + 1 ) + \" \" +\n\t\t\t\tthis.stack + \": \" + ( e.message || e ), extractStacktrace( e, 0 ) );\n\n\t\t\t// Else next test will carry the responsibility\n\t\t\tsaveGlobal();\n\n\t\t\t// Restart the tests if they're blocking\n\t\t\tif ( config.blocking ) {\n\t\t\t\tinternalRecover( this );\n\t\t\t}\n\t\t}\n\n\t\tfunction runTest( test ) {\n\t\t\tpromise = test.callback.call( test.testEnvironment, test.assert );\n\t\t\ttest.resolvePromise( promise );\n\n\t\t\t// If the test has a \"lock\" on it, but the timeout is 0, then we push a\n\t\t\t// failure as the test should be synchronous.\n\t\t\tif ( test.timeout === 0 && test.semaphore !== 0 ) {\n\t\t\t\tpushFailure(\n\t\t\t\t\t\"Test did not finish synchronously even though assert.timeout( 0 ) was used.\",\n\t\t\t\t\tsourceFromStacktrace( 2 )\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t},\n\n\tafter: function() {\n\t\tcheckPollution();\n\t},\n\n\tqueueHook( hook, hookName, hookOwner ) {\n\t\tconst callHook = () => {\n\t\t\tconst promise = hook.call( this.testEnvironment, this.assert );\n\t\t\tthis.resolvePromise( promise, hookName );\n\t\t};\n\n\t\tconst runHook = () => {\n\t\t\tif ( hookName === \"before\" ) {\n\t\t\t\tif ( hookOwner.unskippedTestsRun !== 0 ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tthis.preserveEnvironment = true;\n\t\t\t}\n\n\t\t\t// The 'after' hook should only execute when there are not tests left and\n\t\t\t// when the 'after' and 'finish' tasks are the only tasks left to process\n\t\t\tif ( hookName === \"after\" &&\n\t\t\t\thookOwner.unskippedTestsRun !== numberOfUnskippedTests( hookOwner ) - 1 &&\n\t\t\t\t( config.queue.length > 0 || ProcessingQueue.taskCount() > 2 ) ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconfig.current = this;\n\t\t\tif ( config.notrycatch ) {\n\t\t\t\tcallHook();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tcallHook();\n\t\t\t} catch ( error ) {\n\t\t\t\tthis.pushFailure( hookName + \" failed on \" + this.testName + \": \" +\n\t\t\t\t( error.message || error ), extractStacktrace( error, 0 ) );\n\t\t\t}\n\t\t};\n\n\t\treturn runHook;\n\t},\n\n\t// Currently only used for module level hooks, can be used to add global level ones\n\thooks( handler ) {\n\t\tconst hooks = [];\n\n\t\tfunction processHooks( test, module ) {\n\t\t\tif ( module.parentModule ) {\n\t\t\t\tprocessHooks( test, module.parentModule );\n\t\t\t}\n\n\t\t\tif ( module.hooks[ handler ].length ) {\n\t\t\t\tfor ( let i = 0; i < module.hooks[ handler ].length; i++ ) {\n\t\t\t\t\thooks.push( test.queueHook( module.hooks[ handler ][ i ], handler, module ) );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Hooks are ignored on skipped tests\n\t\tif ( !this.skip ) {\n\t\t\tprocessHooks( this, this.module );\n\t\t}\n\n\t\treturn hooks;\n\t},\n\n\tfinish: function() {\n\t\tconfig.current = this;\n\n\t\t// Release the test callback to ensure that anything referenced has been\n\t\t// released to be garbage collected.\n\t\tthis.callback = undefined;\n\n\t\tif ( this.steps.length ) {\n\t\t\tconst stepsList = this.steps.join( \", \" );\n\t\t\tthis.pushFailure( \"Expected assert.verifySteps() to be called before end of test \" +\n\t\t\t\t`after using assert.step(). Unverified steps: ${stepsList}`, this.stack );\n\t\t}\n\n\t\tif ( config.requireExpects && this.expected === null ) {\n\t\t\tthis.pushFailure( \"Expected number of assertions to be defined, but expect() was \" +\n\t\t\t\t\"not called.\", this.stack );\n\t\t} else if ( this.expected !== null && this.expected !== this.assertions.length ) {\n\t\t\tthis.pushFailure( \"Expected \" + this.expected + \" assertions, but \" +\n\t\t\t\tthis.assertions.length + \" were run\", this.stack );\n\t\t} else if ( this.expected === null && !this.assertions.length ) {\n\t\t\tthis.pushFailure( \"Expected at least one assertion, but none were run - call \" +\n\t\t\t\t\"expect(0) to accept zero assertions.\", this.stack );\n\t\t}\n\n\t\tvar i,\n\t\t\tmodule = this.module,\n\t\t\tmoduleName = module.name,\n\t\t\ttestName = this.testName,\n\t\t\tskipped = !!this.skip,\n\t\t\ttodo = !!this.todo,\n\t\t\tbad = 0,\n\t\t\tstorage = config.storage;\n\n\t\tthis.runtime = now() - this.started;\n\n\t\tconfig.stats.all += this.assertions.length;\n\t\tconfig.stats.testCount += 1;\n\t\tmodule.stats.all += this.assertions.length;\n\n\t\tfor ( i = 0; i < this.assertions.length; i++ ) {\n\t\t\tif ( !this.assertions[ i ].result ) {\n\t\t\t\tbad++;\n\t\t\t\tconfig.stats.bad++;\n\t\t\t\tmodule.stats.bad++;\n\t\t\t}\n\t\t}\n\n\t\tnotifyTestsRan( module, skipped );\n\n\t\t// Store result when possible\n\t\tif ( storage ) {\n\t\t\tif ( bad ) {\n\t\t\t\tstorage.setItem( \"qunit-test-\" + moduleName + \"-\" + testName, bad );\n\t\t\t} else {\n\t\t\t\tstorage.removeItem( \"qunit-test-\" + moduleName + \"-\" + testName );\n\t\t\t}\n\t\t}\n\n\t\t// After emitting the js-reporters event we cleanup the assertion data to\n\t\t// avoid leaking it. It is not used by the legacy testDone callbacks.\n\t\temit( \"testEnd\", this.testReport.end( true ) );\n\t\tthis.testReport.slimAssertions();\n\t\tconst test = this;\n\n\t\treturn runLoggingCallbacks( \"testDone\", {\n\t\t\tname: testName,\n\t\t\tmodule: moduleName,\n\t\t\tskipped: skipped,\n\t\t\ttodo: todo,\n\t\t\tfailed: bad,\n\t\t\tpassed: this.assertions.length - bad,\n\t\t\ttotal: this.assertions.length,\n\t\t\truntime: skipped ? 0 : this.runtime,\n\n\t\t\t// HTML Reporter use\n\t\t\tassertions: this.assertions,\n\t\t\ttestId: this.testId,\n\n\t\t\t// Source of Test\n\t\t\t// generating stack trace is expensive, so using a getter will help defer this until we need it\n\t\t\tget source() { return test.stack; }\n\t\t} ).then( function() {\n\t\t\tif ( module.testsRun === numberOfTests( module ) ) {\n\t\t\t\tconst completedModules = [ module ];\n\n\t\t\t\t// Check if the parent modules, iteratively, are done. If that the case,\n\t\t\t\t// we emit the `suiteEnd` event and trigger `moduleDone` callback.\n\t\t\t\tlet parent = module.parentModule;\n\t\t\t\twhile ( parent && parent.testsRun === numberOfTests( parent ) ) {\n\t\t\t\t\tcompletedModules.push( parent );\n\t\t\t\t\tparent = parent.parentModule;\n\t\t\t\t}\n\n\t\t\t\treturn completedModules.reduce( ( promiseChain, completedModule ) => {\n\t\t\t\t\treturn promiseChain.then( () => {\n\t\t\t\t\t\treturn logSuiteEnd( completedModule );\n\t\t\t\t\t} );\n\t\t\t\t}, Promise.resolve( [] ) );\n\t\t\t}\n\t\t} ).then( function() {\n\t\t\tconfig.current = undefined;\n\t\t} );\n\n\t\tfunction logSuiteEnd( module ) {\n\n\t\t\t// Reset `module.hooks` to ensure that anything referenced in these hooks\n\t\t\t// has been released to be garbage collected.\n\t\t\tmodule.hooks = {};\n\n\t\t\temit( \"suiteEnd\", module.suiteReport.end( true ) );\n\t\t\treturn runLoggingCallbacks( \"moduleDone\", {\n\t\t\t\tname: module.name,\n\t\t\t\ttests: module.tests,\n\t\t\t\tfailed: module.stats.bad,\n\t\t\t\tpassed: module.stats.all - module.stats.bad,\n\t\t\t\ttotal: module.stats.all,\n\t\t\t\truntime: now() - module.stats.started\n\t\t\t} );\n\t\t}\n\t},\n\n\tpreserveTestEnvironment: function() {\n\t\tif ( this.preserveEnvironment ) {\n\t\t\tthis.module.testEnvironment = this.testEnvironment;\n\t\t\tthis.testEnvironment = extend( {}, this.module.testEnvironment );\n\t\t}\n\t},\n\n\tqueue() {\n\t\tconst test = this;\n\n\t\tif ( !this.valid() ) {\n\t\t\treturn;\n\t\t}\n\n\t\tfunction runTest() {\n\t\t\treturn [\n\t\t\t\tfunction() {\n\t\t\t\t\treturn test.before();\n\t\t\t\t},\n\n\t\t\t\t...test.hooks( \"before\" ),\n\n\t\t\t\tfunction() {\n\t\t\t\t\ttest.preserveTestEnvironment();\n\t\t\t\t},\n\n\t\t\t\t...test.hooks( \"beforeEach\" ),\n\n\t\t\t\tfunction() {\n\t\t\t\t\ttest.run();\n\t\t\t\t},\n\n\t\t\t\t...test.hooks( \"afterEach\" ).reverse(),\n\t\t\t\t...test.hooks( \"after\" ).reverse(),\n\n\t\t\t\tfunction() {\n\t\t\t\t\ttest.after();\n\t\t\t\t},\n\n\t\t\t\tfunction() {\n\t\t\t\t\treturn test.finish();\n\t\t\t\t}\n\t\t\t];\n\t\t}\n\n\t\tconst previousFailCount = config.storage &&\n\t\t\t\t+config.storage.getItem( \"qunit-test-\" + this.module.name + \"-\" + this.testName );\n\n\t\t// Prioritize previously failed tests, detected from storage\n\t\tconst prioritize = config.reorder && !!previousFailCount;\n\n\t\tthis.previousFailure = !!previousFailCount;\n\n\t\tProcessingQueue.add( runTest, prioritize, config.seed );\n\n\t\t// If the queue has already finished, we manually process the new test\n\t\tif ( ProcessingQueue.finished ) {\n\t\t\tProcessingQueue.advance();\n\t\t}\n\t},\n\n\tpushResult: function( resultInfo ) {\n\t\tif ( this !== config.current ) {\n\t\t\tthrow new Error( \"Assertion occurred after test had finished.\" );\n\t\t}\n\n\t\t// Destructure of resultInfo = { result, actual, expected, message, negative }\n\t\tvar source,\n\t\t\tdetails = {\n\t\t\t\tmodule: this.module.name,\n\t\t\t\tname: this.testName,\n\t\t\t\tresult: resultInfo.result,\n\t\t\t\tmessage: resultInfo.message,\n\t\t\t\tactual: resultInfo.actual,\n\t\t\t\ttestId: this.testId,\n\t\t\t\tnegative: resultInfo.negative || false,\n\t\t\t\truntime: now() - this.started,\n\t\t\t\ttodo: !!this.todo\n\t\t\t};\n\n\t\tif ( hasOwn.call( resultInfo, \"expected\" ) ) {\n\t\t\tdetails.expected = resultInfo.expected;\n\t\t}\n\n\t\tif ( !resultInfo.result ) {\n\t\t\tsource = resultInfo.source || sourceFromStacktrace();\n\n\t\t\tif ( source ) {\n\t\t\t\tdetails.source = source;\n\t\t\t}\n\t\t}\n\n\t\tthis.logAssertion( details );\n\n\t\tthis.assertions.push( {\n\t\t\tresult: !!resultInfo.result,\n\t\t\tmessage: resultInfo.message\n\t\t} );\n\t},\n\n\tpushFailure: function( message, source, actual ) {\n\t\tif ( !( this instanceof Test ) ) {\n\t\t\tthrow new Error( \"pushFailure() assertion outside test context, was \" +\n\t\t\t\tsourceFromStacktrace( 2 ) );\n\t\t}\n\n\t\tthis.pushResult( {\n\t\t\tresult: false,\n\t\t\tmessage: message || \"error\",\n\t\t\tactual: actual || null,\n\t\t\tsource\n\t\t} );\n\t},\n\n\t/**\n\t * Log assertion details using both the old QUnit.log interface and\n\t * QUnit.on( \"assertion\" ) interface.\n\t *\n\t * @private\n\t */\n\tlogAssertion( details ) {\n\t\trunLoggingCallbacks( \"log\", details );\n\n\t\tconst assertion = {\n\t\t\tpassed: details.result,\n\t\t\tactual: details.actual,\n\t\t\texpected: details.expected,\n\t\t\tmessage: details.message,\n\t\t\tstack: details.source,\n\t\t\ttodo: details.todo\n\t\t};\n\t\tthis.testReport.pushAssertion( assertion );\n\t\temit( \"assertion\", assertion );\n\t},\n\n\tresolvePromise: function( promise, phase ) {\n\t\tvar then, resume, message,\n\t\t\ttest = this;\n\t\tif ( promise != null ) {\n\t\t\tthen = promise.then;\n\t\t\tif ( objectType( then ) === \"function\" ) {\n\t\t\t\tresume = internalStop( test );\n\t\t\t\tif ( config.notrycatch ) {\n\t\t\t\t\tthen.call( promise, function() { resume(); } );\n\t\t\t\t} else {\n\t\t\t\t\tthen.call(\n\t\t\t\t\t\tpromise,\n\t\t\t\t\t\tfunction() { resume(); },\n\t\t\t\t\t\tfunction( error ) {\n\t\t\t\t\t\t\tmessage = \"Promise rejected \" +\n\t\t\t\t\t\t\t\t( !phase ? \"during\" : phase.replace( /Each$/, \"\" ) ) +\n\t\t\t\t\t\t\t\t\" \\\"\" + test.testName + \"\\\": \" +\n\t\t\t\t\t\t\t\t( ( error && error.message ) || error );\n\t\t\t\t\t\t\ttest.pushFailure( message, extractStacktrace( error, 0 ) );\n\n\t\t\t\t\t\t\t// Else next test will carry the responsibility\n\t\t\t\t\t\t\tsaveGlobal();\n\n\t\t\t\t\t\t\t// Unblock\n\t\t\t\t\t\t\tinternalRecover( test );\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\tvalid: function() {\n\t\tvar filter = config.filter,\n\t\t\tregexFilter = /^(!?)\\/([\\w\\W]*)\\/(i?$)/.exec( filter ),\n\t\t\tmodule = config.module && config.module.toLowerCase(),\n\t\t\tfullName = ( this.module.name + \": \" + this.testName );\n\n\t\tfunction moduleChainNameMatch( testModule ) {\n\t\t\tvar testModuleName = testModule.name ? testModule.name.toLowerCase() : null;\n\t\t\tif ( testModuleName === module ) {\n\t\t\t\treturn true;\n\t\t\t} else if ( testModule.parentModule ) {\n\t\t\t\treturn moduleChainNameMatch( testModule.parentModule );\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfunction moduleChainIdMatch( testModule ) {\n\t\t\treturn inArray( testModule.moduleId, config.moduleId ) ||\n\t\t\t\ttestModule.parentModule && moduleChainIdMatch( testModule.parentModule );\n\t\t}\n\n\t\t// Internally-generated tests are always valid\n\t\tif ( this.callback && this.callback.validTest ) {\n\t\t\treturn true;\n\t\t}\n\n\t\tif ( config.moduleId && config.moduleId.length > 0 &&\n\t\t\t!moduleChainIdMatch( this.module ) ) {\n\n\t\t\treturn false;\n\t\t}\n\n\t\tif ( config.testId && config.testId.length > 0 &&\n\t\t\t!inArray( this.testId, config.testId ) ) {\n\n\t\t\treturn false;\n\t\t}\n\n\t\tif ( module && !moduleChainNameMatch( this.module ) ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif ( !filter ) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn regexFilter ?\n\t\t\tthis.regexFilter( !!regexFilter[ 1 ], regexFilter[ 2 ], regexFilter[ 3 ], fullName ) :\n\t\t\tthis.stringFilter( filter, fullName );\n\t},\n\n\tregexFilter: function( exclude, pattern, flags, fullName ) {\n\t\tvar regex = new RegExp( pattern, flags );\n\t\tvar match = regex.test( fullName );\n\n\t\treturn match !== exclude;\n\t},\n\n\tstringFilter: function( filter, fullName ) {\n\t\tfilter = filter.toLowerCase();\n\t\tfullName = fullName.toLowerCase();\n\n\t\tvar include = filter.charAt( 0 ) !== \"!\";\n\t\tif ( !include ) {\n\t\t\tfilter = filter.slice( 1 );\n\t\t}\n\n\t\t// If the filter matches, we need to honour include\n\t\tif ( fullName.indexOf( filter ) !== -1 ) {\n\t\t\treturn include;\n\t\t}\n\n\t\t// Otherwise, do the opposite\n\t\treturn !include;\n\t}\n};\n\nexport function pushFailure() {\n\tif ( !config.current ) {\n\t\tthrow new Error( \"pushFailure() assertion outside test context, in \" +\n\t\t\tsourceFromStacktrace( 2 ) );\n\t}\n\n\t// Gets current test obj\n\tvar currentTest = config.current;\n\n\treturn currentTest.pushFailure.apply( currentTest, arguments );\n}\n\nfunction saveGlobal() {\n\tconfig.pollution = [];\n\n\tif ( config.noglobals ) {\n\t\tfor ( var key in global ) {\n\t\t\tif ( hasOwn.call( global, key ) ) {\n\n\t\t\t\t// In Opera sometimes DOM element ids show up here, ignore them\n\t\t\t\tif ( /^qunit-test-output/.test( key ) ) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tconfig.pollution.push( key );\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction checkPollution() {\n\tvar newGlobals,\n\t\tdeletedGlobals,\n\t\told = config.pollution;\n\n\tsaveGlobal();\n\n\tnewGlobals = diff( config.pollution, old );\n\tif ( newGlobals.length > 0 ) {\n\t\tpushFailure( \"Introduced global variable(s): \" + newGlobals.join( \", \" ) );\n\t}\n\n\tdeletedGlobals = diff( old, config.pollution );\n\tif ( deletedGlobals.length > 0 ) {\n\t\tpushFailure( \"Deleted global variable(s): \" + deletedGlobals.join( \", \" ) );\n\t}\n}\n\n// Will be exposed as QUnit.test\nexport function test( testName, callback ) {\n\tif ( focused ) {\n\t\treturn;\n\t}\n\n\tconst newTest = new Test( {\n\t\ttestName: testName,\n\t\tcallback: callback\n\t} );\n\n\tnewTest.queue();\n}\n\nexport function todo( testName, callback ) {\n\tif ( focused ) {\n\t\treturn;\n\t}\n\n\tconst newTest = new Test( {\n\t\ttestName,\n\t\tcallback,\n\t\ttodo: true\n\t} );\n\n\tnewTest.queue();\n}\n\n// Will be exposed as QUnit.skip\nexport function skip( testName ) {\n\tif ( focused ) {\n\t\treturn;\n\t}\n\n\tconst test = new Test( {\n\t\ttestName: testName,\n\t\tskip: true\n\t} );\n\n\ttest.queue();\n}\n\n// Will be exposed as QUnit.only\nexport function only( testName, callback ) {\n\tif ( !focused ) {\n\t\tconfig.queue.length = 0;\n\t\tfocused = true;\n\t}\n\n\tconst newTest = new Test( {\n\t\ttestName: testName,\n\t\tcallback: callback\n\t} );\n\n\tnewTest.queue();\n}\n\n// Resets config.timeout with a new timeout duration.\nexport function resetTestTimeout( timeoutDuration ) {\n\tclearTimeout( config.timeout );\n\tconfig.timeout = setTimeout( config.timeoutHandler( timeoutDuration ), timeoutDuration );\n}\n\n// Put a hold on processing and return a function that will release it.\nexport function internalStop( test ) {\n\tlet released = false;\n\ttest.semaphore += 1;\n\tconfig.blocking = true;\n\n\t// Set a recovery timeout, if so configured.\n\tif ( defined.setTimeout ) {\n\t\tlet timeoutDuration;\n\n\t\tif ( typeof test.timeout === \"number\" ) {\n\t\t\ttimeoutDuration = test.timeout;\n\t\t} else if ( typeof config.testTimeout === \"number\" ) {\n\t\t\ttimeoutDuration = config.testTimeout;\n\t\t}\n\n\t\tif ( typeof timeoutDuration === \"number\" && timeoutDuration > 0 ) {\n\t\t\tclearTimeout( config.timeout );\n\t\t\tconfig.timeoutHandler = function( timeout ) {\n\t\t\t\treturn function() {\n\t\t\t\t\tpushFailure(\n\t\t\t\t\t\t`Test took longer than ${timeout}ms; test timed out.`,\n\t\t\t\t\t\tsourceFromStacktrace( 2 )\n\t\t\t\t\t);\n\t\t\t\t\treleased = true;\n\t\t\t\t\tinternalRecover( test );\n\t\t\t\t};\n\t\t\t};\n\t\t\tconfig.timeout = setTimeout(\n\t\t\t\tconfig.timeoutHandler( timeoutDuration ),\n\t\t\t\ttimeoutDuration\n\t\t\t);\n\t\t}\n\t}\n\n\treturn function resume() {\n\t\tif ( released ) {\n\t\t\treturn;\n\t\t}\n\n\t\treleased = true;\n\t\ttest.semaphore -= 1;\n\t\tinternalStart( test );\n\t};\n}\n\n// Forcefully release all processing holds.\nfunction internalRecover( test ) {\n\ttest.semaphore = 0;\n\tinternalStart( test );\n}\n\n// Release a processing hold, scheduling a resumption attempt if no holds remain.\nfunction internalStart( test ) {\n\n\t// If semaphore is non-numeric, throw error\n\tif ( isNaN( test.semaphore ) ) {\n\t\ttest.semaphore = 0;\n\n\t\tpushFailure(\n\t\t\t\"Invalid value on test.semaphore\",\n\t\t\tsourceFromStacktrace( 2 )\n\t\t);\n\t\treturn;\n\t}\n\n\t// Don't start until equal number of stop-calls\n\tif ( test.semaphore > 0 ) {\n\t\treturn;\n\t}\n\n\t// Throw an Error if start is called more often than stop\n\tif ( test.semaphore < 0 ) {\n\t\ttest.semaphore = 0;\n\n\t\tpushFailure(\n\t\t\t\"Tried to restart test while already started (test's semaphore was 0 already)\",\n\t\t\tsourceFromStacktrace( 2 )\n\t\t);\n\t\treturn;\n\t}\n\n\t// Add a slight delay to allow more assertions etc.\n\tif ( defined.setTimeout ) {\n\t\tif ( config.timeout ) {\n\t\t\tclearTimeout( config.timeout );\n\t\t}\n\t\tconfig.timeout = setTimeout( function() {\n\t\t\tif ( test.semaphore > 0 ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( config.timeout ) {\n\t\t\t\tclearTimeout( config.timeout );\n\t\t\t}\n\n\t\t\tbegin();\n\t\t} );\n\t} else {\n\t\tbegin();\n\t}\n}\n\nfunction collectTests( module ) {\n\tconst tests = [].concat( module.tests );\n\tconst modules = [ ...module.childModules ];\n\n\t// Do a breadth-first traversal of the child modules\n\twhile ( modules.length ) {\n\t\tconst nextModule = modules.shift();\n\t\ttests.push.apply( tests, nextModule.tests );\n\t\tmodules.push( ...nextModule.childModules );\n\t}\n\n\treturn tests;\n}\n\nfunction numberOfTests( module ) {\n\treturn collectTests( module ).length;\n}\n\nfunction numberOfUnskippedTests( module ) {\n\treturn collectTests( module ).filter( test => !test.skip ).length;\n}\n\nfunction notifyTestsRan( module, skipped ) {\n\tmodule.testsRun++;\n\tif ( !skipped ) {\n\t\tmodule.unskippedTestsRun++;\n\t}\n\twhile ( ( module = module.parentModule ) ) {\n\t\tmodule.testsRun++;\n\t\tif ( !skipped ) {\n\t\t\tmodule.unskippedTestsRun++;\n\t\t}\n\t}\n}\n","import dump from \"./dump\";\nimport equiv from \"./equiv\";\nimport { internalStop, resetTestTimeout } from \"./test\";\nimport Logger from \"./logger\";\n\nimport config from \"./core/config\";\nimport { objectType, objectValues } from \"./core/utilities\";\nimport { sourceFromStacktrace } from \"./core/stacktrace\";\nimport { clearTimeout } from \"./globals\";\n\nclass Assert {\n\tconstructor( testContext ) {\n\t\tthis.test = testContext;\n\t}\n\n\t// Assert helpers\n\n\ttimeout( duration ) {\n\t\tif ( typeof duration !== \"number\" ) {\n\t\t\tthrow new Error( \"You must pass a number as the duration to assert.timeout\" );\n\t\t}\n\n\t\tthis.test.timeout = duration;\n\n\t\t// If a timeout has been set, clear it and reset with the new duration\n\t\tif ( config.timeout ) {\n\t\t\tclearTimeout( config.timeout );\n\n\t\t\tif ( config.timeoutHandler && this.test.timeout > 0 ) {\n\t\t\t\tresetTestTimeout( this.test.timeout );\n\t\t\t}\n\t\t}\n\t}\n\n\t// Documents a \"step\", which is a string value, in a test as a passing assertion\n\tstep( message ) {\n\t\tlet assertionMessage = message;\n\t\tlet result = !!message;\n\n\t\tthis.test.steps.push( message );\n\n\t\tif ( objectType( message ) === \"undefined\" || message === \"\" ) {\n\t\t\tassertionMessage = \"You must provide a message to assert.step\";\n\t\t} else if ( objectType( message ) !== \"string\" ) {\n\t\t\tassertionMessage = \"You must provide a string value to assert.step\";\n\t\t\tresult = false;\n\t\t}\n\n\t\tthis.pushResult( {\n\t\t\tresult,\n\t\t\tmessage: assertionMessage\n\t\t} );\n\t}\n\n\t// Verifies the steps in a test match a given array of string values\n\tverifySteps( steps, message ) {\n\n\t\t// Since the steps array is just string values, we can clone with slice\n\t\tconst actualStepsClone = this.test.steps.slice();\n\t\tthis.deepEqual( actualStepsClone, steps, message );\n\t\tthis.test.steps.length = 0;\n\t}\n\n\t// Specify the number of expected assertions to guarantee that failed test\n\t// (no assertions are run at all) don't slip through.\n\texpect( asserts ) {\n\t\tif ( arguments.length === 1 ) {\n\t\t\tthis.test.expected = asserts;\n\t\t} else {\n\t\t\treturn this.test.expected;\n\t\t}\n\t}\n\n\t// Put a hold on processing and return a function that will release it a maximum of once.\n\tasync( count ) {\n\t\tconst test = this.test;\n\n\t\tlet popped = false,\n\t\t\tacceptCallCount = count;\n\n\t\tif ( typeof acceptCallCount === \"undefined\" ) {\n\t\t\tacceptCallCount = 1;\n\t\t}\n\n\t\tconst resume = internalStop( test );\n\n\t\treturn function done() {\n\t\t\tif ( config.current !== test ) {\n\t\t\t\tthrow Error( \"assert.async callback called after test finished.\" );\n\t\t\t}\n\n\t\t\tif ( popped ) {\n\t\t\t\ttest.pushFailure( \"Too many calls to the `assert.async` callback\",\n\t\t\t\t\tsourceFromStacktrace( 2 ) );\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tacceptCallCount -= 1;\n\t\t\tif ( acceptCallCount > 0 ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tpopped = true;\n\t\t\tresume();\n\t\t};\n\t}\n\n\t// Exports test.push() to the user API\n\t// Alias of pushResult.\n\tpush( result, actual, expected, message, negative ) {\n\t\tLogger.warn( \"assert.push is deprecated and will be removed in QUnit 3.0.\" +\n\t\t\t\" Please use assert.pushResult instead (https://api.qunitjs.com/assert/pushResult).\" );\n\n\t\tconst currentAssert = this instanceof Assert ? this : config.current.assert;\n\t\treturn currentAssert.pushResult( {\n\t\t\tresult,\n\t\t\tactual,\n\t\t\texpected,\n\t\t\tmessage,\n\t\t\tnegative\n\t\t} );\n\t}\n\n\tpushResult( resultInfo ) {\n\n\t\t// Destructure of resultInfo = { result, actual, expected, message, negative }\n\t\tlet assert = this;\n\t\tconst currentTest = ( assert instanceof Assert && assert.test ) || config.current;\n\n\t\t// Backwards compatibility fix.\n\t\t// Allows the direct use of global exported assertions and QUnit.assert.*\n\t\t// Although, it's use is not recommended as it can leak assertions\n\t\t// to other tests from async tests, because we only get a reference to the current test,\n\t\t// not exactly the test where assertion were intended to be called.\n\t\tif ( !currentTest ) {\n\t\t\tthrow new Error( \"assertion outside test context, in \" + sourceFromStacktrace( 2 ) );\n\t\t}\n\n\t\tif ( !( assert instanceof Assert ) ) {\n\t\t\tassert = currentTest.assert;\n\t\t}\n\n\t\treturn assert.test.pushResult( resultInfo );\n\t}\n\n\tok( result, message ) {\n\t\tif ( !message ) {\n\t\t\tmessage = result ?\n\t\t\t\t\"okay\" :\n\t\t\t\t`failed, expected argument to be truthy, was: ${dump.parse( result )}`;\n\t\t}\n\n\t\tthis.pushResult( {\n\t\t\tresult: !!result,\n\t\t\tactual: result,\n\t\t\texpected: true,\n\t\t\tmessage\n\t\t} );\n\t}\n\n\tnotOk( result, message ) {\n\t\tif ( !message ) {\n\t\t\tmessage = !result ?\n\t\t\t\t\"okay\" :\n\t\t\t\t`failed, expected argument to be falsy, was: ${dump.parse( result )}`;\n\t\t}\n\n\t\tthis.pushResult( {\n\t\t\tresult: !result,\n\t\t\tactual: result,\n\t\t\texpected: false,\n\t\t\tmessage\n\t\t} );\n\t}\n\n\ttrue( result, message ) {\n\t\tthis.pushResult( {\n\t\t\tresult: result === true,\n\t\t\tactual: result,\n\t\t\texpected: true,\n\t\t\tmessage\n\t\t} );\n\t}\n\n\tfalse( result, message ) {\n\t\tthis.pushResult( {\n\t\t\tresult: result === false,\n\t\t\tactual: result,\n\t\t\texpected: false,\n\t\t\tmessage\n\t\t} );\n\t}\n\n\tequal( actual, expected, message ) {\n\n\t\t// eslint-disable-next-line eqeqeq\n\t\tconst result = expected == actual;\n\n\t\tthis.pushResult( {\n\t\t\tresult,\n\t\t\tactual,\n\t\t\texpected,\n\t\t\tmessage\n\t\t} );\n\t}\n\n\tnotEqual( actual, expected, message ) {\n\n\t\t// eslint-disable-next-line eqeqeq\n\t\tconst result = expected != actual;\n\n\t\tthis.pushResult( {\n\t\t\tresult,\n\t\t\tactual,\n\t\t\texpected,\n\t\t\tmessage,\n\t\t\tnegative: true\n\t\t} );\n\t}\n\n\tpropEqual( actual, expected, message ) {\n\t\tactual = objectValues( actual );\n\t\texpected = objectValues( expected );\n\n\t\tthis.pushResult( {\n\t\t\tresult: equiv( actual, expected ),\n\t\t\tactual,\n\t\t\texpected,\n\t\t\tmessage\n\t\t} );\n\t}\n\n\tnotPropEqual( actual, expected, message ) {\n\t\tactual = objectValues( actual );\n\t\texpected = objectValues( expected );\n\n\t\tthis.pushResult( {\n\t\t\tresult: !equiv( actual, expected ),\n\t\t\tactual,\n\t\t\texpected,\n\t\t\tmessage,\n\t\t\tnegative: true\n\t\t} );\n\t}\n\n\tdeepEqual( actual, expected, message ) {\n\t\tthis.pushResult( {\n\t\t\tresult: equiv( actual, expected ),\n\t\t\tactual,\n\t\t\texpected,\n\t\t\tmessage\n\t\t} );\n\t}\n\n\tnotDeepEqual( actual, expected, message ) {\n\t\tthis.pushResult( {\n\t\t\tresult: !equiv( actual, expected ),\n\t\t\tactual,\n\t\t\texpected,\n\t\t\tmessage,\n\t\t\tnegative: true\n\t\t} );\n\t}\n\n\tstrictEqual( actual, expected, message ) {\n\t\tthis.pushResult( {\n\t\t\tresult: expected === actual,\n\t\t\tactual,\n\t\t\texpected,\n\t\t\tmessage\n\t\t} );\n\t}\n\n\tnotStrictEqual( actual, expected, message ) {\n\t\tthis.pushResult( {\n\t\t\tresult: expected !== actual,\n\t\t\tactual,\n\t\t\texpected,\n\t\t\tmessage,\n\t\t\tnegative: true\n\t\t} );\n\t}\n\n\t[ \"throws\" ]( block, expected, message ) {\n\t\tlet actual,\n\t\t\tresult = false;\n\n\t\tconst currentTest = ( this instanceof Assert && this.test ) || config.current;\n\n\t\t// 'expected' is optional unless doing string comparison\n\t\tif ( objectType( expected ) === \"string\" ) {\n\t\t\tif ( message == null ) {\n\t\t\t\tmessage = expected;\n\t\t\t\texpected = null;\n\t\t\t} else {\n\t\t\t\tthrow new Error(\n\t\t\t\t\t\"throws/raises does not accept a string value for the expected argument.\\n\" +\n\t\t\t\t\t\"Use a non-string object value (e.g. regExp) instead if it's necessary.\"\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tcurrentTest.ignoreGlobalErrors = true;\n\t\ttry {\n\t\t\tblock.call( currentTest.testEnvironment );\n\t\t} catch ( e ) {\n\t\t\tactual = e;\n\t\t}\n\t\tcurrentTest.ignoreGlobalErrors = false;\n\n\t\tif ( actual ) {\n\t\t\tconst expectedType = objectType( expected );\n\n\t\t\t// We don't want to validate thrown error\n\t\t\tif ( !expected ) {\n\t\t\t\tresult = true;\n\n\t\t\t// Expected is a regexp\n\t\t\t} else if ( expectedType === \"regexp\" ) {\n\t\t\t\tresult = expected.test( errorString( actual ) );\n\n\t\t\t\t// Log the string form of the regexp\n\t\t\t\texpected = String( expected );\n\n\t\t\t// Expected is a constructor, maybe an Error constructor\n\t\t\t} else if ( expectedType === \"function\" && actual instanceof expected ) {\n\t\t\t\tresult = true;\n\n\t\t\t// Expected is an Error object\n\t\t\t} else if ( expectedType === \"object\" ) {\n\t\t\t\tresult = actual instanceof expected.constructor &&\n\t\t\t\t\tactual.name === expected.name &&\n\t\t\t\t\tactual.message === expected.message;\n\n\t\t\t\t// Log the string form of the Error object\n\t\t\t\texpected = errorString( expected );\n\n\t\t\t// Expected is a validation function which returns true if validation passed\n\t\t\t} else if ( expectedType === \"function\" && expected.call( {}, actual ) === true ) {\n\t\t\t\texpected = null;\n\t\t\t\tresult = true;\n\t\t\t}\n\t\t}\n\n\t\tcurrentTest.assert.pushResult( {\n\t\t\tresult,\n\n\t\t\t// undefined if it didn't throw\n\t\t\tactual: actual && errorString( actual ),\n\t\t\texpected,\n\t\t\tmessage\n\t\t} );\n\t}\n\n\trejects( promise, expected, message ) {\n\t\tlet result = false;\n\n\t\tconst currentTest = ( this instanceof Assert && this.test ) || config.current;\n\n\t\t// 'expected' is optional unless doing string comparison\n\t\tif ( objectType( expected ) === \"string\" ) {\n\t\t\tif ( message === undefined ) {\n\t\t\t\tmessage = expected;\n\t\t\t\texpected = undefined;\n\t\t\t} else {\n\t\t\t\tmessage = \"assert.rejects does not accept a string value for the expected \" +\n\t\t\t\t\t\"argument.\\nUse a non-string object value (e.g. validator function) instead \" +\n\t\t\t\t\t\"if necessary.\";\n\n\t\t\t\tcurrentTest.assert.pushResult( {\n\t\t\t\t\tresult: false,\n\t\t\t\t\tmessage: message\n\t\t\t\t} );\n\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tconst then = promise && promise.then;\n\t\tif ( objectType( then ) !== \"function\" ) {\n\t\t\tconst message = \"The value provided to `assert.rejects` in \" +\n\t\t\t\t\"\\\"\" + currentTest.testName + \"\\\" was not a promise.\";\n\n\t\t\tcurrentTest.assert.pushResult( {\n\t\t\t\tresult: false,\n\t\t\t\tmessage: message,\n\t\t\t\tactual: promise\n\t\t\t} );\n\n\t\t\treturn;\n\t\t}\n\n\t\tconst done = this.async();\n\n\t\treturn then.call(\n\t\t\tpromise,\n\t\t\tfunction handleFulfillment() {\n\t\t\t\tconst message = \"The promise returned by the `assert.rejects` callback in \" +\n\t\t\t\t\"\\\"\" + currentTest.testName + \"\\\" did not reject.\";\n\n\t\t\t\tcurrentTest.assert.pushResult( {\n\t\t\t\t\tresult: false,\n\t\t\t\t\tmessage: message,\n\t\t\t\t\tactual: promise\n\t\t\t\t} );\n\n\t\t\t\tdone();\n\t\t\t},\n\n\t\t\tfunction handleRejection( actual ) {\n\t\t\t\tconst expectedType = objectType( expected );\n\n\t\t\t\t// We don't want to validate\n\t\t\t\tif ( expected === undefined ) {\n\t\t\t\t\tresult = true;\n\n\t\t\t\t\t// Expected is a regexp\n\t\t\t\t} else if ( expectedType === \"regexp\" ) {\n\t\t\t\t\tresult = expected.test( errorString( actual ) );\n\n\t\t\t\t\t// Log the string form of the regexp\n\t\t\t\t\texpected = String( expected );\n\n\t\t\t\t\t// Expected is a constructor, maybe an Error constructor\n\t\t\t\t} else if ( expectedType === \"function\" && actual instanceof expected ) {\n\t\t\t\t\tresult = true;\n\n\t\t\t\t\t// Expected is an Error object\n\t\t\t\t} else if ( expectedType === \"object\" ) {\n\t\t\t\t\tresult = actual instanceof expected.constructor &&\n\t\t\t\t\t\tactual.name === expected.name &&\n\t\t\t\t\t\tactual.message === expected.message;\n\n\t\t\t\t\t// Log the string form of the Error object\n\t\t\t\t\texpected = errorString( expected );\n\n\t\t\t\t\t// Expected is a validation function which returns true if validation passed\n\t\t\t\t} else {\n\t\t\t\t\tif ( expectedType === \"function\" ) {\n\t\t\t\t\t\tresult = expected.call( {}, actual ) === true;\n\t\t\t\t\t\texpected = null;\n\n\t\t\t\t\t\t// Expected is some other invalid type\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult = false;\n\t\t\t\t\t\tmessage = \"invalid expected value provided to `assert.rejects` \" +\n\t\t\t\t\t\t\t\"callback in \\\"\" + currentTest.testName + \"\\\": \" +\n\t\t\t\t\t\t\texpectedType + \".\";\n\t\t\t\t\t}\n\t\t\t\t}\n\n\n\t\t\t\tcurrentTest.assert.pushResult( {\n\t\t\t\t\tresult,\n\n\t\t\t\t\t// leave rejection value of undefined as-is\n\t\t\t\t\tactual: actual && errorString( actual ),\n\t\t\t\t\texpected,\n\t\t\t\t\tmessage\n\t\t\t\t} );\n\n\t\t\t\tdone();\n\t\t\t}\n\t\t);\n\t}\n}\n\n// Provide an alternative to assert.throws(), for environments that consider throws a reserved word\n// Known to us are: Closure Compiler, Narwhal\n// eslint-disable-next-line dot-notation\nAssert.prototype.raises = Assert.prototype[ \"throws\" ];\n\n/**\n * Converts an error into a simple string for comparisons.\n *\n * @param {Error|Object} error\n * @return {String}\n */\nfunction errorString( error ) {\n\tconst resultErrorString = error.toString();\n\n\t// If the error wasn't a subclass of Error but something like\n\t// an object literal with name and message properties...\n\tif ( resultErrorString.substring( 0, 7 ) === \"[object\" ) {\n\t\tconst name = error.name ? error.name.toString() : \"Error\";\n\t\tconst message = error.message ? error.message.toString() : \"\";\n\n\t\tif ( name && message ) {\n\t\t\treturn `${name}: ${message}`;\n\t\t} else if ( name ) {\n\t\t\treturn name;\n\t\t} else if ( message ) {\n\t\t\treturn message;\n\t\t} else {\n\t\t\treturn \"Error\";\n\t\t}\n\t} else {\n\t\treturn resultErrorString;\n\t}\n}\n\nexport default Assert;\n","/* global module, exports, define */\nimport { defined } from \"./core/utilities\";\nimport { window, self } from \"./globals\";\n\nexport default function exportQUnit( QUnit ) {\n\n\tif ( defined.document ) {\n\n\t\t// QUnit may be defined when it is preconfigured but then only QUnit and QUnit.config may be defined.\n\t\tif ( window.QUnit && window.QUnit.version ) {\n\t\t\tthrow new Error( \"QUnit has already been defined.\" );\n\t\t}\n\n\t\twindow.QUnit = QUnit;\n\t}\n\n\t// For nodejs\n\tif ( typeof module !== \"undefined\" && module && module.exports ) {\n\t\tmodule.exports = QUnit;\n\n\t\t// For consistency with CommonJS environments' exports\n\t\tmodule.exports.QUnit = QUnit;\n\t}\n\n\t// For CommonJS with exports, but without module.exports, like Rhino\n\tif ( typeof exports !== \"undefined\" && exports ) {\n\t\texports.QUnit = QUnit;\n\t}\n\n\tif ( typeof define === \"function\" && define.amd ) {\n\t\tdefine( function() {\n\t\t\treturn QUnit;\n\t\t} );\n\t\tQUnit.config.autostart = false;\n\t}\n\n\t// For Web/Service Workers\n\tif ( self && self.WorkerGlobalScope && self instanceof self.WorkerGlobalScope ) {\n\t\tself.QUnit = QUnit;\n\t}\n}\n","import { pushFailure, test } from \"../test\";\n\nimport config from \"./config\";\nimport { extend } from \"./utilities\";\n\n// Handle an unhandled exception. By convention, returns true if further\n// error handling should be suppressed and false otherwise.\n// In this case, we will only suppress further error handling if the\n// \"ignoreGlobalErrors\" configuration option is enabled.\nexport default function onError( error, ...args ) {\n\tif ( config.current ) {\n\t\tif ( config.current.ignoreGlobalErrors ) {\n\t\t\treturn true;\n\t\t}\n\t\tpushFailure(\n\t\t\terror.message,\n\t\t\terror.stacktrace || error.fileName + \":\" + error.lineNumber,\n\t\t\t...args\n\t\t);\n\t} else {\n\t\ttest( \"global failure\", extend( function() {\n\t\t\tpushFailure(\n\t\t\t\terror.message,\n\t\t\t\terror.stacktrace || error.fileName + \":\" + error.lineNumber,\n\t\t\t\t...args\n\t\t\t);\n\t\t}, { validTest: true } ) );\n\t}\n\n\treturn false;\n}\n","import { test } from \"../test\";\n\nimport config from \"./config\";\nimport { extend } from \"./utilities\";\nimport { sourceFromStacktrace } from \"./stacktrace\";\n\n// Handle an unhandled rejection\nexport default function onUnhandledRejection( reason ) {\n\tconst resultInfo = {\n\t\tresult: false,\n\t\tmessage: reason.message || \"error\",\n\t\tactual: reason,\n\t\tsource: reason.stack || sourceFromStacktrace( 3 )\n\t};\n\n\tconst currentTest = config.current;\n\tif ( currentTest ) {\n\t\tcurrentTest.assert.pushResult( resultInfo );\n\t} else {\n\t\ttest( \"global failure\", extend( function( assert ) {\n\t\t\tassert.pushResult( resultInfo );\n\t\t}, { validTest: true } ) );\n\t}\n}\n\n","import { window, setTimeout } from \"./globals\";\n\nimport equiv from \"./equiv\";\nimport dump from \"./dump\";\nimport module from \"./module\";\nimport Assert from \"./assert\";\nimport Test, { test, skip, only, todo, pushFailure } from \"./test\";\nimport exportQUnit from \"./export\";\n\nimport config from \"./core/config\";\nimport { defined, extend, objectType, is, now } from \"./core/utilities\";\nimport { registerLoggingCallbacks, runLoggingCallbacks } from \"./core/logging\";\nimport { sourceFromStacktrace } from \"./core/stacktrace\";\nimport ProcessingQueue from \"./core/processing-queue\";\n\nimport SuiteReport from \"./reports/suite\";\n\nimport { on, emit } from \"./events\";\nimport onError from \"./core/onerror\";\nimport onUnhandledRejection from \"./core/on-unhandled-rejection\";\n\nconst QUnit = {};\nexport const globalSuite = new SuiteReport();\n\n// The initial \"currentModule\" represents the global (or top-level) module that\n// is not explicitly defined by the user, therefore we add the \"globalSuite\" to\n// it since each module has a suiteReport associated with it.\nconfig.currentModule.suiteReport = globalSuite;\n\nvar globalStartCalled = false;\nvar runStarted = false;\n\n// Figure out if we're running the tests from a server or not\nQUnit.isLocal = !( defined.document && window.location.protocol !== \"file:\" );\n\n// Expose the current QUnit version\nQUnit.version = \"@VERSION\";\n\nextend( QUnit, {\n\ton,\n\n\tmodule,\n\n\ttest: test,\n\n\ttodo: todo,\n\n\tskip: skip,\n\n\tonly: only,\n\n\tstart: function( count ) {\n\t\tvar globalStartAlreadyCalled = globalStartCalled;\n\n\t\tif ( !config.current ) {\n\t\t\tglobalStartCalled = true;\n\n\t\t\tif ( runStarted ) {\n\t\t\t\tthrow new Error( \"Called start() while test already started running\" );\n\t\t\t} else if ( globalStartAlreadyCalled || count > 1 ) {\n\t\t\t\tthrow new Error( \"Called start() outside of a test context too many times\" );\n\t\t\t} else if ( config.autostart ) {\n\t\t\t\tthrow new Error( \"Called start() outside of a test context when \" +\n\t\t\t\t\t\"QUnit.config.autostart was true\" );\n\t\t\t} else if ( !config.pageLoaded ) {\n\n\t\t\t\t// The page isn't completely loaded yet, so we set autostart and then\n\t\t\t\t// load if we're in Node or wait for the browser's load event.\n\t\t\t\tconfig.autostart = true;\n\n\t\t\t\t// Starts from Node even if .load was not previously called. We still return\n\t\t\t\t// early otherwise we'll wind up \"beginning\" twice.\n\t\t\t\tif ( !defined.document ) {\n\t\t\t\t\tQUnit.load();\n\t\t\t\t}\n\n\t\t\t\treturn;\n\t\t\t}\n\t\t} else {\n\t\t\tthrow new Error( \"QUnit.start cannot be called inside a test context.\" );\n\t\t}\n\n\t\tscheduleBegin();\n\t},\n\n\tconfig: config,\n\n\tis: is,\n\n\tobjectType: objectType,\n\n\textend: extend,\n\n\tload: function() {\n\t\tconfig.pageLoaded = true;\n\n\t\t// Initialize the configuration options\n\t\textend( config, {\n\t\t\tstats: { all: 0, bad: 0, testCount: 0 },\n\t\t\tstarted: 0,\n\t\t\tupdateRate: 1000,\n\t\t\tautostart: true,\n\t\t\tfilter: \"\"\n\t\t}, true );\n\n\t\tif ( !runStarted ) {\n\t\t\tconfig.blocking = false;\n\n\t\t\tif ( config.autostart ) {\n\t\t\t\tscheduleBegin();\n\t\t\t}\n\t\t}\n\t},\n\n\tstack: function( offset ) {\n\t\toffset = ( offset || 0 ) + 2;\n\t\treturn sourceFromStacktrace( offset );\n\t},\n\n\tonError,\n\n\tonUnhandledRejection\n} );\n\nQUnit.pushFailure = pushFailure;\nQUnit.assert = Assert.prototype;\nQUnit.equiv = equiv;\nQUnit.dump = dump;\n\nregisterLoggingCallbacks( QUnit );\n\nfunction scheduleBegin() {\n\n\trunStarted = true;\n\n\t// Add a slight delay to allow definition of more modules and tests.\n\tif ( defined.setTimeout ) {\n\t\tsetTimeout( function() {\n\t\t\tbegin();\n\t\t} );\n\t} else {\n\t\tbegin();\n\t}\n}\n\nfunction unblockAndAdvanceQueue() {\n\tconfig.blocking = false;\n\tProcessingQueue.advance();\n}\n\nexport function begin() {\n\tvar i, l,\n\t\tmodulesLog = [];\n\n\t// If the test run hasn't officially begun yet\n\tif ( !config.started ) {\n\n\t\t// Record the time of the test run's beginning\n\t\tconfig.started = now();\n\n\t\t// Delete the loose unnamed module if unused.\n\t\tif ( config.modules[ 0 ].name === \"\" && config.modules[ 0 ].tests.length === 0 ) {\n\t\t\tconfig.modules.shift();\n\t\t}\n\n\t\t// Avoid unnecessary information by not logging modules' test environments\n\t\tfor ( i = 0, l = config.modules.length; i < l; i++ ) {\n\t\t\tmodulesLog.push( {\n\t\t\t\tname: config.modules[ i ].name,\n\t\t\t\ttests: config.modules[ i ].tests\n\t\t\t} );\n\t\t}\n\n\t\t// The test run is officially beginning now\n\t\temit( \"runStart\", globalSuite.start( true ) );\n\t\trunLoggingCallbacks( \"begin\", {\n\t\t\ttotalTests: Test.count,\n\t\t\tmodules: modulesLog\n\t\t} ).then( unblockAndAdvanceQueue );\n\t} else {\n\t\tunblockAndAdvanceQueue();\n\t}\n}\n\nexportQUnit( QUnit );\n\nexport default QUnit;\n","import QUnit from \"../src/core\";\nimport { window, document } from \"../src/globals\";\n\n( function() {\n\n\tif ( typeof window === \"undefined\" || typeof document === \"undefined\" ) {\n\t\treturn;\n\t}\n\n\tvar config = QUnit.config,\n\t\thasOwn = Object.prototype.hasOwnProperty;\n\n\t// Stores fixture HTML for resetting later\n\tfunction storeFixture() {\n\n\t\t// Avoid overwriting user-defined values\n\t\tif ( hasOwn.call( config, \"fixture\" ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar fixture = document.getElementById( \"qunit-fixture\" );\n\t\tif ( fixture ) {\n\t\t\tconfig.fixture = fixture.cloneNode( true );\n\t\t}\n\t}\n\n\tQUnit.begin( storeFixture );\n\n\t// Resets the fixture DOM element if available.\n\tfunction resetFixture() {\n\t\tif ( config.fixture == null ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar fixture = document.getElementById( \"qunit-fixture\" );\n\t\tvar resetFixtureType = typeof config.fixture;\n\t\tif ( resetFixtureType === \"string\" ) {\n\n\t\t\t// support user defined values for `config.fixture`\n\t\t\tvar newFixture = document.createElement( \"div\" );\n\t\t\tnewFixture.setAttribute( \"id\", \"qunit-fixture\" );\n\t\t\tnewFixture.innerHTML = config.fixture;\n\t\t\tfixture.parentNode.replaceChild( newFixture, fixture );\n\t\t} else {\n\t\t\tconst clonedFixture = config.fixture.cloneNode( true );\n\t\t\tfixture.parentNode.replaceChild( clonedFixture, fixture );\n\t\t}\n\t}\n\n\tQUnit.testStart( resetFixture );\n\n} )();\n","import QUnit from \"../src/core\";\nimport { window } from \"../src/globals\";\n\n( function() {\n\n\t// Only interact with URLs via window.location\n\tvar location = typeof window !== \"undefined\" && window.location;\n\tif ( !location ) {\n\t\treturn;\n\t}\n\n\tvar urlParams = getUrlParams();\n\n\tQUnit.urlParams = urlParams;\n\n\t// Match module/test by inclusion in an array\n\tQUnit.config.moduleId = [].concat( urlParams.moduleId || [] );\n\tQUnit.config.testId = [].concat( urlParams.testId || [] );\n\n\t// Exact case-insensitive match of the module name\n\tQUnit.config.module = urlParams.module;\n\n\t// Regular expression or case-insenstive substring match against \"moduleName: testName\"\n\tQUnit.config.filter = urlParams.filter;\n\n\t// Test order randomization\n\tif ( urlParams.seed === true ) {\n\n\t\t// Generate a random seed if the option is specified without a value\n\t\tQUnit.config.seed = Math.random().toString( 36 ).slice( 2 );\n\t} else if ( urlParams.seed ) {\n\t\tQUnit.config.seed = urlParams.seed;\n\t}\n\n\t// Add URL-parameter-mapped config values with UI form rendering data\n\tQUnit.config.urlConfig.push(\n\t\t{\n\t\t\tid: \"hidepassed\",\n\t\t\tlabel: \"Hide passed tests\",\n\t\t\ttooltip: \"Only show tests and assertions that fail. Stored as query-strings.\"\n\t\t},\n\t\t{\n\t\t\tid: \"noglobals\",\n\t\t\tlabel: \"Check for Globals\",\n\t\t\ttooltip: \"Enabling this will test if any test introduces new properties on the \" +\n\t\t\t\"global object (`window` in Browsers). Stored as query-strings.\"\n\t\t},\n\t\t{\n\t\t\tid: \"notrycatch\",\n\t\t\tlabel: \"No try-catch\",\n\t\t\ttooltip: \"Enabling this will run tests outside of a try-catch block. Makes debugging \" +\n\t\t\t\"exceptions in IE reasonable. Stored as query-strings.\"\n\t\t}\n\t);\n\n\tQUnit.begin( function() {\n\t\tvar i, option,\n\t\t\turlConfig = QUnit.config.urlConfig;\n\n\t\tfor ( i = 0; i < urlConfig.length; i++ ) {\n\n\t\t\t// Options can be either strings or objects with nonempty \"id\" properties\n\t\t\toption = QUnit.config.urlConfig[ i ];\n\t\t\tif ( typeof option !== \"string\" ) {\n\t\t\t\toption = option.id;\n\t\t\t}\n\n\t\t\tif ( QUnit.config[ option ] === undefined ) {\n\t\t\t\tQUnit.config[ option ] = urlParams[ option ];\n\t\t\t}\n\t\t}\n\t} );\n\n\tfunction getUrlParams() {\n\t\tvar i, param, name, value;\n\t\tvar urlParams = Object.create( null );\n\t\tvar params = location.search.slice( 1 ).split( \"&\" );\n\t\tvar length = params.length;\n\n\t\tfor ( i = 0; i < length; i++ ) {\n\t\t\tif ( params[ i ] ) {\n\t\t\t\tparam = params[ i ].split( \"=\" );\n\t\t\t\tname = decodeQueryParam( param[ 0 ] );\n\n\t\t\t\t// Allow just a key to turn on a flag, e.g., test.html?noglobals\n\t\t\t\tvalue = param.length === 1 ||\n\t\t\t\tdecodeQueryParam( param.slice( 1 ).join( \"=\" ) );\n\t\t\t\tif ( name in urlParams ) {\n\t\t\t\t\turlParams[ name ] = [].concat( urlParams[ name ], value );\n\t\t\t\t} else {\n\t\t\t\t\turlParams[ name ] = value;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn urlParams;\n\t}\n\n\tfunction decodeQueryParam( param ) {\n\t\treturn decodeURIComponent( param.replace( /\\+/g, \"%20\" ) );\n\t}\n\n}() );\n","/*\r\nWHAT: SublimeText-like Fuzzy Search\r\n\r\nUSAGE:\r\n  fuzzysort.single('fs', 'Fuzzy Search') // {score: -16}\r\n  fuzzysort.single('test', 'test') // {score: 0}\r\n  fuzzysort.single('doesnt exist', 'target') // null\r\n\r\n  fuzzysort.go('mr', ['Monitor.cpp', 'MeshRenderer.cpp'])\r\n  // [{score: -18, target: \"MeshRenderer.cpp\"}, {score: -6009, target: \"Monitor.cpp\"}]\r\n\r\n  fuzzysort.highlight(fuzzysort.single('fs', 'Fuzzy Search'), '<b>', '</b>')\r\n  // <b>F</b>uzzy <b>S</b>earch\r\n*/\r\n\r\n// UMD (Universal Module Definition) for fuzzysort\r\n;(function(root, UMD) {\r\n  if(typeof define === 'function' && define.amd) define([], UMD)\r\n  else if(typeof module === 'object' && module.exports) module.exports = UMD()\r\n  else root.fuzzysort = UMD()\r\n})(this, function UMD() { function fuzzysortNew(instanceOptions) {\r\n\r\n  var fuzzysort = {\r\n\r\n    single: function(search, target, options) {\r\n      if(!search) return null\r\n      if(!isObj(search)) search = fuzzysort.getPreparedSearch(search)\r\n\r\n      if(!target) return null\r\n      if(!isObj(target)) target = fuzzysort.getPrepared(target)\r\n\r\n      var allowTypo = options && options.allowTypo!==undefined ? options.allowTypo\r\n        : instanceOptions && instanceOptions.allowTypo!==undefined ? instanceOptions.allowTypo\r\n        : true\r\n      var algorithm = allowTypo ? fuzzysort.algorithm : fuzzysort.algorithmNoTypo\r\n      return algorithm(search, target, search[0])\r\n      // var threshold = options && options.threshold || instanceOptions && instanceOptions.threshold || -9007199254740991\r\n      // var result = algorithm(search, target, search[0])\r\n      // if(result === null) return null\r\n      // if(result.score < threshold) return null\r\n      // return result\r\n    },\r\n\r\n    go: function(search, targets, options) {\r\n      if(!search) return noResults\r\n      search = fuzzysort.prepareSearch(search)\r\n      var searchLowerCode = search[0]\r\n\r\n      var threshold = options && options.threshold || instanceOptions && instanceOptions.threshold || -9007199254740991\r\n      var limit = options && options.limit || instanceOptions && instanceOptions.limit || 9007199254740991\r\n      var allowTypo = options && options.allowTypo!==undefined ? options.allowTypo\r\n        : instanceOptions && instanceOptions.allowTypo!==undefined ? instanceOptions.allowTypo\r\n        : true\r\n      var algorithm = allowTypo ? fuzzysort.algorithm : fuzzysort.algorithmNoTypo\r\n      var resultsLen = 0; var limitedCount = 0\r\n      var targetsLen = targets.length\r\n\r\n      // This code is copy/pasted 3 times for performance reasons [options.keys, options.key, no keys]\r\n\r\n      // options.keys\r\n      if(options && options.keys) {\r\n        var scoreFn = options.scoreFn || defaultScoreFn\r\n        var keys = options.keys\r\n        var keysLen = keys.length\r\n        for(var i = targetsLen - 1; i >= 0; --i) { var obj = targets[i]\r\n          var objResults = new Array(keysLen)\r\n          for (var keyI = keysLen - 1; keyI >= 0; --keyI) {\r\n            var key = keys[keyI]\r\n            var target = getValue(obj, key)\r\n            if(!target) { objResults[keyI] = null; continue }\r\n            if(!isObj(target)) target = fuzzysort.getPrepared(target)\r\n\r\n            objResults[keyI] = algorithm(search, target, searchLowerCode)\r\n          }\r\n          objResults.obj = obj // before scoreFn so scoreFn can use it\r\n          var score = scoreFn(objResults)\r\n          if(score === null) continue\r\n          if(score < threshold) continue\r\n          objResults.score = score\r\n          if(resultsLen < limit) { q.add(objResults); ++resultsLen }\r\n          else {\r\n            ++limitedCount\r\n            if(score > q.peek().score) q.replaceTop(objResults)\r\n          }\r\n        }\r\n\r\n      // options.key\r\n      } else if(options && options.key) {\r\n        var key = options.key\r\n        for(var i = targetsLen - 1; i >= 0; --i) { var obj = targets[i]\r\n          var target = getValue(obj, key)\r\n          if(!target) continue\r\n          if(!isObj(target)) target = fuzzysort.getPrepared(target)\r\n\r\n          var result = algorithm(search, target, searchLowerCode)\r\n          if(result === null) continue\r\n          if(result.score < threshold) continue\r\n\r\n          // have to clone result so duplicate targets from different obj can each reference the correct obj\r\n          result = {target:result.target, _targetLowerCodes:null, _nextBeginningIndexes:null, score:result.score, indexes:result.indexes, obj:obj} // hidden\r\n\r\n          if(resultsLen < limit) { q.add(result); ++resultsLen }\r\n          else {\r\n            ++limitedCount\r\n            if(result.score > q.peek().score) q.replaceTop(result)\r\n          }\r\n        }\r\n\r\n      // no keys\r\n      } else {\r\n        for(var i = targetsLen - 1; i >= 0; --i) { var target = targets[i]\r\n          if(!target) continue\r\n          if(!isObj(target)) target = fuzzysort.getPrepared(target)\r\n\r\n          var result = algorithm(search, target, searchLowerCode)\r\n          if(result === null) continue\r\n          if(result.score < threshold) continue\r\n          if(resultsLen < limit) { q.add(result); ++resultsLen }\r\n          else {\r\n            ++limitedCount\r\n            if(result.score > q.peek().score) q.replaceTop(result)\r\n          }\r\n        }\r\n      }\r\n\r\n      if(resultsLen === 0) return noResults\r\n      var results = new Array(resultsLen)\r\n      for(var i = resultsLen - 1; i >= 0; --i) results[i] = q.poll()\r\n      results.total = resultsLen + limitedCount\r\n      return results\r\n    },\r\n\r\n    goAsync: function(search, targets, options) {\r\n      var canceled = false\r\n      var p = new Promise(function(resolve, reject) {\r\n        if(!search) return resolve(noResults)\r\n        search = fuzzysort.prepareSearch(search)\r\n        var searchLowerCode = search[0]\r\n\r\n        var q = fastpriorityqueue()\r\n        var iCurrent = targets.length - 1\r\n        var threshold = options && options.threshold || instanceOptions && instanceOptions.threshold || -9007199254740991\r\n        var limit = options && options.limit || instanceOptions && instanceOptions.limit || 9007199254740991\r\n        var allowTypo = options && options.allowTypo!==undefined ? options.allowTypo\r\n          : instanceOptions && instanceOptions.allowTypo!==undefined ? instanceOptions.allowTypo\r\n          : true\r\n        var algorithm = allowTypo ? fuzzysort.algorithm : fuzzysort.algorithmNoTypo\r\n        var resultsLen = 0; var limitedCount = 0\r\n        function step() {\r\n          if(canceled) return reject('canceled')\r\n\r\n          var startMs = Date.now()\r\n\r\n          // This code is copy/pasted 3 times for performance reasons [options.keys, options.key, no keys]\r\n\r\n          // options.keys\r\n          if(options && options.keys) {\r\n            var scoreFn = options.scoreFn || defaultScoreFn\r\n            var keys = options.keys\r\n            var keysLen = keys.length\r\n            for(; iCurrent >= 0; --iCurrent) { var obj = targets[iCurrent]\r\n              var objResults = new Array(keysLen)\r\n              for (var keyI = keysLen - 1; keyI >= 0; --keyI) {\r\n                var key = keys[keyI]\r\n                var target = getValue(obj, key)\r\n                if(!target) { objResults[keyI] = null; continue }\r\n                if(!isObj(target)) target = fuzzysort.getPrepared(target)\r\n\r\n                objResults[keyI] = algorithm(search, target, searchLowerCode)\r\n              }\r\n              objResults.obj = obj // before scoreFn so scoreFn can use it\r\n              var score = scoreFn(objResults)\r\n              if(score === null) continue\r\n              if(score < threshold) continue\r\n              objResults.score = score\r\n              if(resultsLen < limit) { q.add(objResults); ++resultsLen }\r\n              else {\r\n                ++limitedCount\r\n                if(score > q.peek().score) q.replaceTop(objResults)\r\n              }\r\n\r\n              if(iCurrent%1000/*itemsPerCheck*/ === 0) {\r\n                if(Date.now() - startMs >= 10/*asyncInterval*/) {\r\n                  isNode?setImmediate(step):setTimeout(step)\r\n                  return\r\n                }\r\n              }\r\n            }\r\n\r\n          // options.key\r\n          } else if(options && options.key) {\r\n            var key = options.key\r\n            for(; iCurrent >= 0; --iCurrent) { var obj = targets[iCurrent]\r\n              var target = getValue(obj, key)\r\n              if(!target) continue\r\n              if(!isObj(target)) target = fuzzysort.getPrepared(target)\r\n\r\n              var result = algorithm(search, target, searchLowerCode)\r\n              if(result === null) continue\r\n              if(result.score < threshold) continue\r\n\r\n              // have to clone result so duplicate targets from different obj can each reference the correct obj\r\n              result = {target:result.target, _targetLowerCodes:null, _nextBeginningIndexes:null, score:result.score, indexes:result.indexes, obj:obj} // hidden\r\n\r\n              if(resultsLen < limit) { q.add(result); ++resultsLen }\r\n              else {\r\n                ++limitedCount\r\n                if(result.score > q.peek().score) q.replaceTop(result)\r\n              }\r\n\r\n              if(iCurrent%1000/*itemsPerCheck*/ === 0) {\r\n                if(Date.now() - startMs >= 10/*asyncInterval*/) {\r\n                  isNode?setImmediate(step):setTimeout(step)\r\n                  return\r\n                }\r\n              }\r\n            }\r\n\r\n          // no keys\r\n          } else {\r\n            for(; iCurrent >= 0; --iCurrent) { var target = targets[iCurrent]\r\n              if(!target) continue\r\n              if(!isObj(target)) target = fuzzysort.getPrepared(target)\r\n\r\n              var result = algorithm(search, target, searchLowerCode)\r\n              if(result === null) continue\r\n              if(result.score < threshold) continue\r\n              if(resultsLen < limit) { q.add(result); ++resultsLen }\r\n              else {\r\n                ++limitedCount\r\n                if(result.score > q.peek().score) q.replaceTop(result)\r\n              }\r\n\r\n              if(iCurrent%1000/*itemsPerCheck*/ === 0) {\r\n                if(Date.now() - startMs >= 10/*asyncInterval*/) {\r\n                  isNode?setImmediate(step):setTimeout(step)\r\n                  return\r\n                }\r\n              }\r\n            }\r\n          }\r\n\r\n          if(resultsLen === 0) return resolve(noResults)\r\n          var results = new Array(resultsLen)\r\n          for(var i = resultsLen - 1; i >= 0; --i) results[i] = q.poll()\r\n          results.total = resultsLen + limitedCount\r\n          resolve(results)\r\n        }\r\n\r\n        isNode?setImmediate(step):step()\r\n      })\r\n      p.cancel = function() { canceled = true }\r\n      return p\r\n    },\r\n\r\n    highlight: function(result, hOpen, hClose) {\r\n      if(result === null) return null\r\n      if(hOpen === undefined) hOpen = '<b>'\r\n      if(hClose === undefined) hClose = '</b>'\r\n      var highlighted = ''\r\n      var matchesIndex = 0\r\n      var opened = false\r\n      var target = result.target\r\n      var targetLen = target.length\r\n      var matchesBest = result.indexes\r\n      for(var i = 0; i < targetLen; ++i) { var char = target[i]\r\n        if(matchesBest[matchesIndex] === i) {\r\n          ++matchesIndex\r\n          if(!opened) { opened = true\r\n            highlighted += hOpen\r\n          }\r\n\r\n          if(matchesIndex === matchesBest.length) {\r\n            highlighted += char + hClose + target.substr(i+1)\r\n            break\r\n          }\r\n        } else {\r\n          if(opened) { opened = false\r\n            highlighted += hClose\r\n          }\r\n        }\r\n        highlighted += char\r\n      }\r\n\r\n      return highlighted\r\n    },\r\n\r\n    prepare: function(target) {\r\n      if(!target) return\r\n      return {target:target, _targetLowerCodes:fuzzysort.prepareLowerCodes(target), _nextBeginningIndexes:null, score:null, indexes:null, obj:null} // hidden\r\n    },\r\n    prepareSlow: function(target) {\r\n      if(!target) return\r\n      return {target:target, _targetLowerCodes:fuzzysort.prepareLowerCodes(target), _nextBeginningIndexes:fuzzysort.prepareNextBeginningIndexes(target), score:null, indexes:null, obj:null} // hidden\r\n    },\r\n    prepareSearch: function(search) {\r\n      if(!search) return\r\n      return fuzzysort.prepareLowerCodes(search)\r\n    },\r\n\r\n\r\n\r\n    // Below this point is only internal code\r\n    // Below this point is only internal code\r\n    // Below this point is only internal code\r\n    // Below this point is only internal code\r\n\r\n\r\n\r\n    getPrepared: function(target) {\r\n      if(target.length > 999) return fuzzysort.prepare(target) // don't cache huge targets\r\n      var targetPrepared = preparedCache.get(target)\r\n      if(targetPrepared !== undefined) return targetPrepared\r\n      targetPrepared = fuzzysort.prepare(target)\r\n      preparedCache.set(target, targetPrepared)\r\n      return targetPrepared\r\n    },\r\n    getPreparedSearch: function(search) {\r\n      if(search.length > 999) return fuzzysort.prepareSearch(search) // don't cache huge searches\r\n      var searchPrepared = preparedSearchCache.get(search)\r\n      if(searchPrepared !== undefined) return searchPrepared\r\n      searchPrepared = fuzzysort.prepareSearch(search)\r\n      preparedSearchCache.set(search, searchPrepared)\r\n      return searchPrepared\r\n    },\r\n\r\n    algorithm: function(searchLowerCodes, prepared, searchLowerCode) {\r\n      var targetLowerCodes = prepared._targetLowerCodes\r\n      var searchLen = searchLowerCodes.length\r\n      var targetLen = targetLowerCodes.length\r\n      var searchI = 0 // where we at\r\n      var targetI = 0 // where you at\r\n      var typoSimpleI = 0\r\n      var matchesSimpleLen = 0\r\n\r\n      // very basic fuzzy match; to remove non-matching targets ASAP!\r\n      // walk through target. find sequential matches.\r\n      // if all chars aren't found then exit\r\n      for(;;) {\r\n        var isMatch = searchLowerCode === targetLowerCodes[targetI]\r\n        if(isMatch) {\r\n          matchesSimple[matchesSimpleLen++] = targetI\r\n          ++searchI; if(searchI === searchLen) break\r\n          searchLowerCode = searchLowerCodes[typoSimpleI===0?searchI : (typoSimpleI===searchI?searchI+1 : (typoSimpleI===searchI-1?searchI-1 : searchI))]\r\n        }\r\n\r\n        ++targetI; if(targetI >= targetLen) { // Failed to find searchI\r\n          // Check for typo or exit\r\n          // we go as far as possible before trying to transpose\r\n          // then we transpose backwards until we reach the beginning\r\n          for(;;) {\r\n            if(searchI <= 1) return null // not allowed to transpose first char\r\n            if(typoSimpleI === 0) { // we haven't tried to transpose yet\r\n              --searchI\r\n              var searchLowerCodeNew = searchLowerCodes[searchI]\r\n              if(searchLowerCode === searchLowerCodeNew) continue // doesn't make sense to transpose a repeat char\r\n              typoSimpleI = searchI\r\n            } else {\r\n              if(typoSimpleI === 1) return null // reached the end of the line for transposing\r\n              --typoSimpleI\r\n              searchI = typoSimpleI\r\n              searchLowerCode = searchLowerCodes[searchI + 1]\r\n              var searchLowerCodeNew = searchLowerCodes[searchI]\r\n              if(searchLowerCode === searchLowerCodeNew) continue // doesn't make sense to transpose a repeat char\r\n            }\r\n            matchesSimpleLen = searchI\r\n            targetI = matchesSimple[matchesSimpleLen - 1] + 1\r\n            break\r\n          }\r\n        }\r\n      }\r\n\r\n      var searchI = 0\r\n      var typoStrictI = 0\r\n      var successStrict = false\r\n      var matchesStrictLen = 0\r\n\r\n      var nextBeginningIndexes = prepared._nextBeginningIndexes\r\n      if(nextBeginningIndexes === null) nextBeginningIndexes = prepared._nextBeginningIndexes = fuzzysort.prepareNextBeginningIndexes(prepared.target)\r\n      var firstPossibleI = targetI = matchesSimple[0]===0 ? 0 : nextBeginningIndexes[matchesSimple[0]-1]\r\n\r\n      // Our target string successfully matched all characters in sequence!\r\n      // Let's try a more advanced and strict test to improve the score\r\n      // only count it as a match if it's consecutive or a beginning character!\r\n      if(targetI !== targetLen) for(;;) {\r\n        if(targetI >= targetLen) {\r\n          // We failed to find a good spot for this search char, go back to the previous search char and force it forward\r\n          if(searchI <= 0) { // We failed to push chars forward for a better match\r\n            // transpose, starting from the beginning\r\n            ++typoStrictI; if(typoStrictI > searchLen-2) break\r\n            if(searchLowerCodes[typoStrictI] === searchLowerCodes[typoStrictI+1]) continue // doesn't make sense to transpose a repeat char\r\n            targetI = firstPossibleI\r\n            continue\r\n          }\r\n\r\n          --searchI\r\n          var lastMatch = matchesStrict[--matchesStrictLen]\r\n          targetI = nextBeginningIndexes[lastMatch]\r\n\r\n        } else {\r\n          var isMatch = searchLowerCodes[typoStrictI===0?searchI : (typoStrictI===searchI?searchI+1 : (typoStrictI===searchI-1?searchI-1 : searchI))] === targetLowerCodes[targetI]\r\n          if(isMatch) {\r\n            matchesStrict[matchesStrictLen++] = targetI\r\n            ++searchI; if(searchI === searchLen) { successStrict = true; break }\r\n            ++targetI\r\n          } else {\r\n            targetI = nextBeginningIndexes[targetI]\r\n          }\r\n        }\r\n      }\r\n\r\n      { // tally up the score & keep track of matches for highlighting later\r\n        if(successStrict) { var matchesBest = matchesStrict; var matchesBestLen = matchesStrictLen }\r\n        else { var matchesBest = matchesSimple; var matchesBestLen = matchesSimpleLen }\r\n        var score = 0\r\n        var lastTargetI = -1\r\n        for(var i = 0; i < searchLen; ++i) { var targetI = matchesBest[i]\r\n          // score only goes down if they're not consecutive\r\n          if(lastTargetI !== targetI - 1) score -= targetI\r\n          lastTargetI = targetI\r\n        }\r\n        if(!successStrict) {\r\n          score *= 1000\r\n          if(typoSimpleI !== 0) score += -20/*typoPenalty*/\r\n        } else {\r\n          if(typoStrictI !== 0) score += -20/*typoPenalty*/\r\n        }\r\n        score -= targetLen - searchLen\r\n        prepared.score = score\r\n        prepared.indexes = new Array(matchesBestLen); for(var i = matchesBestLen - 1; i >= 0; --i) prepared.indexes[i] = matchesBest[i]\r\n\r\n        return prepared\r\n      }\r\n    },\r\n\r\n    algorithmNoTypo: function(searchLowerCodes, prepared, searchLowerCode) {\r\n      var targetLowerCodes = prepared._targetLowerCodes\r\n      var searchLen = searchLowerCodes.length\r\n      var targetLen = targetLowerCodes.length\r\n      var searchI = 0 // where we at\r\n      var targetI = 0 // where you at\r\n      var matchesSimpleLen = 0\r\n\r\n      // very basic fuzzy match; to remove non-matching targets ASAP!\r\n      // walk through target. find sequential matches.\r\n      // if all chars aren't found then exit\r\n      for(;;) {\r\n        var isMatch = searchLowerCode === targetLowerCodes[targetI]\r\n        if(isMatch) {\r\n          matchesSimple[matchesSimpleLen++] = targetI\r\n          ++searchI; if(searchI === searchLen) break\r\n          searchLowerCode = searchLowerCodes[searchI]\r\n        }\r\n        ++targetI; if(targetI >= targetLen) return null // Failed to find searchI\r\n      }\r\n\r\n      var searchI = 0\r\n      var successStrict = false\r\n      var matchesStrictLen = 0\r\n\r\n      var nextBeginningIndexes = prepared._nextBeginningIndexes\r\n      if(nextBeginningIndexes === null) nextBeginningIndexes = prepared._nextBeginningIndexes = fuzzysort.prepareNextBeginningIndexes(prepared.target)\r\n      var firstPossibleI = targetI = matchesSimple[0]===0 ? 0 : nextBeginningIndexes[matchesSimple[0]-1]\r\n\r\n      // Our target string successfully matched all characters in sequence!\r\n      // Let's try a more advanced and strict test to improve the score\r\n      // only count it as a match if it's consecutive or a beginning character!\r\n      if(targetI !== targetLen) for(;;) {\r\n        if(targetI >= targetLen) {\r\n          // We failed to find a good spot for this search char, go back to the previous search char and force it forward\r\n          if(searchI <= 0) break // We failed to push chars forward for a better match\r\n\r\n          --searchI\r\n          var lastMatch = matchesStrict[--matchesStrictLen]\r\n          targetI = nextBeginningIndexes[lastMatch]\r\n\r\n        } else {\r\n          var isMatch = searchLowerCodes[searchI] === targetLowerCodes[targetI]\r\n          if(isMatch) {\r\n            matchesStrict[matchesStrictLen++] = targetI\r\n            ++searchI; if(searchI === searchLen) { successStrict = true; break }\r\n            ++targetI\r\n          } else {\r\n            targetI = nextBeginningIndexes[targetI]\r\n          }\r\n        }\r\n      }\r\n\r\n      { // tally up the score & keep track of matches for highlighting later\r\n        if(successStrict) { var matchesBest = matchesStrict; var matchesBestLen = matchesStrictLen }\r\n        else { var matchesBest = matchesSimple; var matchesBestLen = matchesSimpleLen }\r\n        var score = 0\r\n        var lastTargetI = -1\r\n        for(var i = 0; i < searchLen; ++i) { var targetI = matchesBest[i]\r\n          // score only goes down if they're not consecutive\r\n          if(lastTargetI !== targetI - 1) score -= targetI\r\n          lastTargetI = targetI\r\n        }\r\n        if(!successStrict) score *= 1000\r\n        score -= targetLen - searchLen\r\n        prepared.score = score\r\n        prepared.indexes = new Array(matchesBestLen); for(var i = matchesBestLen - 1; i >= 0; --i) prepared.indexes[i] = matchesBest[i]\r\n\r\n        return prepared\r\n      }\r\n    },\r\n\r\n    prepareLowerCodes: function(str) {\r\n      var strLen = str.length\r\n      var lowerCodes = [] // new Array(strLen)    sparse array is too slow\r\n      var lower = str.toLowerCase()\r\n      for(var i = 0; i < strLen; ++i) lowerCodes[i] = lower.charCodeAt(i)\r\n      return lowerCodes\r\n    },\r\n    prepareBeginningIndexes: function(target) {\r\n      var targetLen = target.length\r\n      var beginningIndexes = []; var beginningIndexesLen = 0\r\n      var wasUpper = false\r\n      var wasAlphanum = false\r\n      for(var i = 0; i < targetLen; ++i) {\r\n        var targetCode = target.charCodeAt(i)\r\n        var isUpper = targetCode>=65&&targetCode<=90\r\n        var isAlphanum = isUpper || targetCode>=97&&targetCode<=122 || targetCode>=48&&targetCode<=57\r\n        var isBeginning = isUpper && !wasUpper || !wasAlphanum || !isAlphanum\r\n        wasUpper = isUpper\r\n        wasAlphanum = isAlphanum\r\n        if(isBeginning) beginningIndexes[beginningIndexesLen++] = i\r\n      }\r\n      return beginningIndexes\r\n    },\r\n    prepareNextBeginningIndexes: function(target) {\r\n      var targetLen = target.length\r\n      var beginningIndexes = fuzzysort.prepareBeginningIndexes(target)\r\n      var nextBeginningIndexes = [] // new Array(targetLen)     sparse array is too slow\r\n      var lastIsBeginning = beginningIndexes[0]\r\n      var lastIsBeginningI = 0\r\n      for(var i = 0; i < targetLen; ++i) {\r\n        if(lastIsBeginning > i) {\r\n          nextBeginningIndexes[i] = lastIsBeginning\r\n        } else {\r\n          lastIsBeginning = beginningIndexes[++lastIsBeginningI]\r\n          nextBeginningIndexes[i] = lastIsBeginning===undefined ? targetLen : lastIsBeginning\r\n        }\r\n      }\r\n      return nextBeginningIndexes\r\n    },\r\n\r\n    cleanup: cleanup,\r\n    new: fuzzysortNew,\r\n  }\r\n  return fuzzysort\r\n} // fuzzysortNew\r\n\r\n// This stuff is outside fuzzysortNew, because it's shared with instances of fuzzysort.new()\r\nvar isNode = typeof require !== 'undefined' && typeof window === 'undefined'\r\n// var MAX_INT = Number.MAX_SAFE_INTEGER\r\n// var MIN_INT = Number.MIN_VALUE\r\nvar preparedCache = new Map()\r\nvar preparedSearchCache = new Map()\r\nvar noResults = []; noResults.total = 0\r\nvar matchesSimple = []; var matchesStrict = []\r\nfunction cleanup() { preparedCache.clear(); preparedSearchCache.clear(); matchesSimple = []; matchesStrict = [] }\r\nfunction defaultScoreFn(a) {\r\n  var max = -9007199254740991\r\n  for (var i = a.length - 1; i >= 0; --i) {\r\n    var result = a[i]; if(result === null) continue\r\n    var score = result.score\r\n    if(score > max) max = score\r\n  }\r\n  if(max === -9007199254740991) return null\r\n  return max\r\n}\r\n\r\n// prop = 'key'              2.5ms optimized for this case, seems to be about as fast as direct obj[prop]\r\n// prop = 'key1.key2'        10ms\r\n// prop = ['key1', 'key2']   27ms\r\nfunction getValue(obj, prop) {\r\n  var tmp = obj[prop]; if(tmp !== undefined) return tmp\r\n  var segs = prop\r\n  if(!Array.isArray(prop)) segs = prop.split('.')\r\n  var len = segs.length\r\n  var i = -1\r\n  while (obj && (++i < len)) obj = obj[segs[i]]\r\n  return obj\r\n}\r\n\r\nfunction isObj(x) { return typeof x === 'object' } // faster as a function\r\n\r\n// Hacked version of https://github.com/lemire/FastPriorityQueue.js\r\nvar fastpriorityqueue=function(){var r=[],o=0,e={};function n(){for(var e=0,n=r[e],c=1;c<o;){var f=c+1;e=c,f<o&&r[f].score<r[c].score&&(e=f),r[e-1>>1]=r[e],c=1+(e<<1)}for(var a=e-1>>1;e>0&&n.score<r[a].score;a=(e=a)-1>>1)r[e]=r[a];r[e]=n}return e.add=function(e){var n=o;r[o++]=e;for(var c=n-1>>1;n>0&&e.score<r[c].score;c=(n=c)-1>>1)r[n]=r[c];r[n]=e},e.poll=function(){if(0!==o){var e=r[0];return r[0]=r[--o],n(),e}},e.peek=function(e){if(0!==o)return r[0]},e.replaceTop=function(o){r[0]=o,n()},e};\r\nvar q = fastpriorityqueue() // reuse this, except for async, it needs to make its own\r\n\r\nreturn fuzzysortNew()\r\n}) // UMD\r\n\r\n// TODO: (performance) wasm version!?\r\n\r\n// TODO: (performance) layout memory in an optimal way to go fast by avoiding cache misses\r\n\r\n// TODO: (performance) preparedCache is a memory leak\r\n\r\n// TODO: (like sublime) backslash === forwardslash\r\n\r\n// TODO: (performance) i have no idea how well optizmied the allowing typos algorithm is\r\n","import QUnit from \"../src/core\";\nimport Test from \"../src/test\";\nimport { extractStacktrace } from \"../src/core/stacktrace\";\nimport { now } from \"../src/core/utilities\";\nimport { window, navigator } from \"../src/globals\";\nimport \"./urlparams\";\nimport fuzzysort from \"fuzzysort\";\n\nconst stats = {\n\tpassedTests: 0,\n\tfailedTests: 0,\n\tskippedTests: 0,\n\ttodoTests: 0\n};\n\n// Escape text for attribute or text content.\nexport function escapeText( s ) {\n\tif ( !s ) {\n\t\treturn \"\";\n\t}\n\ts = s + \"\";\n\n\t// Both single quotes and double quotes (for attributes)\n\treturn s.replace( /['\"<>&]/g, function( s ) {\n\t\tswitch ( s ) {\n\t\tcase \"'\":\n\t\t\treturn \"&#039;\";\n\t\tcase \"\\\"\":\n\t\t\treturn \"&quot;\";\n\t\tcase \"<\":\n\t\t\treturn \"&lt;\";\n\t\tcase \">\":\n\t\t\treturn \"&gt;\";\n\t\tcase \"&\":\n\t\t\treturn \"&amp;\";\n\t\t}\n\t} );\n}\n\n( function() {\n\n\t// Don't load the HTML Reporter on non-browser environments\n\tif ( typeof window === \"undefined\" || !window.document ) {\n\t\treturn;\n\t}\n\n\tvar config = QUnit.config,\n\t\thiddenTests = [],\n\t\tdocument = window.document,\n\t\tcollapseNext = false,\n\t\thasOwn = Object.prototype.hasOwnProperty,\n\t\tunfilteredUrl = setUrl( { filter: undefined, module: undefined,\n\t\t\tmoduleId: undefined, testId: undefined } ),\n\t\tmodulesList = [];\n\n\tfunction addEvent( elem, type, fn ) {\n\t\telem.addEventListener( type, fn, false );\n\t}\n\n\tfunction removeEvent( elem, type, fn ) {\n\t\telem.removeEventListener( type, fn, false );\n\t}\n\n\tfunction addEvents( elems, type, fn ) {\n\t\tvar i = elems.length;\n\t\twhile ( i-- ) {\n\t\t\taddEvent( elems[ i ], type, fn );\n\t\t}\n\t}\n\n\tfunction hasClass( elem, name ) {\n\t\treturn ( \" \" + elem.className + \" \" ).indexOf( \" \" + name + \" \" ) >= 0;\n\t}\n\n\tfunction addClass( elem, name ) {\n\t\tif ( !hasClass( elem, name ) ) {\n\t\t\telem.className += ( elem.className ? \" \" : \"\" ) + name;\n\t\t}\n\t}\n\n\tfunction toggleClass( elem, name, force ) {\n\t\tif ( force || typeof force === \"undefined\" && !hasClass( elem, name ) ) {\n\t\t\taddClass( elem, name );\n\t\t} else {\n\t\t\tremoveClass( elem, name );\n\t\t}\n\t}\n\n\tfunction removeClass( elem, name ) {\n\t\tvar set = \" \" + elem.className + \" \";\n\n\t\t// Class name may appear multiple times\n\t\twhile ( set.indexOf( \" \" + name + \" \" ) >= 0 ) {\n\t\t\tset = set.replace( \" \" + name + \" \", \" \" );\n\t\t}\n\n\t\t// Trim for prettiness\n\t\telem.className = typeof set.trim === \"function\" ?\n\t\t\tset.trim() :\n\t\t\tset.replace( /^\\s+|\\s+$/g, \"\" );\n\t}\n\n\tfunction id( name ) {\n\t\treturn document.getElementById && document.getElementById( name );\n\t}\n\n\tfunction abortTests() {\n\t\tvar abortButton = id( \"qunit-abort-tests-button\" );\n\t\tif ( abortButton ) {\n\t\t\tabortButton.disabled = true;\n\t\t\tabortButton.innerHTML = \"Aborting...\";\n\t\t}\n\t\tQUnit.config.queue.length = 0;\n\t\treturn false;\n\t}\n\n\tfunction interceptNavigation( ev ) {\n\t\tapplyUrlParams();\n\n\t\tif ( ev && ev.preventDefault ) {\n\t\t\tev.preventDefault();\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tfunction getUrlConfigHtml() {\n\t\tvar i, j, val,\n\t\t\tescaped, escapedTooltip,\n\t\t\tselection = false,\n\t\t\turlConfig = config.urlConfig,\n\t\t\turlConfigHtml = \"\";\n\n\t\tfor ( i = 0; i < urlConfig.length; i++ ) {\n\n\t\t\t// Options can be either strings or objects with nonempty \"id\" properties\n\t\t\tval = config.urlConfig[ i ];\n\t\t\tif ( typeof val === \"string\" ) {\n\t\t\t\tval = {\n\t\t\t\t\tid: val,\n\t\t\t\t\tlabel: val\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tescaped = escapeText( val.id );\n\t\t\tescapedTooltip = escapeText( val.tooltip );\n\n\t\t\tif ( !val.value || typeof val.value === \"string\" ) {\n\t\t\t\turlConfigHtml += \"<label for='qunit-urlconfig-\" + escaped +\n\t\t\t\t\"' title='\" + escapedTooltip + \"'><input id='qunit-urlconfig-\" + escaped +\n\t\t\t\t\"' name='\" + escaped + \"' type='checkbox'\" +\n\t\t\t\t( val.value ? \" value='\" + escapeText( val.value ) + \"'\" : \"\" ) +\n\t\t\t\t( config[ val.id ] ? \" checked='checked'\" : \"\" ) +\n\t\t\t\t\" title='\" + escapedTooltip + \"' />\" + escapeText( val.label ) + \"</label>\";\n\t\t\t} else {\n\t\t\t\turlConfigHtml += \"<label for='qunit-urlconfig-\" + escaped +\n\t\t\t\t\"' title='\" + escapedTooltip + \"'>\" + val.label +\n\t\t\t\t\": </label><select id='qunit-urlconfig-\" + escaped +\n\t\t\t\t\"' name='\" + escaped + \"' title='\" + escapedTooltip + \"'><option></option>\";\n\n\t\t\t\tif ( QUnit.is( \"array\", val.value ) ) {\n\t\t\t\t\tfor ( j = 0; j < val.value.length; j++ ) {\n\t\t\t\t\t\tescaped = escapeText( val.value[ j ] );\n\t\t\t\t\t\turlConfigHtml += \"<option value='\" + escaped + \"'\" +\n\t\t\t\t\t\t( config[ val.id ] === val.value[ j ] ?\n\t\t\t\t\t\t\t( selection = true ) && \" selected='selected'\" : \"\" ) +\n\t\t\t\t\t\t\">\" + escaped + \"</option>\";\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tfor ( j in val.value ) {\n\t\t\t\t\t\tif ( hasOwn.call( val.value, j ) ) {\n\t\t\t\t\t\t\turlConfigHtml += \"<option value='\" + escapeText( j ) + \"'\" +\n\t\t\t\t\t\t\t( config[ val.id ] === j ?\n\t\t\t\t\t\t\t\t( selection = true ) && \" selected='selected'\" : \"\" ) +\n\t\t\t\t\t\t\t\">\" + escapeText( val.value[ j ] ) + \"</option>\";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif ( config[ val.id ] && !selection ) {\n\t\t\t\t\tescaped = escapeText( config[ val.id ] );\n\t\t\t\t\turlConfigHtml += \"<option value='\" + escaped +\n\t\t\t\t\t\"' selected='selected' disabled='disabled'>\" + escaped + \"</option>\";\n\t\t\t\t}\n\t\t\t\turlConfigHtml += \"</select>\";\n\t\t\t}\n\t\t}\n\n\t\treturn urlConfigHtml;\n\t}\n\n\t// Handle \"click\" events on toolbar checkboxes and \"change\" for select menus.\n\t// Updates the URL with the new state of `config.urlConfig` values.\n\tfunction toolbarChanged() {\n\t\tvar updatedUrl, value, tests,\n\t\t\tfield = this,\n\t\t\tparams = {};\n\n\t\t// Detect if field is a select menu or a checkbox\n\t\tif ( \"selectedIndex\" in field ) {\n\t\t\tvalue = field.options[ field.selectedIndex ].value || undefined;\n\t\t} else {\n\t\t\tvalue = field.checked ? ( field.defaultValue || true ) : undefined;\n\t\t}\n\n\t\tparams[ field.name ] = value;\n\t\tupdatedUrl = setUrl( params );\n\n\t\t// Check if we can apply the change without a page refresh\n\t\tif ( \"hidepassed\" === field.name && \"replaceState\" in window.history ) {\n\t\t\tQUnit.urlParams[ field.name ] = value;\n\t\t\tconfig[ field.name ] = value || false;\n\t\t\ttests = id( \"qunit-tests\" );\n\t\t\tif ( tests ) {\n\t\t\t\tvar length = tests.children.length;\n\t\t\t\tvar children = tests.children;\n\n\t\t\t\tif ( field.checked ) {\n\t\t\t\t\tfor ( var i = 0; i < length; i++ ) {\n\t\t\t\t\t\tvar test = children[ i ];\n\t\t\t\t\t\tvar className = test ? test.className : \"\";\n\t\t\t\t\t\tvar classNameHasPass = className.indexOf( \"pass\" ) > -1;\n\t\t\t\t\t\tvar classNameHasSkipped = className.indexOf( \"skipped\" ) > -1;\n\n\t\t\t\t\t\tif ( classNameHasPass || classNameHasSkipped ) {\n\t\t\t\t\t\t\thiddenTests.push( test );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tfor ( const hiddenTest of hiddenTests ) {\n\t\t\t\t\t\ttests.removeChild( hiddenTest );\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\twhile ( ( test = hiddenTests.pop() ) != null ) {\n\t\t\t\t\t\ttests.appendChild( test );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\twindow.history.replaceState( null, \"\", updatedUrl );\n\t\t} else {\n\t\t\twindow.location = updatedUrl;\n\t\t}\n\t}\n\n\tfunction setUrl( params ) {\n\t\tvar key, arrValue, i,\n\t\t\tquerystring = \"?\",\n\t\t\tlocation = window.location;\n\n\t\tparams = QUnit.extend( QUnit.extend( {}, QUnit.urlParams ), params );\n\n\t\tfor ( key in params ) {\n\n\t\t\t// Skip inherited or undefined properties\n\t\t\tif ( hasOwn.call( params, key ) && params[ key ] !== undefined ) {\n\n\t\t\t\t// Output a parameter for each value of this key\n\t\t\t\t// (but usually just one)\n\t\t\t\tarrValue = [].concat( params[ key ] );\n\t\t\t\tfor ( i = 0; i < arrValue.length; i++ ) {\n\t\t\t\t\tquerystring += encodeURIComponent( key );\n\t\t\t\t\tif ( arrValue[ i ] !== true ) {\n\t\t\t\t\t\tquerystring += \"=\" + encodeURIComponent( arrValue[ i ] );\n\t\t\t\t\t}\n\t\t\t\t\tquerystring += \"&\";\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn location.protocol + \"//\" + location.host +\n\t\tlocation.pathname + querystring.slice( 0, -1 );\n\t}\n\n\tfunction applyUrlParams() {\n\t\tvar i,\n\t\t\tselectedModules = [],\n\t\t\tmodulesList = id( \"qunit-modulefilter-dropdown-list\" ).getElementsByTagName( \"input\" ),\n\t\t\tfilter = id( \"qunit-filter-input\" ).value;\n\n\t\tfor ( i = 0; i < modulesList.length; i++ ) {\n\t\t\tif ( modulesList[ i ].checked ) {\n\t\t\t\tselectedModules.push( modulesList[ i ].value );\n\t\t\t}\n\t\t}\n\n\t\twindow.location = setUrl( {\n\t\t\tfilter: ( filter === \"\" ) ? undefined : filter,\n\t\t\tmoduleId: ( selectedModules.length === 0 ) ? undefined : selectedModules,\n\n\t\t\t// Remove module and testId filter\n\t\t\tmodule: undefined,\n\t\t\ttestId: undefined\n\t\t} );\n\t}\n\n\tfunction toolbarUrlConfigContainer() {\n\t\tvar urlConfigContainer = document.createElement( \"span\" );\n\n\t\turlConfigContainer.innerHTML = getUrlConfigHtml();\n\t\taddClass( urlConfigContainer, \"qunit-url-config\" );\n\n\t\taddEvents( urlConfigContainer.getElementsByTagName( \"input\" ), \"change\", toolbarChanged );\n\t\taddEvents( urlConfigContainer.getElementsByTagName( \"select\" ), \"change\", toolbarChanged );\n\n\t\treturn urlConfigContainer;\n\t}\n\n\tfunction abortTestsButton() {\n\t\tvar button = document.createElement( \"button\" );\n\t\tbutton.id = \"qunit-abort-tests-button\";\n\t\tbutton.innerHTML = \"Abort\";\n\t\taddEvent( button, \"click\", abortTests );\n\t\treturn button;\n\t}\n\n\tfunction toolbarLooseFilter() {\n\t\tvar filter = document.createElement( \"form\" ),\n\t\t\tlabel = document.createElement( \"label\" ),\n\t\t\tinput = document.createElement( \"input\" ),\n\t\t\tbutton = document.createElement( \"button\" );\n\n\t\taddClass( filter, \"qunit-filter\" );\n\n\t\tlabel.innerHTML = \"Filter: \";\n\n\t\tinput.type = \"text\";\n\t\tinput.value = config.filter || \"\";\n\t\tinput.name = \"filter\";\n\t\tinput.id = \"qunit-filter-input\";\n\n\t\tbutton.innerHTML = \"Go\";\n\n\t\tlabel.appendChild( input );\n\n\t\tfilter.appendChild( label );\n\t\tfilter.appendChild( document.createTextNode( \" \" ) );\n\t\tfilter.appendChild( button );\n\t\taddEvent( filter, \"submit\", interceptNavigation );\n\n\t\treturn filter;\n\t}\n\n\tfunction moduleListHtml( modules ) {\n\t\tvar i, checked,\n\t\t\thtml = \"\";\n\n\t\tfor ( i = 0; i < modules.length; i++ ) {\n\t\t\tif ( modules[ i ].name !== \"\" ) {\n\t\t\t\tchecked = config.moduleId.indexOf( modules[ i ].moduleId ) > -1;\n\t\t\t\thtml += \"<li><label class='clickable\" + ( checked ? \" checked\" : \"\" ) +\n\t\t\t\t\"'><input type='checkbox' \" + \"value='\" + modules[ i ].moduleId + \"'\" +\n\t\t\t\t( checked ? \" checked='checked'\" : \"\" ) + \" />\" +\n\t\t\t\tescapeText( modules[ i ].name ) + \"</label></li>\";\n\t\t\t}\n\t\t}\n\n\t\treturn html;\n\t}\n\n\tfunction toolbarModuleFilter() {\n\t\tvar commit, reset,\n\t\t\tmoduleFilter = document.createElement( \"form\" ),\n\t\t\tlabel = document.createElement( \"label\" ),\n\t\t\tmoduleSearch = document.createElement( \"input\" ),\n\t\t\tdropDown = document.createElement( \"div\" ),\n\t\t\tactions = document.createElement( \"span\" ),\n\t\t\tapplyButton = document.createElement( \"button\" ),\n\t\t\tresetButton = document.createElement( \"button\" ),\n\t\t\tallModulesLabel = document.createElement( \"label\" ),\n\t\t\tallCheckbox = document.createElement( \"input\" ),\n\t\t\tdropDownList = document.createElement( \"ul\" ),\n\t\t\tdirty = false;\n\n\t\tmoduleSearch.id = \"qunit-modulefilter-search\";\n\t\tmoduleSearch.autocomplete = \"off\";\n\t\taddEvent( moduleSearch, \"input\", searchInput );\n\t\taddEvent( moduleSearch, \"input\", searchFocus );\n\t\taddEvent( moduleSearch, \"focus\", searchFocus );\n\t\taddEvent( moduleSearch, \"click\", searchFocus );\n\n\t\tconfig.modules.forEach( module => module.namePrepared = fuzzysort.prepare( module.name ) );\n\n\t\tlabel.id = \"qunit-modulefilter-search-container\";\n\t\tlabel.innerHTML = \"Module: \";\n\t\tlabel.appendChild( moduleSearch );\n\n\t\tapplyButton.textContent = \"Apply\";\n\t\tapplyButton.style.display = \"none\";\n\n\t\tresetButton.textContent = \"Reset\";\n\t\tresetButton.type = \"reset\";\n\t\tresetButton.style.display = \"none\";\n\n\t\tallCheckbox.type = \"checkbox\";\n\t\tallCheckbox.checked = config.moduleId.length === 0;\n\n\t\tallModulesLabel.className = \"clickable\";\n\t\tif ( config.moduleId.length ) {\n\t\t\tallModulesLabel.className = \"checked\";\n\t\t}\n\t\tallModulesLabel.appendChild( allCheckbox );\n\t\tallModulesLabel.appendChild( document.createTextNode( \"All modules\" ) );\n\n\t\tactions.id = \"qunit-modulefilter-actions\";\n\t\tactions.appendChild( applyButton );\n\t\tactions.appendChild( resetButton );\n\t\tactions.appendChild( allModulesLabel );\n\t\tcommit = actions.firstChild;\n\t\treset = commit.nextSibling;\n\t\taddEvent( commit, \"click\", applyUrlParams );\n\n\t\tdropDownList.id = \"qunit-modulefilter-dropdown-list\";\n\t\tdropDownList.innerHTML = moduleListHtml( config.modules );\n\n\t\tdropDown.id = \"qunit-modulefilter-dropdown\";\n\t\tdropDown.style.display = \"none\";\n\t\tdropDown.appendChild( actions );\n\t\tdropDown.appendChild( dropDownList );\n\t\taddEvent( dropDown, \"change\", selectionChange );\n\t\tselectionChange();\n\n\t\tmoduleFilter.id = \"qunit-modulefilter\";\n\t\tmoduleFilter.appendChild( label );\n\t\tmoduleFilter.appendChild( dropDown );\n\t\taddEvent( moduleFilter, \"submit\", interceptNavigation );\n\t\taddEvent( moduleFilter, \"reset\", function() {\n\n\t\t\t// Let the reset happen, then update styles\n\t\t\twindow.setTimeout( selectionChange );\n\t\t} );\n\n\t\t// Enables show/hide for the dropdown\n\t\tfunction searchFocus() {\n\t\t\tif ( dropDown.style.display !== \"none\" ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tdropDown.style.display = \"block\";\n\t\t\taddEvent( document, \"click\", hideHandler );\n\t\t\taddEvent( document, \"keydown\", hideHandler );\n\n\t\t\t// Hide on Escape keydown or outside-container click\n\t\t\tfunction hideHandler( e ) {\n\t\t\t\tvar inContainer = moduleFilter.contains( e.target );\n\n\t\t\t\tif ( e.keyCode === 27 || !inContainer ) {\n\t\t\t\t\tif ( e.keyCode === 27 && inContainer ) {\n\t\t\t\t\t\tmoduleSearch.focus();\n\t\t\t\t\t}\n\t\t\t\t\tdropDown.style.display = \"none\";\n\t\t\t\t\tremoveEvent( document, \"click\", hideHandler );\n\t\t\t\t\tremoveEvent( document, \"keydown\", hideHandler );\n\t\t\t\t\tmoduleSearch.value = \"\";\n\t\t\t\t\tsearchInput();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction filterModules( searchText ) {\n\t\t\tif ( searchText === \"\" ) {\n\t\t\t\treturn config.modules;\n\t\t\t}\n\t\t\treturn fuzzysort\n\t\t\t\t.go( searchText, config.modules, { key: \"namePrepared\", threshold: -10000 } )\n\t\t\t\t.map( module => module.obj );\n\t\t}\n\n\t\t// Processes module search box input\n\t\tvar searchInputTimeout;\n\t\tfunction searchInput() {\n\t\t\twindow.clearTimeout( searchInputTimeout );\n\t\t\tsearchInputTimeout = window.setTimeout( () => {\n\t\t\t\tvar searchText = moduleSearch.value.toLowerCase(),\n\t\t\t\t\tfilteredModules = filterModules( searchText );\n\t\t\t\tdropDownList.innerHTML = moduleListHtml( filteredModules );\n\t\t\t}, 200 );\n\t\t}\n\n\t\t// Processes selection changes\n\t\tfunction selectionChange( evt ) {\n\t\t\tvar i, item,\n\t\t\t\tcheckbox = evt && evt.target || allCheckbox,\n\t\t\t\tmodulesList = dropDownList.getElementsByTagName( \"input\" ),\n\t\t\t\tselectedNames = [];\n\n\t\t\ttoggleClass( checkbox.parentNode, \"checked\", checkbox.checked );\n\n\t\t\tdirty = false;\n\t\t\tif ( checkbox.checked && checkbox !== allCheckbox ) {\n\t\t\t\tallCheckbox.checked = false;\n\t\t\t\tremoveClass( allCheckbox.parentNode, \"checked\" );\n\t\t\t}\n\t\t\tfor ( i = 0; i < modulesList.length; i++ ) {\n\t\t\t\titem = modulesList[ i ];\n\t\t\t\tif ( !evt ) {\n\t\t\t\t\ttoggleClass( item.parentNode, \"checked\", item.checked );\n\t\t\t\t} else if ( checkbox === allCheckbox && checkbox.checked ) {\n\t\t\t\t\titem.checked = false;\n\t\t\t\t\tremoveClass( item.parentNode, \"checked\" );\n\t\t\t\t}\n\t\t\t\tdirty = dirty || ( item.checked !== item.defaultChecked );\n\t\t\t\tif ( item.checked ) {\n\t\t\t\t\tselectedNames.push( item.parentNode.textContent );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tcommit.style.display = reset.style.display = dirty ? \"\" : \"none\";\n\t\t\tmoduleSearch.placeholder = selectedNames.join( \", \" ) ||\n\t\t\t\tallCheckbox.parentNode.textContent;\n\t\t\tmoduleSearch.title = \"Type to filter list. Current selection:\\n\" +\n\t\t\t( selectedNames.join( \"\\n\" ) || allCheckbox.parentNode.textContent );\n\t\t}\n\n\t\treturn moduleFilter;\n\t}\n\n\tfunction toolbarFilters() {\n\t\tvar toolbarFilters = document.createElement( \"span\" );\n\n\t\ttoolbarFilters.id = \"qunit-toolbar-filters\";\n\t\ttoolbarFilters.appendChild( toolbarLooseFilter() );\n\t\ttoolbarFilters.appendChild( toolbarModuleFilter() );\n\n\t\treturn toolbarFilters;\n\t}\n\n\tfunction appendToolbar() {\n\t\tvar toolbar = id( \"qunit-testrunner-toolbar\" );\n\n\t\tif ( toolbar ) {\n\t\t\ttoolbar.appendChild( toolbarUrlConfigContainer() );\n\t\t\ttoolbar.appendChild( toolbarFilters() );\n\t\t\ttoolbar.appendChild( document.createElement( \"div\" ) ).className = \"clearfix\";\n\t\t}\n\t}\n\n\tfunction appendHeader() {\n\t\tvar header = id( \"qunit-header\" );\n\n\t\tif ( header ) {\n\t\t\theader.innerHTML = \"<a href='\" + escapeText( unfilteredUrl ) + \"'>\" + header.innerHTML +\n\t\t\t\"</a> \";\n\t\t}\n\t}\n\n\tfunction appendBanner() {\n\t\tvar banner = id( \"qunit-banner\" );\n\n\t\tif ( banner ) {\n\t\t\tbanner.className = \"\";\n\t\t}\n\t}\n\n\tfunction appendTestResults() {\n\t\tvar tests = id( \"qunit-tests\" ),\n\t\t\tresult = id( \"qunit-testresult\" ),\n\t\t\tcontrols;\n\n\t\tif ( result ) {\n\t\t\tresult.parentNode.removeChild( result );\n\t\t}\n\n\t\tif ( tests ) {\n\t\t\ttests.innerHTML = \"\";\n\t\t\tresult = document.createElement( \"p\" );\n\t\t\tresult.id = \"qunit-testresult\";\n\t\t\tresult.className = \"result\";\n\t\t\ttests.parentNode.insertBefore( result, tests );\n\t\t\tresult.innerHTML = \"<div id=\\\"qunit-testresult-display\\\">Running...<br />&#160;</div>\" +\n\t\t\t\"<div id=\\\"qunit-testresult-controls\\\"></div>\" +\n\t\t\t\"<div class=\\\"clearfix\\\"></div>\";\n\t\t\tcontrols = id( \"qunit-testresult-controls\" );\n\t\t}\n\n\t\tif ( controls ) {\n\t\t\tcontrols.appendChild( abortTestsButton() );\n\t\t}\n\t}\n\n\tfunction appendFilteredTest() {\n\t\tvar testId = QUnit.config.testId;\n\t\tif ( !testId || testId.length <= 0 ) {\n\t\t\treturn \"\";\n\t\t}\n\t\treturn \"<div id='qunit-filteredTest'>Rerunning selected tests: \" +\n\t\t\tescapeText( testId.join( \", \" ) ) +\n\t\t\t\" <a id='qunit-clearFilter' href='\" +\n\t\t\tescapeText( unfilteredUrl ) +\n\t\t\t\"'>Run all tests</a></div>\";\n\t}\n\n\tfunction appendUserAgent() {\n\t\tvar userAgent = id( \"qunit-userAgent\" );\n\n\t\tif ( userAgent ) {\n\t\t\tuserAgent.innerHTML = \"\";\n\t\t\tuserAgent.appendChild(\n\t\t\t\tdocument.createTextNode(\n\t\t\t\t\t\"QUnit \" + QUnit.version + \"; \" + navigator.userAgent\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}\n\n\tfunction appendInterface() {\n\t\tvar qunit = id( \"qunit\" );\n\n\t\tif ( qunit ) {\n\t\t\tqunit.innerHTML =\n\t\t\t\"<h1 id='qunit-header'>\" + escapeText( document.title ) + \"</h1>\" +\n\t\t\t\"<h2 id='qunit-banner'></h2>\" +\n\t\t\t\"<div id='qunit-testrunner-toolbar'></div>\" +\n\t\t\tappendFilteredTest() +\n\t\t\t\"<h2 id='qunit-userAgent'></h2>\" +\n\t\t\t\"<ol id='qunit-tests'></ol>\";\n\t\t}\n\n\t\tappendHeader();\n\t\tappendBanner();\n\t\tappendTestResults();\n\t\tappendUserAgent();\n\t\tappendToolbar();\n\t}\n\n\tfunction appendTest( name, testId, moduleName ) {\n\t\tvar title, rerunTrigger, testBlock, assertList,\n\t\t\ttests = id( \"qunit-tests\" );\n\n\t\tif ( !tests ) {\n\t\t\treturn;\n\t\t}\n\n\t\ttitle = document.createElement( \"strong\" );\n\t\ttitle.innerHTML = getNameHtml( name, moduleName );\n\n\t\trerunTrigger = document.createElement( \"a\" );\n\t\trerunTrigger.innerHTML = \"Rerun\";\n\t\trerunTrigger.href = setUrl( { testId: testId } );\n\n\t\ttestBlock = document.createElement( \"li\" );\n\t\ttestBlock.appendChild( title );\n\t\ttestBlock.appendChild( rerunTrigger );\n\t\ttestBlock.id = \"qunit-test-output-\" + testId;\n\n\t\tassertList = document.createElement( \"ol\" );\n\t\tassertList.className = \"qunit-assert-list\";\n\n\t\ttestBlock.appendChild( assertList );\n\n\t\ttests.appendChild( testBlock );\n\t}\n\n\t// HTML Reporter initialization and load\n\tQUnit.begin( function( details ) {\n\t\tvar i, moduleObj;\n\n\t\t// Sort modules by name for the picker\n\t\tfor ( i = 0; i < details.modules.length; i++ ) {\n\t\t\tmoduleObj = details.modules[ i ];\n\t\t\tif ( moduleObj.name ) {\n\t\t\t\tmodulesList.push( moduleObj.name );\n\t\t\t}\n\t\t}\n\t\tmodulesList.sort( function( a, b ) {\n\t\t\treturn a.localeCompare( b );\n\t\t} );\n\n\t\t// Initialize QUnit elements\n\t\tappendInterface();\n\t} );\n\n\tQUnit.done( function( details ) {\n\t\tvar banner = id( \"qunit-banner\" ),\n\t\t\ttests = id( \"qunit-tests\" ),\n\t\t\tabortButton = id( \"qunit-abort-tests-button\" ),\n\t\t\ttotalTests = stats.passedTests +\n\t\t\t\tstats.skippedTests +\n\t\t\t\tstats.todoTests +\n\t\t\t\tstats.failedTests,\n\t\t\thtml = [\n\t\t\t\ttotalTests,\n\t\t\t\t\" tests completed in \",\n\t\t\t\tdetails.runtime,\n\t\t\t\t\" milliseconds, with \",\n\t\t\t\tstats.failedTests,\n\t\t\t\t\" failed, \",\n\t\t\t\tstats.skippedTests,\n\t\t\t\t\" skipped, and \",\n\t\t\t\tstats.todoTests,\n\t\t\t\t\" todo.<br />\",\n\t\t\t\t\"<span class='passed'>\",\n\t\t\t\tdetails.passed,\n\t\t\t\t\"</span> assertions of <span class='total'>\",\n\t\t\t\tdetails.total,\n\t\t\t\t\"</span> passed, <span class='failed'>\",\n\t\t\t\tdetails.failed,\n\t\t\t\t\"</span> failed.\"\n\t\t\t].join( \"\" ),\n\t\t\ttest,\n\t\t\tassertLi,\n\t\t\tassertList;\n\n\t\t// Update remaining tests to aborted\n\t\tif ( abortButton && abortButton.disabled ) {\n\t\t\thtml = \"Tests aborted after \" + details.runtime + \" milliseconds.\";\n\n\t\t\tfor ( var i = 0; i < tests.children.length; i++ ) {\n\t\t\t\ttest = tests.children[ i ];\n\t\t\t\tif ( test.className === \"\" || test.className === \"running\" ) {\n\t\t\t\t\ttest.className = \"aborted\";\n\t\t\t\t\tassertList = test.getElementsByTagName( \"ol\" )[ 0 ];\n\t\t\t\t\tassertLi = document.createElement( \"li\" );\n\t\t\t\t\tassertLi.className = \"fail\";\n\t\t\t\t\tassertLi.innerHTML = \"Test aborted.\";\n\t\t\t\t\tassertList.appendChild( assertLi );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ( banner && ( !abortButton || abortButton.disabled === false ) ) {\n\t\t\tbanner.className = stats.failedTests ? \"qunit-fail\" : \"qunit-pass\";\n\t\t}\n\n\t\tif ( abortButton ) {\n\t\t\tabortButton.parentNode.removeChild( abortButton );\n\t\t}\n\n\t\tif ( tests ) {\n\t\t\tid( \"qunit-testresult-display\" ).innerHTML = html;\n\t\t}\n\n\t\tif ( config.altertitle && document.title ) {\n\n\t\t\t// Show ✖ for good, ✔ for bad suite result in title\n\t\t\t// use escape sequences in case file gets loaded with non-utf-8\n\t\t\t// charset\n\t\t\tdocument.title = [\n\t\t\t\t( stats.failedTests ? \"\\u2716\" : \"\\u2714\" ),\n\t\t\t\tdocument.title.replace( /^[\\u2714\\u2716] /i, \"\" )\n\t\t\t].join( \" \" );\n\t\t}\n\n\t\t// Scroll back to top to show results\n\t\tif ( config.scrolltop && window.scrollTo ) {\n\t\t\twindow.scrollTo( 0, 0 );\n\t\t}\n\t} );\n\n\tfunction getNameHtml( name, module ) {\n\t\tvar nameHtml = \"\";\n\n\t\tif ( module ) {\n\t\t\tnameHtml = \"<span class='module-name'>\" + escapeText( module ) + \"</span>: \";\n\t\t}\n\n\t\tnameHtml += \"<span class='test-name'>\" + escapeText( name ) + \"</span>\";\n\n\t\treturn nameHtml;\n\t}\n\n\tfunction getProgressHtml( runtime, stats, total ) {\n\t\tvar completed = stats.passedTests +\n\t\t\tstats.skippedTests +\n\t\t\tstats.todoTests +\n\t\t\tstats.failedTests;\n\n\t\treturn [\n\t\t\t\"<br />\",\n\t\t\tcompleted,\n\t\t\t\" / \",\n\t\t\ttotal,\n\t\t\t\" tests completed in \",\n\t\t\truntime,\n\t\t\t\" milliseconds, with \",\n\t\t\tstats.failedTests,\n\t\t\t\" failed, \",\n\t\t\tstats.skippedTests,\n\t\t\t\" skipped, and \",\n\t\t\tstats.todoTests,\n\t\t\t\" todo.\"\n\t\t].join( \"\" );\n\t}\n\n\tQUnit.testStart( function( details ) {\n\t\tvar running, bad;\n\n\t\tappendTest( details.name, details.testId, details.module );\n\n\t\trunning = id( \"qunit-testresult-display\" );\n\n\t\tif ( running ) {\n\t\t\taddClass( running, \"running\" );\n\n\t\t\tbad = QUnit.config.reorder && details.previousFailure;\n\n\t\t\trunning.innerHTML = [\n\t\t\t\tbad ?\n\t\t\t\t\t\"Rerunning previously failed test: <br />\" :\n\t\t\t\t\t\"Running: <br />\",\n\t\t\t\tgetNameHtml( details.name, details.module ),\n\t\t\t\tgetProgressHtml( now() - config.started, stats, Test.count )\n\t\t\t].join( \"\" );\n\t\t}\n\n\t} );\n\n\tfunction stripHtml( string ) {\n\n\t\t// Strip tags, html entity and whitespaces\n\t\treturn string\n\t\t\t.replace( /<\\/?[^>]+(>|$)/g, \"\" )\n\t\t\t.replace( /&quot;/g, \"\" )\n\t\t\t.replace( /\\s+/g, \"\" );\n\t}\n\n\tQUnit.log( function( details ) {\n\t\tvar assertList, assertLi,\n\t\t\tmessage, expected, actual, diff,\n\t\t\tshowDiff = false,\n\t\t\ttestItem = id( \"qunit-test-output-\" + details.testId );\n\n\t\tif ( !testItem ) {\n\t\t\treturn;\n\t\t}\n\n\t\tmessage = escapeText( details.message ) || ( details.result ? \"okay\" : \"failed\" );\n\t\tmessage = \"<span class='test-message'>\" + message + \"</span>\";\n\t\tmessage += \"<span class='runtime'>@ \" + details.runtime + \" ms</span>\";\n\n\t\t// The pushFailure doesn't provide details.expected\n\t\t// when it calls, it's implicit to also not show expected and diff stuff\n\t\t// Also, we need to check details.expected existence, as it can exist and be undefined\n\t\tif ( !details.result && hasOwn.call( details, \"expected\" ) ) {\n\t\t\tif ( details.negative ) {\n\t\t\t\texpected = \"NOT \" + QUnit.dump.parse( details.expected );\n\t\t\t} else {\n\t\t\t\texpected = QUnit.dump.parse( details.expected );\n\t\t\t}\n\n\t\t\tactual = QUnit.dump.parse( details.actual );\n\t\t\tmessage += \"<table><tr class='test-expected'><th>Expected: </th><td><pre>\" +\n\t\t\tescapeText( expected ) +\n\t\t\t\"</pre></td></tr>\";\n\n\t\t\tif ( actual !== expected ) {\n\n\t\t\t\tmessage += \"<tr class='test-actual'><th>Result: </th><td><pre>\" +\n\t\t\t\t\tescapeText( actual ) + \"</pre></td></tr>\";\n\n\t\t\t\tif ( typeof details.actual === \"number\" && typeof details.expected === \"number\" ) {\n\t\t\t\t\tif ( !isNaN( details.actual ) && !isNaN( details.expected ) ) {\n\t\t\t\t\t\tshowDiff = true;\n\t\t\t\t\t\tdiff = ( details.actual - details.expected );\n\t\t\t\t\t\tdiff = ( diff > 0 ? \"+\" : \"\" ) + diff;\n\t\t\t\t\t}\n\t\t\t\t} else if ( typeof details.actual !== \"boolean\" &&\n\t\t\t\t\t\t\ttypeof details.expected !== \"boolean\" ) {\n\t\t\t\t\tdiff = QUnit.diff( expected, actual );\n\n\t\t\t\t\t// don't show diff if there is zero overlap\n\t\t\t\t\tshowDiff = stripHtml( diff ).length !==\n\t\t\t\t\t\tstripHtml( expected ).length +\n\t\t\t\t\t\tstripHtml( actual ).length;\n\t\t\t\t}\n\n\t\t\t\tif ( showDiff ) {\n\t\t\t\t\tmessage += \"<tr class='test-diff'><th>Diff: </th><td><pre>\" +\n\t\t\t\t\tdiff + \"</pre></td></tr>\";\n\t\t\t\t}\n\t\t\t} else if ( expected.indexOf( \"[object Array]\" ) !== -1 ||\n\t\t\t\texpected.indexOf( \"[object Object]\" ) !== -1 ) {\n\t\t\t\tmessage += \"<tr class='test-message'><th>Message: </th><td>\" +\n\t\t\t\t\"Diff suppressed as the depth of object is more than current max depth (\" +\n\t\t\t\tQUnit.config.maxDepth + \").<p>Hint: Use <code>QUnit.dump.maxDepth</code> to \" +\n\t\t\t\t\" run with a higher max depth or <a href='\" +\n\t\t\t\tescapeText( setUrl( { maxDepth: -1 } ) ) + \"'>\" +\n\t\t\t\t\"Rerun</a> without max depth.</p></td></tr>\";\n\t\t\t} else {\n\t\t\t\tmessage += \"<tr class='test-message'><th>Message: </th><td>\" +\n\t\t\t\t\"Diff suppressed as the expected and actual results have an equivalent\" +\n\t\t\t\t\" serialization</td></tr>\";\n\t\t\t}\n\n\t\t\tif ( details.source ) {\n\t\t\t\tmessage += \"<tr class='test-source'><th>Source: </th><td><pre>\" +\n\t\t\t\tescapeText( details.source ) + \"</pre></td></tr>\";\n\t\t\t}\n\n\t\t\tmessage += \"</table>\";\n\n\t\t// This occurs when pushFailure is set and we have an extracted stack trace\n\t\t} else if ( !details.result && details.source ) {\n\t\t\tmessage += \"<table>\" +\n\t\t\t\"<tr class='test-source'><th>Source: </th><td><pre>\" +\n\t\t\tescapeText( details.source ) + \"</pre></td></tr>\" +\n\t\t\t\"</table>\";\n\t\t}\n\n\t\tassertList = testItem.getElementsByTagName( \"ol\" )[ 0 ];\n\n\t\tassertLi = document.createElement( \"li\" );\n\t\tassertLi.className = details.result ? \"pass\" : \"fail\";\n\t\tassertLi.innerHTML = message;\n\t\tassertList.appendChild( assertLi );\n\t} );\n\n\tQUnit.testDone( function( details ) {\n\t\tvar testTitle, time, testItem, assertList, status,\n\t\t\tgood, bad, testCounts, skipped, sourceName,\n\t\t\ttests = id( \"qunit-tests\" );\n\n\t\tif ( !tests ) {\n\t\t\treturn;\n\t\t}\n\n\t\ttestItem = id( \"qunit-test-output-\" + details.testId );\n\n\t\tremoveClass( testItem, \"running\" );\n\n\t\tif ( details.failed > 0 ) {\n\t\t\tstatus = \"failed\";\n\t\t} else if ( details.todo ) {\n\t\t\tstatus = \"todo\";\n\t\t} else {\n\t\t\tstatus = details.skipped ? \"skipped\" : \"passed\";\n\t\t}\n\n\t\tassertList = testItem.getElementsByTagName( \"ol\" )[ 0 ];\n\n\t\tgood = details.passed;\n\t\tbad = details.failed;\n\n\t\t// This test passed if it has no unexpected failed assertions\n\t\tconst testPassed = details.failed > 0 ? details.todo : !details.todo;\n\n\t\tif ( testPassed ) {\n\n\t\t\t// Collapse the passing tests\n\t\t\taddClass( assertList, \"qunit-collapsed\" );\n\t\t} else if ( config.collapse ) {\n\t\t\tif ( !collapseNext ) {\n\n\t\t\t\t// Skip collapsing the first failing test\n\t\t\t\tcollapseNext = true;\n\t\t\t} else {\n\n\t\t\t\t// Collapse remaining tests\n\t\t\t\taddClass( assertList, \"qunit-collapsed\" );\n\t\t\t}\n\t\t}\n\n\t\t// The testItem.firstChild is the test name\n\t\ttestTitle = testItem.firstChild;\n\n\t\ttestCounts = bad ?\n\t\t\t\"<b class='failed'>\" + bad + \"</b>, \" + \"<b class='passed'>\" + good + \"</b>, \" :\n\t\t\t\"\";\n\n\t\ttestTitle.innerHTML += \" <b class='counts'>(\" + testCounts +\n\t\tdetails.assertions.length + \")</b>\";\n\n\t\tif ( details.skipped ) {\n\t\t\tstats.skippedTests++;\n\n\t\t\ttestItem.className = \"skipped\";\n\t\t\tskipped = document.createElement( \"em\" );\n\t\t\tskipped.className = \"qunit-skipped-label\";\n\t\t\tskipped.innerHTML = \"skipped\";\n\t\t\ttestItem.insertBefore( skipped, testTitle );\n\t\t} else {\n\t\t\taddEvent( testTitle, \"click\", function() {\n\t\t\t\ttoggleClass( assertList, \"qunit-collapsed\" );\n\t\t\t} );\n\n\t\t\ttestItem.className = testPassed ? \"pass\" : \"fail\";\n\n\t\t\tif ( details.todo ) {\n\t\t\t\tconst todoLabel = document.createElement( \"em\" );\n\t\t\t\ttodoLabel.className = \"qunit-todo-label\";\n\t\t\t\ttodoLabel.innerHTML = \"todo\";\n\t\t\t\ttestItem.className += \" todo\";\n\t\t\t\ttestItem.insertBefore( todoLabel, testTitle );\n\t\t\t}\n\n\t\t\ttime = document.createElement( \"span\" );\n\t\t\ttime.className = \"runtime\";\n\t\t\ttime.innerHTML = details.runtime + \" ms\";\n\t\t\ttestItem.insertBefore( time, assertList );\n\n\t\t\tif ( !testPassed ) {\n\t\t\t\tstats.failedTests++;\n\t\t\t} else if ( details.todo ) {\n\t\t\t\tstats.todoTests++;\n\t\t\t} else {\n\t\t\t\tstats.passedTests++;\n\t\t\t}\n\t\t}\n\n\t\t// Show the source of the test when showing assertions\n\t\tif ( details.source ) {\n\t\t\tsourceName = document.createElement( \"p\" );\n\t\t\tsourceName.innerHTML = \"<strong>Source: </strong>\" + escapeText( details.source );\n\t\t\taddClass( sourceName, \"qunit-source\" );\n\t\t\tif ( testPassed ) {\n\t\t\t\taddClass( sourceName, \"qunit-collapsed\" );\n\t\t\t}\n\t\t\taddEvent( testTitle, \"click\", function() {\n\t\t\t\ttoggleClass( sourceName, \"qunit-collapsed\" );\n\t\t\t} );\n\t\t\ttestItem.appendChild( sourceName );\n\t\t}\n\n\t\tif ( config.hidepassed && ( status === \"passed\" || details.skipped ) ) {\n\n\t\t\t// use removeChild instead of remove because of support\n\t\t\thiddenTests.push( testItem );\n\n\t\t\ttests.removeChild( testItem );\n\t\t}\n\t} );\n\n\t// Avoid readyState issue with phantomjs\n\t// Ref: #818\n\tvar notPhantom = ( function( p ) {\n\t\treturn !( p && p.version && p.version.major > 0 );\n\t} )( window.phantom );\n\n\tif ( notPhantom && document.readyState === \"complete\" ) {\n\t\tQUnit.load();\n\t} else {\n\t\taddEvent( window, \"load\", QUnit.load );\n\t}\n\n\t// Wrap window.onerror. We will call the original window.onerror to see if\n\t// the existing handler fully handles the error; if not, we will call the\n\t// QUnit.onError function.\n\tvar originalWindowOnError = window.onerror;\n\n\t// Cover uncaught exceptions\n\t// Returning true will suppress the default browser handler,\n\t// returning false will let it run.\n\twindow.onerror = function( message, fileName, lineNumber, columnNumber, errorObj, ...args ) {\n\t\tvar ret = false;\n\t\tif ( originalWindowOnError ) {\n\t\t\tret = originalWindowOnError.call(\n\t\t\t\tthis,\n\t\t\t\tmessage,\n\t\t\t\tfileName,\n\t\t\t\tlineNumber,\n\t\t\t\tcolumnNumber,\n\t\t\t\terrorObj,\n\t\t\t\t...args\n\t\t\t);\n\t\t}\n\n\t\t// Treat return value as window.onerror itself does,\n\t\t// Only do our handling if not suppressed.\n\t\tif ( ret !== true ) {\n\t\t\tconst error = {\n\t\t\t\tmessage,\n\t\t\t\tfileName,\n\t\t\t\tlineNumber\n\t\t\t};\n\n\t\t\t// According to\n\t\t\t// https://blog.sentry.io/2016/01/04/client-javascript-reporting-window-onerror,\n\t\t\t// most modern browsers support an errorObj argument; use that to\n\t\t\t// get a full stack trace if it's available.\n\t\t\tif ( errorObj && errorObj.stack ) {\n\t\t\t\terror.stacktrace = extractStacktrace( errorObj, 0 );\n\t\t\t}\n\n\t\t\tret = QUnit.onError( error );\n\t\t}\n\n\t\treturn ret;\n\t};\n\n\t// Listen for unhandled rejections, and call QUnit.onUnhandledRejection\n\twindow.addEventListener( \"unhandledrejection\", function( event ) {\n\t\tQUnit.onUnhandledRejection( event.reason );\n\t} );\n}() );\n","import QUnit from \"../src/core\";\nimport { escapeText } from \"./html\";\n\n/*\n * This file is a modified version of google-diff-match-patch's JavaScript implementation\n * (https://code.google.com/p/google-diff-match-patch/source/browse/trunk/javascript/diff_match_patch_uncompressed.js),\n * modifications are licensed as more fully set forth in LICENSE.txt.\n *\n * The original source of google-diff-match-patch is attributable and licensed as follows:\n *\n * Copyright 2006 Google Inc.\n * https://code.google.com/p/google-diff-match-patch/\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * More Info:\n *  https://code.google.com/p/google-diff-match-patch/\n *\n * Usage: QUnit.diff(expected, actual)\n *\n */\nQUnit.diff = ( function() {\n\tfunction DiffMatchPatch() {\n\t}\n\n\t//  DIFF FUNCTIONS\n\n\t/**\n\t * The data structure representing a diff is an array of tuples:\n\t * [[DIFF_DELETE, 'Hello'], [DIFF_INSERT, 'Goodbye'], [DIFF_EQUAL, ' world.']]\n\t * which means: delete 'Hello', add 'Goodbye' and keep ' world.'\n\t */\n\tvar DIFF_DELETE = -1,\n\t\tDIFF_INSERT = 1,\n\t\tDIFF_EQUAL = 0,\n\t\thasOwn = Object.prototype.hasOwnProperty;\n\n\t/**\n\t * Find the differences between two texts.  Simplifies the problem by stripping\n\t * any common prefix or suffix off the texts before diffing.\n\t * @param {string} text1 Old string to be diffed.\n\t * @param {string} text2 New string to be diffed.\n\t * @param {boolean=} optChecklines Optional speedup flag. If present and false,\n\t *     then don't run a line-level diff first to identify the changed areas.\n\t *     Defaults to true, which does a faster, slightly less optimal diff.\n\t * @return {!Array.<!DiffMatchPatch.Diff>} Array of diff tuples.\n\t */\n\tDiffMatchPatch.prototype.DiffMain = function( text1, text2, optChecklines ) {\n\t\tvar deadline, checklines, commonlength,\n\t\t\tcommonprefix, commonsuffix, diffs;\n\n\t\t// The diff must be complete in up to 1 second.\n\t\tdeadline = ( new Date() ).getTime() + 1000;\n\n\t\t// Check for null inputs.\n\t\tif ( text1 === null || text2 === null ) {\n\t\t\tthrow new Error( \"Null input. (DiffMain)\" );\n\t\t}\n\n\t\t// Check for equality (speedup).\n\t\tif ( text1 === text2 ) {\n\t\t\tif ( text1 ) {\n\t\t\t\treturn [\n\t\t\t\t\t[ DIFF_EQUAL, text1 ]\n\t\t\t\t];\n\t\t\t}\n\t\t\treturn [];\n\t\t}\n\n\t\tif ( typeof optChecklines === \"undefined\" ) {\n\t\t\toptChecklines = true;\n\t\t}\n\n\t\tchecklines = optChecklines;\n\n\t\t// Trim off common prefix (speedup).\n\t\tcommonlength = this.diffCommonPrefix( text1, text2 );\n\t\tcommonprefix = text1.substring( 0, commonlength );\n\t\ttext1 = text1.substring( commonlength );\n\t\ttext2 = text2.substring( commonlength );\n\n\t\t// Trim off common suffix (speedup).\n\t\tcommonlength = this.diffCommonSuffix( text1, text2 );\n\t\tcommonsuffix = text1.substring( text1.length - commonlength );\n\t\ttext1 = text1.substring( 0, text1.length - commonlength );\n\t\ttext2 = text2.substring( 0, text2.length - commonlength );\n\n\t\t// Compute the diff on the middle block.\n\t\tdiffs = this.diffCompute( text1, text2, checklines, deadline );\n\n\t\t// Restore the prefix and suffix.\n\t\tif ( commonprefix ) {\n\t\t\tdiffs.unshift( [ DIFF_EQUAL, commonprefix ] );\n\t\t}\n\t\tif ( commonsuffix ) {\n\t\t\tdiffs.push( [ DIFF_EQUAL, commonsuffix ] );\n\t\t}\n\t\tthis.diffCleanupMerge( diffs );\n\t\treturn diffs;\n\t};\n\n\t/**\n\t * Reduce the number of edits by eliminating operationally trivial equalities.\n\t * @param {!Array.<!DiffMatchPatch.Diff>} diffs Array of diff tuples.\n\t */\n\tDiffMatchPatch.prototype.diffCleanupEfficiency = function( diffs ) {\n\t\tvar changes, equalities, equalitiesLength, lastequality,\n\t\t\tpointer, preIns, preDel, postIns, postDel;\n\t\tchanges = false;\n\t\tequalities = []; // Stack of indices where equalities are found.\n\t\tequalitiesLength = 0; // Keeping our own length var is faster in JS.\n\t\t/** @type {?string} */\n\t\tlastequality = null;\n\n\t\t// Always equal to diffs[equalities[equalitiesLength - 1]][1]\n\t\tpointer = 0; // Index of current position.\n\n\t\t// Is there an insertion operation before the last equality.\n\t\tpreIns = false;\n\n\t\t// Is there a deletion operation before the last equality.\n\t\tpreDel = false;\n\n\t\t// Is there an insertion operation after the last equality.\n\t\tpostIns = false;\n\n\t\t// Is there a deletion operation after the last equality.\n\t\tpostDel = false;\n\t\twhile ( pointer < diffs.length ) {\n\n\t\t\t// Equality found.\n\t\t\tif ( diffs[ pointer ][ 0 ] === DIFF_EQUAL ) {\n\t\t\t\tif ( diffs[ pointer ][ 1 ].length < 4 && ( postIns || postDel ) ) {\n\n\t\t\t\t\t// Candidate found.\n\t\t\t\t\tequalities[ equalitiesLength++ ] = pointer;\n\t\t\t\t\tpreIns = postIns;\n\t\t\t\t\tpreDel = postDel;\n\t\t\t\t\tlastequality = diffs[ pointer ][ 1 ];\n\t\t\t\t} else {\n\n\t\t\t\t\t// Not a candidate, and can never become one.\n\t\t\t\t\tequalitiesLength = 0;\n\t\t\t\t\tlastequality = null;\n\t\t\t\t}\n\t\t\t\tpostIns = postDel = false;\n\n\t\t\t// An insertion or deletion.\n\t\t\t} else {\n\n\t\t\t\tif ( diffs[ pointer ][ 0 ] === DIFF_DELETE ) {\n\t\t\t\t\tpostDel = true;\n\t\t\t\t} else {\n\t\t\t\t\tpostIns = true;\n\t\t\t\t}\n\n\t\t\t\t/*\n\t\t\t\t * Five types to be split:\n\t\t\t\t * <ins>A</ins><del>B</del>XY<ins>C</ins><del>D</del>\n\t\t\t\t * <ins>A</ins>X<ins>C</ins><del>D</del>\n\t\t\t\t * <ins>A</ins><del>B</del>X<ins>C</ins>\n\t\t\t\t * <ins>A</del>X<ins>C</ins><del>D</del>\n\t\t\t\t * <ins>A</ins><del>B</del>X<del>C</del>\n\t\t\t\t */\n\t\t\t\tif ( lastequality && ( ( preIns && preDel && postIns && postDel ) ||\n\t\t\t\t\t\t( ( lastequality.length < 2 ) &&\n\t\t\t\t\t\t( preIns + preDel + postIns + postDel ) === 3 ) ) ) {\n\n\t\t\t\t\t// Duplicate record.\n\t\t\t\t\tdiffs.splice(\n\t\t\t\t\t\tequalities[ equalitiesLength - 1 ],\n\t\t\t\t\t\t0,\n\t\t\t\t\t\t[ DIFF_DELETE, lastequality ]\n\t\t\t\t\t);\n\n\t\t\t\t\t// Change second copy to insert.\n\t\t\t\t\tdiffs[ equalities[ equalitiesLength - 1 ] + 1 ][ 0 ] = DIFF_INSERT;\n\t\t\t\t\tequalitiesLength--; // Throw away the equality we just deleted;\n\t\t\t\t\tlastequality = null;\n\t\t\t\t\tif ( preIns && preDel ) {\n\n\t\t\t\t\t\t// No changes made which could affect previous entry, keep going.\n\t\t\t\t\t\tpostIns = postDel = true;\n\t\t\t\t\t\tequalitiesLength = 0;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tequalitiesLength--; // Throw away the previous equality.\n\t\t\t\t\t\tpointer = equalitiesLength > 0 ? equalities[ equalitiesLength - 1 ] : -1;\n\t\t\t\t\t\tpostIns = postDel = false;\n\t\t\t\t\t}\n\t\t\t\t\tchanges = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tpointer++;\n\t\t}\n\n\t\tif ( changes ) {\n\t\t\tthis.diffCleanupMerge( diffs );\n\t\t}\n\t};\n\n\t/**\n\t * Convert a diff array into a pretty HTML report.\n\t * @param {!Array.<!DiffMatchPatch.Diff>} diffs Array of diff tuples.\n\t * @param {integer} string to be beautified.\n\t * @return {string} HTML representation.\n\t */\n\tDiffMatchPatch.prototype.diffPrettyHtml = function( diffs ) {\n\t\tvar op, data, x,\n\t\t\thtml = [];\n\t\tfor ( x = 0; x < diffs.length; x++ ) {\n\t\t\top = diffs[ x ][ 0 ]; // Operation (insert, delete, equal)\n\t\t\tdata = diffs[ x ][ 1 ]; // Text of change.\n\t\t\tswitch ( op ) {\n\t\t\tcase DIFF_INSERT:\n\t\t\t\thtml[ x ] = \"<ins>\" + escapeText( data ) + \"</ins>\";\n\t\t\t\tbreak;\n\t\t\tcase DIFF_DELETE:\n\t\t\t\thtml[ x ] = \"<del>\" + escapeText( data ) + \"</del>\";\n\t\t\t\tbreak;\n\t\t\tcase DIFF_EQUAL:\n\t\t\t\thtml[ x ] = \"<span>\" + escapeText( data ) + \"</span>\";\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn html.join( \"\" );\n\t};\n\n\t/**\n\t * Determine the common prefix of two strings.\n\t * @param {string} text1 First string.\n\t * @param {string} text2 Second string.\n\t * @return {number} The number of characters common to the start of each\n\t *     string.\n\t */\n\tDiffMatchPatch.prototype.diffCommonPrefix = function( text1, text2 ) {\n\t\tvar pointermid, pointermax, pointermin, pointerstart;\n\n\t\t// Quick check for common null cases.\n\t\tif ( !text1 || !text2 || text1.charAt( 0 ) !== text2.charAt( 0 ) ) {\n\t\t\treturn 0;\n\t\t}\n\n\t\t// Binary search.\n\t\t// Performance analysis: https://neil.fraser.name/news/2007/10/09/\n\t\tpointermin = 0;\n\t\tpointermax = Math.min( text1.length, text2.length );\n\t\tpointermid = pointermax;\n\t\tpointerstart = 0;\n\t\twhile ( pointermin < pointermid ) {\n\t\t\tif ( text1.substring( pointerstart, pointermid ) ===\n\t\t\t\t\ttext2.substring( pointerstart, pointermid ) ) {\n\t\t\t\tpointermin = pointermid;\n\t\t\t\tpointerstart = pointermin;\n\t\t\t} else {\n\t\t\t\tpointermax = pointermid;\n\t\t\t}\n\t\t\tpointermid = Math.floor( ( pointermax - pointermin ) / 2 + pointermin );\n\t\t}\n\t\treturn pointermid;\n\t};\n\n\t/**\n\t * Determine the common suffix of two strings.\n\t * @param {string} text1 First string.\n\t * @param {string} text2 Second string.\n\t * @return {number} The number of characters common to the end of each string.\n\t */\n\tDiffMatchPatch.prototype.diffCommonSuffix = function( text1, text2 ) {\n\t\tvar pointermid, pointermax, pointermin, pointerend;\n\n\t\t// Quick check for common null cases.\n\t\tif ( !text1 ||\n\t\t\t\t!text2 ||\n\t\t\t\ttext1.charAt( text1.length - 1 ) !== text2.charAt( text2.length - 1 ) ) {\n\t\t\treturn 0;\n\t\t}\n\n\t\t// Binary search.\n\t\t// Performance analysis: https://neil.fraser.name/news/2007/10/09/\n\t\tpointermin = 0;\n\t\tpointermax = Math.min( text1.length, text2.length );\n\t\tpointermid = pointermax;\n\t\tpointerend = 0;\n\t\twhile ( pointermin < pointermid ) {\n\t\t\tif ( text1.substring( text1.length - pointermid, text1.length - pointerend ) ===\n\t\t\t\t\ttext2.substring( text2.length - pointermid, text2.length - pointerend ) ) {\n\t\t\t\tpointermin = pointermid;\n\t\t\t\tpointerend = pointermin;\n\t\t\t} else {\n\t\t\t\tpointermax = pointermid;\n\t\t\t}\n\t\t\tpointermid = Math.floor( ( pointermax - pointermin ) / 2 + pointermin );\n\t\t}\n\t\treturn pointermid;\n\t};\n\n\t/**\n\t * Find the differences between two texts.  Assumes that the texts do not\n\t * have any common prefix or suffix.\n\t * @param {string} text1 Old string to be diffed.\n\t * @param {string} text2 New string to be diffed.\n\t * @param {boolean} checklines Speedup flag.  If false, then don't run a\n\t *     line-level diff first to identify the changed areas.\n\t *     If true, then run a faster, slightly less optimal diff.\n\t * @param {number} deadline Time when the diff should be complete by.\n\t * @return {!Array.<!DiffMatchPatch.Diff>} Array of diff tuples.\n\t * @private\n\t */\n\tDiffMatchPatch.prototype.diffCompute = function( text1, text2, checklines, deadline ) {\n\t\tvar diffs, longtext, shorttext, i, hm,\n\t\t\ttext1A, text2A, text1B, text2B,\n\t\t\tmidCommon, diffsA, diffsB;\n\n\t\tif ( !text1 ) {\n\n\t\t\t// Just add some text (speedup).\n\t\t\treturn [\n\t\t\t\t[ DIFF_INSERT, text2 ]\n\t\t\t];\n\t\t}\n\n\t\tif ( !text2 ) {\n\n\t\t\t// Just delete some text (speedup).\n\t\t\treturn [\n\t\t\t\t[ DIFF_DELETE, text1 ]\n\t\t\t];\n\t\t}\n\n\t\tlongtext = text1.length > text2.length ? text1 : text2;\n\t\tshorttext = text1.length > text2.length ? text2 : text1;\n\t\ti = longtext.indexOf( shorttext );\n\t\tif ( i !== -1 ) {\n\n\t\t\t// Shorter text is inside the longer text (speedup).\n\t\t\tdiffs = [\n\t\t\t\t[ DIFF_INSERT, longtext.substring( 0, i ) ],\n\t\t\t\t[ DIFF_EQUAL, shorttext ],\n\t\t\t\t[ DIFF_INSERT, longtext.substring( i + shorttext.length ) ]\n\t\t\t];\n\n\t\t\t// Swap insertions for deletions if diff is reversed.\n\t\t\tif ( text1.length > text2.length ) {\n\t\t\t\tdiffs[ 0 ][ 0 ] = diffs[ 2 ][ 0 ] = DIFF_DELETE;\n\t\t\t}\n\t\t\treturn diffs;\n\t\t}\n\n\t\tif ( shorttext.length === 1 ) {\n\n\t\t\t// Single character string.\n\t\t\t// After the previous speedup, the character can't be an equality.\n\t\t\treturn [\n\t\t\t\t[ DIFF_DELETE, text1 ],\n\t\t\t\t[ DIFF_INSERT, text2 ]\n\t\t\t];\n\t\t}\n\n\t\t// Check to see if the problem can be split in two.\n\t\thm = this.diffHalfMatch( text1, text2 );\n\t\tif ( hm ) {\n\n\t\t\t// A half-match was found, sort out the return data.\n\t\t\ttext1A = hm[ 0 ];\n\t\t\ttext1B = hm[ 1 ];\n\t\t\ttext2A = hm[ 2 ];\n\t\t\ttext2B = hm[ 3 ];\n\t\t\tmidCommon = hm[ 4 ];\n\n\t\t\t// Send both pairs off for separate processing.\n\t\t\tdiffsA = this.DiffMain( text1A, text2A, checklines, deadline );\n\t\t\tdiffsB = this.DiffMain( text1B, text2B, checklines, deadline );\n\n\t\t\t// Merge the results.\n\t\t\treturn diffsA.concat( [\n\t\t\t\t[ DIFF_EQUAL, midCommon ]\n\t\t\t], diffsB );\n\t\t}\n\n\t\tif ( checklines && text1.length > 100 && text2.length > 100 ) {\n\t\t\treturn this.diffLineMode( text1, text2, deadline );\n\t\t}\n\n\t\treturn this.diffBisect( text1, text2, deadline );\n\t};\n\n\t/**\n\t * Do the two texts share a substring which is at least half the length of the\n\t * longer text?\n\t * This speedup can produce non-minimal diffs.\n\t * @param {string} text1 First string.\n\t * @param {string} text2 Second string.\n\t * @return {Array.<string>} Five element Array, containing the prefix of\n\t *     text1, the suffix of text1, the prefix of text2, the suffix of\n\t *     text2 and the common middle.  Or null if there was no match.\n\t * @private\n\t */\n\tDiffMatchPatch.prototype.diffHalfMatch = function( text1, text2 ) {\n\t\tvar longtext, shorttext, dmp,\n\t\t\ttext1A, text2B, text2A, text1B, midCommon,\n\t\t\thm1, hm2, hm;\n\n\t\tlongtext = text1.length > text2.length ? text1 : text2;\n\t\tshorttext = text1.length > text2.length ? text2 : text1;\n\t\tif ( longtext.length < 4 || shorttext.length * 2 < longtext.length ) {\n\t\t\treturn null; // Pointless.\n\t\t}\n\t\tdmp = this; // 'this' becomes 'window' in a closure.\n\n\t\t/**\n\t\t * Does a substring of shorttext exist within longtext such that the substring\n\t\t * is at least half the length of longtext?\n\t\t * Closure, but does not reference any external variables.\n\t\t * @param {string} longtext Longer string.\n\t\t * @param {string} shorttext Shorter string.\n\t\t * @param {number} i Start index of quarter length substring within longtext.\n\t\t * @return {Array.<string>} Five element Array, containing the prefix of\n\t\t *     longtext, the suffix of longtext, the prefix of shorttext, the suffix\n\t\t *     of shorttext and the common middle.  Or null if there was no match.\n\t\t * @private\n\t\t */\n\t\tfunction diffHalfMatchI( longtext, shorttext, i ) {\n\t\t\tvar seed, j, bestCommon, prefixLength, suffixLength,\n\t\t\t\tbestLongtextA, bestLongtextB, bestShorttextA, bestShorttextB;\n\n\t\t\t// Start with a 1/4 length substring at position i as a seed.\n\t\t\tseed = longtext.substring( i, i + Math.floor( longtext.length / 4 ) );\n\t\t\tj = -1;\n\t\t\tbestCommon = \"\";\n\t\t\twhile ( ( j = shorttext.indexOf( seed, j + 1 ) ) !== -1 ) {\n\t\t\t\tprefixLength = dmp.diffCommonPrefix( longtext.substring( i ),\n\t\t\t\t\tshorttext.substring( j ) );\n\t\t\t\tsuffixLength = dmp.diffCommonSuffix( longtext.substring( 0, i ),\n\t\t\t\t\tshorttext.substring( 0, j ) );\n\t\t\t\tif ( bestCommon.length < suffixLength + prefixLength ) {\n\t\t\t\t\tbestCommon = shorttext.substring( j - suffixLength, j ) +\n\t\t\t\t\t\tshorttext.substring( j, j + prefixLength );\n\t\t\t\t\tbestLongtextA = longtext.substring( 0, i - suffixLength );\n\t\t\t\t\tbestLongtextB = longtext.substring( i + prefixLength );\n\t\t\t\t\tbestShorttextA = shorttext.substring( 0, j - suffixLength );\n\t\t\t\t\tbestShorttextB = shorttext.substring( j + prefixLength );\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ( bestCommon.length * 2 >= longtext.length ) {\n\t\t\t\treturn [ bestLongtextA, bestLongtextB,\n\t\t\t\t\tbestShorttextA, bestShorttextB, bestCommon\n\t\t\t\t];\n\t\t\t} else {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\n\t\t// First check if the second quarter is the seed for a half-match.\n\t\thm1 = diffHalfMatchI( longtext, shorttext,\n\t\t\tMath.ceil( longtext.length / 4 ) );\n\n\t\t// Check again based on the third quarter.\n\t\thm2 = diffHalfMatchI( longtext, shorttext,\n\t\t\tMath.ceil( longtext.length / 2 ) );\n\t\tif ( !hm1 && !hm2 ) {\n\t\t\treturn null;\n\t\t} else if ( !hm2 ) {\n\t\t\thm = hm1;\n\t\t} else if ( !hm1 ) {\n\t\t\thm = hm2;\n\t\t} else {\n\n\t\t\t// Both matched.  Select the longest.\n\t\t\thm = hm1[ 4 ].length > hm2[ 4 ].length ? hm1 : hm2;\n\t\t}\n\n\t\t// A half-match was found, sort out the return data.\n\t\tif ( text1.length > text2.length ) {\n\t\t\ttext1A = hm[ 0 ];\n\t\t\ttext1B = hm[ 1 ];\n\t\t\ttext2A = hm[ 2 ];\n\t\t\ttext2B = hm[ 3 ];\n\t\t} else {\n\t\t\ttext2A = hm[ 0 ];\n\t\t\ttext2B = hm[ 1 ];\n\t\t\ttext1A = hm[ 2 ];\n\t\t\ttext1B = hm[ 3 ];\n\t\t}\n\t\tmidCommon = hm[ 4 ];\n\t\treturn [ text1A, text1B, text2A, text2B, midCommon ];\n\t};\n\n\t/**\n\t * Do a quick line-level diff on both strings, then rediff the parts for\n\t * greater accuracy.\n\t * This speedup can produce non-minimal diffs.\n\t * @param {string} text1 Old string to be diffed.\n\t * @param {string} text2 New string to be diffed.\n\t * @param {number} deadline Time when the diff should be complete by.\n\t * @return {!Array.<!DiffMatchPatch.Diff>} Array of diff tuples.\n\t * @private\n\t */\n\tDiffMatchPatch.prototype.diffLineMode = function( text1, text2, deadline ) {\n\t\tvar a, diffs, linearray, pointer, countInsert,\n\t\t\tcountDelete, textInsert, textDelete, j;\n\n\t\t// Scan the text on a line-by-line basis first.\n\t\ta = this.diffLinesToChars( text1, text2 );\n\t\ttext1 = a.chars1;\n\t\ttext2 = a.chars2;\n\t\tlinearray = a.lineArray;\n\n\t\tdiffs = this.DiffMain( text1, text2, false, deadline );\n\n\t\t// Convert the diff back to original text.\n\t\tthis.diffCharsToLines( diffs, linearray );\n\n\t\t// Eliminate freak matches (e.g. blank lines)\n\t\tthis.diffCleanupSemantic( diffs );\n\n\t\t// Rediff any replacement blocks, this time character-by-character.\n\t\t// Add a dummy entry at the end.\n\t\tdiffs.push( [ DIFF_EQUAL, \"\" ] );\n\t\tpointer = 0;\n\t\tcountDelete = 0;\n\t\tcountInsert = 0;\n\t\ttextDelete = \"\";\n\t\ttextInsert = \"\";\n\t\twhile ( pointer < diffs.length ) {\n\t\t\tswitch ( diffs[ pointer ][ 0 ] ) {\n\t\t\tcase DIFF_INSERT:\n\t\t\t\tcountInsert++;\n\t\t\t\ttextInsert += diffs[ pointer ][ 1 ];\n\t\t\t\tbreak;\n\t\t\tcase DIFF_DELETE:\n\t\t\t\tcountDelete++;\n\t\t\t\ttextDelete += diffs[ pointer ][ 1 ];\n\t\t\t\tbreak;\n\t\t\tcase DIFF_EQUAL:\n\n\t\t\t\t// Upon reaching an equality, check for prior redundancies.\n\t\t\t\tif ( countDelete >= 1 && countInsert >= 1 ) {\n\n\t\t\t\t\t// Delete the offending records and add the merged ones.\n\t\t\t\t\tdiffs.splice( pointer - countDelete - countInsert,\n\t\t\t\t\t\tcountDelete + countInsert );\n\t\t\t\t\tpointer = pointer - countDelete - countInsert;\n\t\t\t\t\ta = this.DiffMain( textDelete, textInsert, false, deadline );\n\t\t\t\t\tfor ( j = a.length - 1; j >= 0; j-- ) {\n\t\t\t\t\t\tdiffs.splice( pointer, 0, a[ j ] );\n\t\t\t\t\t}\n\t\t\t\t\tpointer = pointer + a.length;\n\t\t\t\t}\n\t\t\t\tcountInsert = 0;\n\t\t\t\tcountDelete = 0;\n\t\t\t\ttextDelete = \"\";\n\t\t\t\ttextInsert = \"\";\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tpointer++;\n\t\t}\n\t\tdiffs.pop(); // Remove the dummy entry at the end.\n\n\t\treturn diffs;\n\t};\n\n\t/**\n\t * Find the 'middle snake' of a diff, split the problem in two\n\t * and return the recursively constructed diff.\n\t * See Myers 1986 paper: An O(ND) Difference Algorithm and Its Variations.\n\t * @param {string} text1 Old string to be diffed.\n\t * @param {string} text2 New string to be diffed.\n\t * @param {number} deadline Time at which to bail if not yet complete.\n\t * @return {!Array.<!DiffMatchPatch.Diff>} Array of diff tuples.\n\t * @private\n\t */\n\tDiffMatchPatch.prototype.diffBisect = function( text1, text2, deadline ) {\n\t\tvar text1Length, text2Length, maxD, vOffset, vLength,\n\t\t\tv1, v2, x, delta, front, k1start, k1end, k2start,\n\t\t\tk2end, k2Offset, k1Offset, x1, x2, y1, y2, d, k1, k2;\n\n\t\t// Cache the text lengths to prevent multiple calls.\n\t\ttext1Length = text1.length;\n\t\ttext2Length = text2.length;\n\t\tmaxD = Math.ceil( ( text1Length + text2Length ) / 2 );\n\t\tvOffset = maxD;\n\t\tvLength = 2 * maxD;\n\t\tv1 = new Array( vLength );\n\t\tv2 = new Array( vLength );\n\n\t\t// Setting all elements to -1 is faster in Chrome & Firefox than mixing\n\t\t// integers and undefined.\n\t\tfor ( x = 0; x < vLength; x++ ) {\n\t\t\tv1[ x ] = -1;\n\t\t\tv2[ x ] = -1;\n\t\t}\n\t\tv1[ vOffset + 1 ] = 0;\n\t\tv2[ vOffset + 1 ] = 0;\n\t\tdelta = text1Length - text2Length;\n\n\t\t// If the total number of characters is odd, then the front path will collide\n\t\t// with the reverse path.\n\t\tfront = ( delta % 2 !== 0 );\n\n\t\t// Offsets for start and end of k loop.\n\t\t// Prevents mapping of space beyond the grid.\n\t\tk1start = 0;\n\t\tk1end = 0;\n\t\tk2start = 0;\n\t\tk2end = 0;\n\t\tfor ( d = 0; d < maxD; d++ ) {\n\n\t\t\t// Bail out if deadline is reached.\n\t\t\tif ( ( new Date() ).getTime() > deadline ) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\t// Walk the front path one step.\n\t\t\tfor ( k1 = -d + k1start; k1 <= d - k1end; k1 += 2 ) {\n\t\t\t\tk1Offset = vOffset + k1;\n\t\t\t\tif ( k1 === -d || ( k1 !== d && v1[ k1Offset - 1 ] < v1[ k1Offset + 1 ] ) ) {\n\t\t\t\t\tx1 = v1[ k1Offset + 1 ];\n\t\t\t\t} else {\n\t\t\t\t\tx1 = v1[ k1Offset - 1 ] + 1;\n\t\t\t\t}\n\t\t\t\ty1 = x1 - k1;\n\t\t\t\twhile ( x1 < text1Length && y1 < text2Length &&\n\t\t\t\t\ttext1.charAt( x1 ) === text2.charAt( y1 ) ) {\n\t\t\t\t\tx1++;\n\t\t\t\t\ty1++;\n\t\t\t\t}\n\t\t\t\tv1[ k1Offset ] = x1;\n\t\t\t\tif ( x1 > text1Length ) {\n\n\t\t\t\t\t// Ran off the right of the graph.\n\t\t\t\t\tk1end += 2;\n\t\t\t\t} else if ( y1 > text2Length ) {\n\n\t\t\t\t\t// Ran off the bottom of the graph.\n\t\t\t\t\tk1start += 2;\n\t\t\t\t} else if ( front ) {\n\t\t\t\t\tk2Offset = vOffset + delta - k1;\n\t\t\t\t\tif ( k2Offset >= 0 && k2Offset < vLength && v2[ k2Offset ] !== -1 ) {\n\n\t\t\t\t\t\t// Mirror x2 onto top-left coordinate system.\n\t\t\t\t\t\tx2 = text1Length - v2[ k2Offset ];\n\t\t\t\t\t\tif ( x1 >= x2 ) {\n\n\t\t\t\t\t\t\t// Overlap detected.\n\t\t\t\t\t\t\treturn this.diffBisectSplit( text1, text2, x1, y1, deadline );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Walk the reverse path one step.\n\t\t\tfor ( k2 = -d + k2start; k2 <= d - k2end; k2 += 2 ) {\n\t\t\t\tk2Offset = vOffset + k2;\n\t\t\t\tif ( k2 === -d || ( k2 !== d && v2[ k2Offset - 1 ] < v2[ k2Offset + 1 ] ) ) {\n\t\t\t\t\tx2 = v2[ k2Offset + 1 ];\n\t\t\t\t} else {\n\t\t\t\t\tx2 = v2[ k2Offset - 1 ] + 1;\n\t\t\t\t}\n\t\t\t\ty2 = x2 - k2;\n\t\t\t\twhile ( x2 < text1Length && y2 < text2Length &&\n\t\t\t\t\ttext1.charAt( text1Length - x2 - 1 ) ===\n\t\t\t\t\ttext2.charAt( text2Length - y2 - 1 ) ) {\n\t\t\t\t\tx2++;\n\t\t\t\t\ty2++;\n\t\t\t\t}\n\t\t\t\tv2[ k2Offset ] = x2;\n\t\t\t\tif ( x2 > text1Length ) {\n\n\t\t\t\t\t// Ran off the left of the graph.\n\t\t\t\t\tk2end += 2;\n\t\t\t\t} else if ( y2 > text2Length ) {\n\n\t\t\t\t\t// Ran off the top of the graph.\n\t\t\t\t\tk2start += 2;\n\t\t\t\t} else if ( !front ) {\n\t\t\t\t\tk1Offset = vOffset + delta - k2;\n\t\t\t\t\tif ( k1Offset >= 0 && k1Offset < vLength && v1[ k1Offset ] !== -1 ) {\n\t\t\t\t\t\tx1 = v1[ k1Offset ];\n\t\t\t\t\t\ty1 = vOffset + x1 - k1Offset;\n\n\t\t\t\t\t\t// Mirror x2 onto top-left coordinate system.\n\t\t\t\t\t\tx2 = text1Length - x2;\n\t\t\t\t\t\tif ( x1 >= x2 ) {\n\n\t\t\t\t\t\t\t// Overlap detected.\n\t\t\t\t\t\t\treturn this.diffBisectSplit( text1, text2, x1, y1, deadline );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Diff took too long and hit the deadline or\n\t\t// number of diffs equals number of characters, no commonality at all.\n\t\treturn [\n\t\t\t[ DIFF_DELETE, text1 ],\n\t\t\t[ DIFF_INSERT, text2 ]\n\t\t];\n\t};\n\n\t/**\n\t * Given the location of the 'middle snake', split the diff in two parts\n\t * and recurse.\n\t * @param {string} text1 Old string to be diffed.\n\t * @param {string} text2 New string to be diffed.\n\t * @param {number} x Index of split point in text1.\n\t * @param {number} y Index of split point in text2.\n\t * @param {number} deadline Time at which to bail if not yet complete.\n\t * @return {!Array.<!DiffMatchPatch.Diff>} Array of diff tuples.\n\t * @private\n\t */\n\tDiffMatchPatch.prototype.diffBisectSplit = function( text1, text2, x, y, deadline ) {\n\t\tvar text1a, text1b, text2a, text2b, diffs, diffsb;\n\t\ttext1a = text1.substring( 0, x );\n\t\ttext2a = text2.substring( 0, y );\n\t\ttext1b = text1.substring( x );\n\t\ttext2b = text2.substring( y );\n\n\t\t// Compute both diffs serially.\n\t\tdiffs = this.DiffMain( text1a, text2a, false, deadline );\n\t\tdiffsb = this.DiffMain( text1b, text2b, false, deadline );\n\n\t\treturn diffs.concat( diffsb );\n\t};\n\n\t/**\n\t * Reduce the number of edits by eliminating semantically trivial equalities.\n\t * @param {!Array.<!DiffMatchPatch.Diff>} diffs Array of diff tuples.\n\t */\n\tDiffMatchPatch.prototype.diffCleanupSemantic = function( diffs ) {\n\t\tvar changes, equalities, equalitiesLength, lastequality,\n\t\t\tpointer, lengthInsertions2, lengthDeletions2, lengthInsertions1,\n\t\t\tlengthDeletions1, deletion, insertion, overlapLength1, overlapLength2;\n\t\tchanges = false;\n\t\tequalities = []; // Stack of indices where equalities are found.\n\t\tequalitiesLength = 0; // Keeping our own length var is faster in JS.\n\t\t/** @type {?string} */\n\t\tlastequality = null;\n\n\t\t// Always equal to diffs[equalities[equalitiesLength - 1]][1]\n\t\tpointer = 0; // Index of current position.\n\n\t\t// Number of characters that changed prior to the equality.\n\t\tlengthInsertions1 = 0;\n\t\tlengthDeletions1 = 0;\n\n\t\t// Number of characters that changed after the equality.\n\t\tlengthInsertions2 = 0;\n\t\tlengthDeletions2 = 0;\n\t\twhile ( pointer < diffs.length ) {\n\t\t\tif ( diffs[ pointer ][ 0 ] === DIFF_EQUAL ) { // Equality found.\n\t\t\t\tequalities[ equalitiesLength++ ] = pointer;\n\t\t\t\tlengthInsertions1 = lengthInsertions2;\n\t\t\t\tlengthDeletions1 = lengthDeletions2;\n\t\t\t\tlengthInsertions2 = 0;\n\t\t\t\tlengthDeletions2 = 0;\n\t\t\t\tlastequality = diffs[ pointer ][ 1 ];\n\t\t\t} else { // An insertion or deletion.\n\t\t\t\tif ( diffs[ pointer ][ 0 ] === DIFF_INSERT ) {\n\t\t\t\t\tlengthInsertions2 += diffs[ pointer ][ 1 ].length;\n\t\t\t\t} else {\n\t\t\t\t\tlengthDeletions2 += diffs[ pointer ][ 1 ].length;\n\t\t\t\t}\n\n\t\t\t\t// Eliminate an equality that is smaller or equal to the edits on both\n\t\t\t\t// sides of it.\n\t\t\t\tif ( lastequality && ( lastequality.length <=\n\t\t\t\t\t\tMath.max( lengthInsertions1, lengthDeletions1 ) ) &&\n\t\t\t\t\t\t( lastequality.length <= Math.max( lengthInsertions2,\n\t\t\t\t\t\t\tlengthDeletions2 ) ) ) {\n\n\t\t\t\t\t// Duplicate record.\n\t\t\t\t\tdiffs.splice(\n\t\t\t\t\t\tequalities[ equalitiesLength - 1 ],\n\t\t\t\t\t\t0,\n\t\t\t\t\t\t[ DIFF_DELETE, lastequality ]\n\t\t\t\t\t);\n\n\t\t\t\t\t// Change second copy to insert.\n\t\t\t\t\tdiffs[ equalities[ equalitiesLength - 1 ] + 1 ][ 0 ] = DIFF_INSERT;\n\n\t\t\t\t\t// Throw away the equality we just deleted.\n\t\t\t\t\tequalitiesLength--;\n\n\t\t\t\t\t// Throw away the previous equality (it needs to be reevaluated).\n\t\t\t\t\tequalitiesLength--;\n\t\t\t\t\tpointer = equalitiesLength > 0 ? equalities[ equalitiesLength - 1 ] : -1;\n\n\t\t\t\t\t// Reset the counters.\n\t\t\t\t\tlengthInsertions1 = 0;\n\t\t\t\t\tlengthDeletions1 = 0;\n\t\t\t\t\tlengthInsertions2 = 0;\n\t\t\t\t\tlengthDeletions2 = 0;\n\t\t\t\t\tlastequality = null;\n\t\t\t\t\tchanges = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tpointer++;\n\t\t}\n\n\t\t// Normalize the diff.\n\t\tif ( changes ) {\n\t\t\tthis.diffCleanupMerge( diffs );\n\t\t}\n\n\t\t// Find any overlaps between deletions and insertions.\n\t\t// e.g: <del>abcxxx</del><ins>xxxdef</ins>\n\t\t//   -> <del>abc</del>xxx<ins>def</ins>\n\t\t// e.g: <del>xxxabc</del><ins>defxxx</ins>\n\t\t//   -> <ins>def</ins>xxx<del>abc</del>\n\t\t// Only extract an overlap if it is as big as the edit ahead or behind it.\n\t\tpointer = 1;\n\t\twhile ( pointer < diffs.length ) {\n\t\t\tif ( diffs[ pointer - 1 ][ 0 ] === DIFF_DELETE &&\n\t\t\t\t\tdiffs[ pointer ][ 0 ] === DIFF_INSERT ) {\n\t\t\t\tdeletion = diffs[ pointer - 1 ][ 1 ];\n\t\t\t\tinsertion = diffs[ pointer ][ 1 ];\n\t\t\t\toverlapLength1 = this.diffCommonOverlap( deletion, insertion );\n\t\t\t\toverlapLength2 = this.diffCommonOverlap( insertion, deletion );\n\t\t\t\tif ( overlapLength1 >= overlapLength2 ) {\n\t\t\t\t\tif ( overlapLength1 >= deletion.length / 2 ||\n\t\t\t\t\t\t\toverlapLength1 >= insertion.length / 2 ) {\n\n\t\t\t\t\t\t// Overlap found.  Insert an equality and trim the surrounding edits.\n\t\t\t\t\t\tdiffs.splice(\n\t\t\t\t\t\t\tpointer,\n\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t[ DIFF_EQUAL, insertion.substring( 0, overlapLength1 ) ]\n\t\t\t\t\t\t);\n\t\t\t\t\t\tdiffs[ pointer - 1 ][ 1 ] =\n\t\t\t\t\t\t\tdeletion.substring( 0, deletion.length - overlapLength1 );\n\t\t\t\t\t\tdiffs[ pointer + 1 ][ 1 ] = insertion.substring( overlapLength1 );\n\t\t\t\t\t\tpointer++;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif ( overlapLength2 >= deletion.length / 2 ||\n\t\t\t\t\t\t\toverlapLength2 >= insertion.length / 2 ) {\n\n\t\t\t\t\t\t// Reverse overlap found.\n\t\t\t\t\t\t// Insert an equality and swap and trim the surrounding edits.\n\t\t\t\t\t\tdiffs.splice(\n\t\t\t\t\t\t\tpointer,\n\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t[ DIFF_EQUAL, deletion.substring( 0, overlapLength2 ) ]\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tdiffs[ pointer - 1 ][ 0 ] = DIFF_INSERT;\n\t\t\t\t\t\tdiffs[ pointer - 1 ][ 1 ] =\n\t\t\t\t\t\t\tinsertion.substring( 0, insertion.length - overlapLength2 );\n\t\t\t\t\t\tdiffs[ pointer + 1 ][ 0 ] = DIFF_DELETE;\n\t\t\t\t\t\tdiffs[ pointer + 1 ][ 1 ] =\n\t\t\t\t\t\t\tdeletion.substring( overlapLength2 );\n\t\t\t\t\t\tpointer++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tpointer++;\n\t\t\t}\n\t\t\tpointer++;\n\t\t}\n\t};\n\n\t/**\n\t * Determine if the suffix of one string is the prefix of another.\n\t * @param {string} text1 First string.\n\t * @param {string} text2 Second string.\n\t * @return {number} The number of characters common to the end of the first\n\t *     string and the start of the second string.\n\t * @private\n\t */\n\tDiffMatchPatch.prototype.diffCommonOverlap = function( text1, text2 ) {\n\t\tvar text1Length, text2Length, textLength,\n\t\t\tbest, length, pattern, found;\n\n\t\t// Cache the text lengths to prevent multiple calls.\n\t\ttext1Length = text1.length;\n\t\ttext2Length = text2.length;\n\n\t\t// Eliminate the null case.\n\t\tif ( text1Length === 0 || text2Length === 0 ) {\n\t\t\treturn 0;\n\t\t}\n\n\t\t// Truncate the longer string.\n\t\tif ( text1Length > text2Length ) {\n\t\t\ttext1 = text1.substring( text1Length - text2Length );\n\t\t} else if ( text1Length < text2Length ) {\n\t\t\ttext2 = text2.substring( 0, text1Length );\n\t\t}\n\t\ttextLength = Math.min( text1Length, text2Length );\n\n\t\t// Quick check for the worst case.\n\t\tif ( text1 === text2 ) {\n\t\t\treturn textLength;\n\t\t}\n\n\t\t// Start by looking for a single character match\n\t\t// and increase length until no match is found.\n\t\t// Performance analysis: https://neil.fraser.name/news/2010/11/04/\n\t\tbest = 0;\n\t\tlength = 1;\n\t\twhile ( true ) {\n\t\t\tpattern = text1.substring( textLength - length );\n\t\t\tfound = text2.indexOf( pattern );\n\t\t\tif ( found === -1 ) {\n\t\t\t\treturn best;\n\t\t\t}\n\t\t\tlength += found;\n\t\t\tif ( found === 0 || text1.substring( textLength - length ) ===\n\t\t\t\t\ttext2.substring( 0, length ) ) {\n\t\t\t\tbest = length;\n\t\t\t\tlength++;\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * Split two texts into an array of strings.  Reduce the texts to a string of\n\t * hashes where each Unicode character represents one line.\n\t * @param {string} text1 First string.\n\t * @param {string} text2 Second string.\n\t * @return {{chars1: string, chars2: string, lineArray: !Array.<string>}}\n\t *     An object containing the encoded text1, the encoded text2 and\n\t *     the array of unique strings.\n\t *     The zeroth element of the array of unique strings is intentionally blank.\n\t * @private\n\t */\n\tDiffMatchPatch.prototype.diffLinesToChars = function( text1, text2 ) {\n\t\tvar lineArray, lineHash, chars1, chars2;\n\t\tlineArray = []; // E.g. lineArray[4] === 'Hello\\n'\n\t\tlineHash = {};  // E.g. lineHash['Hello\\n'] === 4\n\n\t\t// '\\x00' is a valid character, but various debuggers don't like it.\n\t\t// So we'll insert a junk entry to avoid generating a null character.\n\t\tlineArray[ 0 ] = \"\";\n\n\t\t/**\n\t\t * Split a text into an array of strings.  Reduce the texts to a string of\n\t\t * hashes where each Unicode character represents one line.\n\t\t * Modifies linearray and linehash through being a closure.\n\t\t * @param {string} text String to encode.\n\t\t * @return {string} Encoded string.\n\t\t * @private\n\t\t */\n\t\tfunction diffLinesToCharsMunge( text ) {\n\t\t\tvar chars, lineStart, lineEnd, lineArrayLength, line;\n\t\t\tchars = \"\";\n\n\t\t\t// Walk the text, pulling out a substring for each line.\n\t\t\t// text.split('\\n') would would temporarily double our memory footprint.\n\t\t\t// Modifying text would create many large strings to garbage collect.\n\t\t\tlineStart = 0;\n\t\t\tlineEnd = -1;\n\n\t\t\t// Keeping our own length variable is faster than looking it up.\n\t\t\tlineArrayLength = lineArray.length;\n\t\t\twhile ( lineEnd < text.length - 1 ) {\n\t\t\t\tlineEnd = text.indexOf( \"\\n\", lineStart );\n\t\t\t\tif ( lineEnd === -1 ) {\n\t\t\t\t\tlineEnd = text.length - 1;\n\t\t\t\t}\n\t\t\t\tline = text.substring( lineStart, lineEnd + 1 );\n\t\t\t\tlineStart = lineEnd + 1;\n\n\t\t\t\tif ( hasOwn.call( lineHash, line ) ) {\n\t\t\t\t\tchars += String.fromCharCode( lineHash[ line ] );\n\t\t\t\t} else {\n\t\t\t\t\tchars += String.fromCharCode( lineArrayLength );\n\t\t\t\t\tlineHash[ line ] = lineArrayLength;\n\t\t\t\t\tlineArray[ lineArrayLength++ ] = line;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn chars;\n\t\t}\n\n\t\tchars1 = diffLinesToCharsMunge( text1 );\n\t\tchars2 = diffLinesToCharsMunge( text2 );\n\t\treturn {\n\t\t\tchars1: chars1,\n\t\t\tchars2: chars2,\n\t\t\tlineArray: lineArray\n\t\t};\n\t};\n\n\t/**\n\t * Rehydrate the text in a diff from a string of line hashes to real lines of\n\t * text.\n\t * @param {!Array.<!DiffMatchPatch.Diff>} diffs Array of diff tuples.\n\t * @param {!Array.<string>} lineArray Array of unique strings.\n\t * @private\n\t */\n\tDiffMatchPatch.prototype.diffCharsToLines = function( diffs, lineArray ) {\n\t\tvar x, chars, text, y;\n\t\tfor ( x = 0; x < diffs.length; x++ ) {\n\t\t\tchars = diffs[ x ][ 1 ];\n\t\t\ttext = [];\n\t\t\tfor ( y = 0; y < chars.length; y++ ) {\n\t\t\t\ttext[ y ] = lineArray[ chars.charCodeAt( y ) ];\n\t\t\t}\n\t\t\tdiffs[ x ][ 1 ] = text.join( \"\" );\n\t\t}\n\t};\n\n\t/**\n\t * Reorder and merge like edit sections.  Merge equalities.\n\t * Any edit section can move as long as it doesn't cross an equality.\n\t * @param {!Array.<!DiffMatchPatch.Diff>} diffs Array of diff tuples.\n\t */\n\tDiffMatchPatch.prototype.diffCleanupMerge = function( diffs ) {\n\t\tvar pointer, countDelete, countInsert, textInsert, textDelete,\n\t\t\tcommonlength, changes, diffPointer, position;\n\t\tdiffs.push( [ DIFF_EQUAL, \"\" ] ); // Add a dummy entry at the end.\n\t\tpointer = 0;\n\t\tcountDelete = 0;\n\t\tcountInsert = 0;\n\t\ttextDelete = \"\";\n\t\ttextInsert = \"\";\n\n\t\twhile ( pointer < diffs.length ) {\n\t\t\tswitch ( diffs[ pointer ][ 0 ] ) {\n\t\t\tcase DIFF_INSERT:\n\t\t\t\tcountInsert++;\n\t\t\t\ttextInsert += diffs[ pointer ][ 1 ];\n\t\t\t\tpointer++;\n\t\t\t\tbreak;\n\t\t\tcase DIFF_DELETE:\n\t\t\t\tcountDelete++;\n\t\t\t\ttextDelete += diffs[ pointer ][ 1 ];\n\t\t\t\tpointer++;\n\t\t\t\tbreak;\n\t\t\tcase DIFF_EQUAL:\n\n\t\t\t\t// Upon reaching an equality, check for prior redundancies.\n\t\t\t\tif ( countDelete + countInsert > 1 ) {\n\t\t\t\t\tif ( countDelete !== 0 && countInsert !== 0 ) {\n\n\t\t\t\t\t\t// Factor out any common prefixes.\n\t\t\t\t\t\tcommonlength = this.diffCommonPrefix( textInsert, textDelete );\n\t\t\t\t\t\tif ( commonlength !== 0 ) {\n\t\t\t\t\t\t\tif ( ( pointer - countDelete - countInsert ) > 0 &&\n\t\t\t\t\t\t\t\t\tdiffs[ pointer - countDelete - countInsert - 1 ][ 0 ] ===\n\t\t\t\t\t\t\t\t\tDIFF_EQUAL ) {\n\t\t\t\t\t\t\t\tdiffs[ pointer - countDelete - countInsert - 1 ][ 1 ] +=\n\t\t\t\t\t\t\t\t\ttextInsert.substring( 0, commonlength );\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tdiffs.splice( 0, 0, [ DIFF_EQUAL,\n\t\t\t\t\t\t\t\t\ttextInsert.substring( 0, commonlength )\n\t\t\t\t\t\t\t\t] );\n\t\t\t\t\t\t\t\tpointer++;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\ttextInsert = textInsert.substring( commonlength );\n\t\t\t\t\t\t\ttextDelete = textDelete.substring( commonlength );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Factor out any common suffixies.\n\t\t\t\t\t\tcommonlength = this.diffCommonSuffix( textInsert, textDelete );\n\t\t\t\t\t\tif ( commonlength !== 0 ) {\n\t\t\t\t\t\t\tdiffs[ pointer ][ 1 ] = textInsert.substring( textInsert.length -\n\t\t\t\t\t\t\t\t\tcommonlength ) + diffs[ pointer ][ 1 ];\n\t\t\t\t\t\t\ttextInsert = textInsert.substring( 0, textInsert.length -\n\t\t\t\t\t\t\t\tcommonlength );\n\t\t\t\t\t\t\ttextDelete = textDelete.substring( 0, textDelete.length -\n\t\t\t\t\t\t\t\tcommonlength );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Delete the offending records and add the merged ones.\n\t\t\t\t\tif ( countDelete === 0 ) {\n\t\t\t\t\t\tdiffs.splice( pointer - countInsert,\n\t\t\t\t\t\t\tcountDelete + countInsert, [ DIFF_INSERT, textInsert ] );\n\t\t\t\t\t} else if ( countInsert === 0 ) {\n\t\t\t\t\t\tdiffs.splice( pointer - countDelete,\n\t\t\t\t\t\t\tcountDelete + countInsert, [ DIFF_DELETE, textDelete ] );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdiffs.splice(\n\t\t\t\t\t\t\tpointer - countDelete - countInsert,\n\t\t\t\t\t\t\tcountDelete + countInsert,\n\t\t\t\t\t\t\t[ DIFF_DELETE, textDelete ], [ DIFF_INSERT, textInsert ]\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\tpointer = pointer - countDelete - countInsert +\n\t\t\t\t\t\t( countDelete ? 1 : 0 ) + ( countInsert ? 1 : 0 ) + 1;\n\t\t\t\t} else if ( pointer !== 0 && diffs[ pointer - 1 ][ 0 ] === DIFF_EQUAL ) {\n\n\t\t\t\t\t// Merge this equality with the previous one.\n\t\t\t\t\tdiffs[ pointer - 1 ][ 1 ] += diffs[ pointer ][ 1 ];\n\t\t\t\t\tdiffs.splice( pointer, 1 );\n\t\t\t\t} else {\n\t\t\t\t\tpointer++;\n\t\t\t\t}\n\t\t\t\tcountInsert = 0;\n\t\t\t\tcountDelete = 0;\n\t\t\t\ttextDelete = \"\";\n\t\t\t\ttextInsert = \"\";\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif ( diffs[ diffs.length - 1 ][ 1 ] === \"\" ) {\n\t\t\tdiffs.pop(); // Remove the dummy entry at the end.\n\t\t}\n\n\t\t// Second pass: look for single edits surrounded on both sides by equalities\n\t\t// which can be shifted sideways to eliminate an equality.\n\t\t// e.g: A<ins>BA</ins>C -> <ins>AB</ins>AC\n\t\tchanges = false;\n\t\tpointer = 1;\n\n\t\t// Intentionally ignore the first and last element (don't need checking).\n\t\twhile ( pointer < diffs.length - 1 ) {\n\t\t\tif ( diffs[ pointer - 1 ][ 0 ] === DIFF_EQUAL &&\n\t\t\t\t\tdiffs[ pointer + 1 ][ 0 ] === DIFF_EQUAL ) {\n\n\t\t\t\tdiffPointer = diffs[ pointer ][ 1 ];\n\t\t\t\tposition = diffPointer.substring(\n\t\t\t\t\tdiffPointer.length - diffs[ pointer - 1 ][ 1 ].length\n\t\t\t\t);\n\n\t\t\t\t// This is a single edit surrounded by equalities.\n\t\t\t\tif ( position === diffs[ pointer - 1 ][ 1 ] ) {\n\n\t\t\t\t\t// Shift the edit over the previous equality.\n\t\t\t\t\tdiffs[ pointer ][ 1 ] = diffs[ pointer - 1 ][ 1 ] +\n\t\t\t\t\t\tdiffs[ pointer ][ 1 ].substring( 0, diffs[ pointer ][ 1 ].length -\n\t\t\t\t\t\t\tdiffs[ pointer - 1 ][ 1 ].length );\n\t\t\t\t\tdiffs[ pointer + 1 ][ 1 ] =\n\t\t\t\t\t\tdiffs[ pointer - 1 ][ 1 ] + diffs[ pointer + 1 ][ 1 ];\n\t\t\t\t\tdiffs.splice( pointer - 1, 1 );\n\t\t\t\t\tchanges = true;\n\t\t\t\t} else if ( diffPointer.substring( 0, diffs[ pointer + 1 ][ 1 ].length ) ===\n\t\t\t\t\t\tdiffs[ pointer + 1 ][ 1 ] ) {\n\n\t\t\t\t\t// Shift the edit over the next equality.\n\t\t\t\t\tdiffs[ pointer - 1 ][ 1 ] += diffs[ pointer + 1 ][ 1 ];\n\t\t\t\t\tdiffs[ pointer ][ 1 ] =\n\t\t\t\t\t\tdiffs[ pointer ][ 1 ].substring( diffs[ pointer + 1 ][ 1 ].length ) +\n\t\t\t\t\t\tdiffs[ pointer + 1 ][ 1 ];\n\t\t\t\t\tdiffs.splice( pointer + 1, 1 );\n\t\t\t\t\tchanges = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tpointer++;\n\t\t}\n\n\t\t// If shifts were made, the diff needs reordering and another shift sweep.\n\t\tif ( changes ) {\n\t\t\tthis.diffCleanupMerge( diffs );\n\t\t}\n\t};\n\n\treturn function( o, n ) {\n\t\tvar diff, output, text;\n\t\tdiff = new DiffMatchPatch();\n\t\toutput = diff.DiffMain( o, n );\n\t\tdiff.diffCleanupEfficiency( output );\n\t\ttext = diff.diffPrettyHtml( output );\n\n\t\treturn text;\n\t};\n}() );\n"],"names":["window","global","self","console","setTimeout","clearTimeout","document","navigator","localSessionStorage","x","sessionStorage","setItem","removeItem","e","undefined","Map","StringMap","store","Object","create","get","strKey","set","val","clear","consoleProxy","method","warn","toString","prototype","hasOwn","hasOwnProperty","now","Date","getTime","hasPerformanceApi","detectPerformanceApi","performance","performanceNow","bind","mark","measure","comment","startMark","endMark","ex","Logger","message","defined","diff","a","b","i","j","result","slice","length","splice","inArray","elem","array","indexOf","objectValues","obj","key","vals","is","call","extend","undefOnly","prop","objectType","match","type","isNaN","toLowerCase","generateHash","module","testName","str","hash","charCodeAt","hex","pairs","getProto","getPrototypeOf","__proto__","useStrictEquality","valueOf","compareConstructors","protoA","protoB","constructor","getRegExpFlags","regexp","flags","isContainer","breadthFirstCompareChild","typeEquiv","every","pair","push","callbacks","source","len","innerEq","outerEq","size","forEach","aVal","bVal","parentPairs","innerEquiv","aKey","bKey","aProperties","bProperties","sort","arguments","apply","config","queue","blocking","reorder","altertitle","collapse","scrolltop","maxDepth","requireExpects","urlConfig","modules","currentModule","name","tests","childModules","testsRun","unskippedTestsRun","hooks","before","beforeEach","afterEach","after","storage","globalConfig","QUnit","version","quote","replace","literal","o","join","pre","arr","post","s","dump","separator","base","indent","inner","stack","ret","Array","depth","up","parse","down","isArray","item","reName","objType","res","parser","parserType","objIndex","typeOf","parsers","pop","error","setInterval","nodeType","Error","multiline","HTML","extra","chr","indentChar","setParser","unknown","fn","exec","nodelist","object","map","keys","nonEnumerableProperties","node","open","close","tag","nodeName","attrs","attributes","nodeValue","functionArgs","args","l","String","fromCharCode","functionCode","attribute","string","date","number","symbol","sym","SuiteReport","parentSuite","fullName","concat","childSuites","pushChildSuite","recordTime","_startTime","suiteLevel","test","start","suite","testCounts","total","getTestCounts","_endTime","suiteName","end","runtime","getRuntime","status","getStatus","counts","passed","failed","skipped","todo","reduce","valid","focused","moduleStack","isParentModuleInQueue","modulesInQueue","moduleId","some","includes","createModule","testEnvironment","modifiers","parentModule","moduleName","suiteReport","globalSuite","skip","env","processModule","options","executeNow","setHookFromEnvironment","moduleFns","setHookFunction","environment","potentialHook","hookName","setHook","callback","only","LISTENERS","SUPPORTED_EVENTS","emit","eventName","data","TypeError","originalCallbacks","on","events","Promise","_Promise","registerLoggingCallbacks","callbackNames","registerLoggingCallback","loggingCallback","runLoggingCallbacks","promiseChain","then","resolve","fileName","sourceFromStacktrace","extractStacktrace","offset","include","split","shift","err","priorityCount","unitSampler","taskQueue","advance","advanceTaskQueue","current","advanceTestQueue","processTaskQueue","elapsedTime","updateRate","task","done","testTasks","addToTaskQueue","tasksArray","taskQueueLength","addToTestQueue","testTasksFunc","prioritize","seed","unitSamplerGenerator","index","Math","floor","sample","parseInt","ProcessingQueue","finished","started","stats","all","bad","testCount","filter","testId","add","taskCount","TestReport","assertions","pushTest","errors","getFailedAssertions","getAssertions","assertion","testPassed","actual","expected","Test","settings","count","semaphore","steps","timeout","errorForStack","testReport","async","assert","Assert","getNotStartedModules","startModule","reverse","notStartedModules","callbackPromises","previousFailure","pollution","saveGlobal","run","promise","callbackStarted","notrycatch","runTest","pushFailure","internalRecover","resolvePromise","checkPollution","queueHook","hook","hookOwner","callHook","runHook","preserveEnvironment","numberOfUnskippedTests","handler","processHooks","finish","stepsList","notifyTestsRan","slimAssertions","numberOfTests","completedModules","parent","completedModule","logSuiteEnd","preserveTestEnvironment","previousFailCount","getItem","pushResult","resultInfo","details","negative","logAssertion","pushAssertion","phase","resume","internalStop","regexFilter","moduleChainNameMatch","testModule","testModuleName","moduleChainIdMatch","validTest","stringFilter","exclude","pattern","regex","RegExp","charAt","currentTest","noglobals","newGlobals","deletedGlobals","old","newTest","resetTestTimeout","timeoutDuration","timeoutHandler","released","testTimeout","internalStart","begin","collectTests","nextModule","testContext","duration","assertionMessage","actualStepsClone","deepEqual","asserts","popped","acceptCallCount","currentAssert","equiv","block","ignoreGlobalErrors","expectedType","errorString","handleFulfillment","handleRejection","raises","resultErrorString","substring","exportQUnit","exports","define","amd","autostart","WorkerGlobalScope","onError","stacktrace","lineNumber","onUnhandledRejection","reason","globalStartCalled","runStarted","isLocal","location","protocol","globalStartAlreadyCalled","pageLoaded","load","scheduleBegin","unblockAndAdvanceQueue","modulesLog","totalTests","storeFixture","fixture","getElementById","cloneNode","resetFixture","resetFixtureType","newFixture","createElement","setAttribute","innerHTML","parentNode","replaceChild","clonedFixture","testStart","urlParams","getUrlParams","random","id","label","tooltip","option","param","value","params","search","decodeQueryParam","decodeURIComponent","root","UMD","fuzzysort","this","fuzzysortNew","instanceOptions","single","target","isObj","getPreparedSearch","getPrepared","allowTypo","algorithm","algorithmNoTypo","go","targets","noResults","prepareSearch","searchLowerCode","threshold","limit","resultsLen","limitedCount","targetsLen","scoreFn","defaultScoreFn","keysLen","objResults","keyI","getValue","score","q","peek","replaceTop","_targetLowerCodes","_nextBeginningIndexes","indexes","results","poll","goAsync","canceled","p","reject","fastpriorityqueue","iCurrent","step","startMs","isNode","setImmediate","cancel","highlight","hOpen","hClose","highlighted","matchesIndex","opened","targetLen","matchesBest","char","substr","prepare","prepareLowerCodes","prepareSlow","prepareNextBeginningIndexes","targetPrepared","preparedCache","searchPrepared","preparedSearchCache","searchLowerCodes","prepared","targetLowerCodes","searchLen","searchI","targetI","typoSimpleI","matchesSimpleLen","isMatch","matchesSimple","searchLowerCodeNew","typoStrictI","successStrict","matchesStrictLen","nextBeginningIndexes","firstPossibleI","lastMatch","matchesStrict","matchesBestLen","lastTargetI","strLen","lowerCodes","lower","prepareBeginningIndexes","beginningIndexes","beginningIndexesLen","wasUpper","wasAlphanum","targetCode","isUpper","isAlphanum","isBeginning","lastIsBeginning","lastIsBeginningI","cleanup","new","require","max","tmp","segs","r","n","c","f","passedTests","failedTests","skippedTests","todoTests","escapeText","hiddenTests","collapseNext","unfilteredUrl","setUrl","modulesList","addEvent","addEventListener","removeEvent","removeEventListener","addEvents","elems","hasClass","className","addClass","toggleClass","force","removeClass","trim","abortTests","abortButton","disabled","interceptNavigation","ev","applyUrlParams","preventDefault","getUrlConfigHtml","escaped","escapedTooltip","selection","urlConfigHtml","toolbarChanged","updatedUrl","field","selectedIndex","checked","defaultValue","history","children","classNameHasPass","classNameHasSkipped","hiddenTest","removeChild","appendChild","replaceState","arrValue","querystring","encodeURIComponent","host","pathname","selectedModules","getElementsByTagName","toolbarUrlConfigContainer","urlConfigContainer","abortTestsButton","button","toolbarLooseFilter","input","createTextNode","moduleListHtml","html","toolbarModuleFilter","commit","reset","moduleFilter","moduleSearch","dropDown","actions","applyButton","resetButton","allModulesLabel","allCheckbox","dropDownList","dirty","autocomplete","searchInput","searchFocus","namePrepared","textContent","style","display","firstChild","nextSibling","selectionChange","hideHandler","inContainer","contains","keyCode","focus","filterModules","searchText","searchInputTimeout","filteredModules","evt","checkbox","selectedNames","defaultChecked","placeholder","title","toolbarFilters","appendToolbar","toolbar","appendHeader","header","appendBanner","banner","appendTestResults","controls","insertBefore","appendFilteredTest","appendUserAgent","userAgent","appendInterface","qunit","appendTest","rerunTrigger","testBlock","assertList","getNameHtml","href","moduleObj","localeCompare","assertLi","scrollTo","nameHtml","getProgressHtml","completed","running","stripHtml","log","showDiff","testItem","testDone","testTitle","time","good","sourceName","todoLabel","hidepassed","notPhantom","major","phantom","readyState","originalWindowOnError","onerror","columnNumber","errorObj","event","DiffMatchPatch","DIFF_DELETE","DIFF_INSERT","DIFF_EQUAL","DiffMain","text1","text2","optChecklines","deadline","checklines","commonlength","commonprefix","commonsuffix","diffs","diffCommonPrefix","diffCommonSuffix","diffCompute","unshift","diffCleanupMerge","diffCleanupEfficiency","changes","equalities","equalitiesLength","lastequality","pointer","preIns","preDel","postIns","postDel","diffPrettyHtml","op","pointermid","pointermax","pointermin","pointerstart","min","pointerend","longtext","shorttext","hm","text1A","text2A","text1B","text2B","midCommon","diffsA","diffsB","diffHalfMatch","diffLineMode","diffBisect","dmp","hm1","hm2","diffHalfMatchI","bestCommon","prefixLength","suffixLength","bestLongtextA","bestLongtextB","bestShorttextA","bestShorttextB","ceil","linearray","countInsert","countDelete","textInsert","textDelete","diffLinesToChars","chars1","chars2","lineArray","diffCharsToLines","diffCleanupSemantic","text1Length","text2Length","maxD","vOffset","vLength","v1","v2","delta","front","k1start","k1end","k2start","k2end","k2Offset","k1Offset","x1","x2","y1","y2","d","k1","k2","diffBisectSplit","y","text1a","text1b","text2a","text2b","diffsb","lengthInsertions2","lengthDeletions2","lengthInsertions1","lengthDeletions1","deletion","insertion","overlapLength1","overlapLength2","diffCommonOverlap","textLength","best","found","lineHash","diffLinesToCharsMunge","text","chars","lineStart","lineEnd","lineArrayLength","line","diffPointer","position","output"],"mappings":"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"}