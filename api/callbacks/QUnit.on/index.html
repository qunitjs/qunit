<!DOCTYPE html>
<html lang="en">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="icon" href="/favicon.svg">
<link rel="stylesheet" href="/assets/styles.css?v=7f81612b" media="screen">
<link rel="alternate" type="application/rss+xml" href="/feed.xml" title="QUnit">
<title>QUnit.on() | QUnit</title><meta property="og:site_name" content="QUnit"><meta property="og:title" content="QUnit.on()"><meta name="description" content="Register an event listener callback."><meta property="og:description" content="Register an event listener callback."><link rel="me" href="https://fosstodon.org/@qunit">
<body>
    <header class="site-header" role="banner">
        <div class="site-header-wrapper wrapper">
            <a class="site-logo" href="/"><img src="/img/logo-with-colored-text.svg" alt="QUnit" width="250" height="72"></a><typesense-minibar data-origin="https://typesense.jquery.com" data-collection="qunitjs_com" data-key="Zh8mMgohXECel9wjPwqT7lekLSG3OCgz" data-foot="true">
<form role="search" action="https://duckduckgo.com">
    <input type="search" name="q" aria-label="Search" placeholder="Search..." autocomplete="off">
    <input type="hidden" name="sites" value="qunitjs.com">
</form>
</typesense-minibar>
<nav class="site-nav"><ul class="site-nav-list"><li class="site-nav-item has-sub-list"><span class="site-nav-link has-sub-list" tabindex="0">Guides</span>
                        <ul class="site-nav-sub-list"><li><a class="site-sub-nav-link" href="/intro/">Getting Started</a></li><li><a class="site-sub-nav-link" href="/intro/#download">Download</a></li><li><a class="site-sub-nav-link" href="/browser/">Browser Runner</a></li><li><a class="site-sub-nav-link" href="/cli/">Command-line Interface</a></li><li><a class="site-sub-nav-link" href="/intro/#compatibility">Compatibility</a></li><li><a class="site-sub-nav-link" href="/lifecycle/">Test lifecycle</a></li><li><a class="site-sub-nav-link" href="/upgrade-guide-2.x/">QUnit 2.0 Upgrade Guide</a></li></ul></li><li class="site-nav-item"><a class="site-nav-link" href="/api/">Documentation</a></li><li class="site-nav-item"><a class="site-nav-link" href="/blog/">Blog</a></li><li class="site-nav-item has-sub-list"><span class="site-nav-link has-sub-list" tabindex="0">Community</span>
                        <ul class="site-nav-sub-list"><li><a class="site-sub-nav-link" href="/intro/#support">Support &amp; Chat</a></li><li><a class="site-sub-nav-link" href="/plugins/">Plugins</a></li><li><a class="site-sub-nav-link" href="/projects/">Who&#39;s using QUnit?</a></li><li><a class="site-sub-nav-link" href="/about/">About QUnit</a></li><li><a class="site-sub-nav-link" href="/badge/">Badge</a></li><li><a class="site-sub-nav-link" href="/brand/">Brand Guidelines</a></li></ul></li></ul></nav>
            <div class="site-toggles">
                <button class="search-toggle toggle" aria-expanded="false">
                    <span class="screen-reader-text">Search</span>
                    <svg class="icon aa-input-icon" aria-hidden="true" viewBox="654 -372 1664 1664" height="20">
                        <path d="M1806,332c0-123.3-43.8-228.8-131.5-316.5C1586.8-72.2,1481.3-116,1358-116s-228.8,43.8-316.5,131.5  C953.8,103.2,910,208.7,910,332s43.8,228.8,131.5,316.5C1129.2,736.2,1234.7,780,1358,780s228.8-43.8,316.5-131.5  C1762.2,560.8,1806,455.3,1806,332z M2318,1164c0,34.7-12.7,64.7-38,90s-55.3,38-90,38c-36,0-66-12.7-90-38l-343-342  c-119.3,82.7-252.3,124-399,124c-95.3,0-186.5-18.5-273.5-55.5s-162-87-225-150s-113-138-150-225S654,427.3,654,332  s18.5-186.5,55.5-273.5s87-162,150-225s138-113,225-150S1262.7-372,1358-372s186.5,18.5,273.5,55.5s162,87,225,150s113,138,150,225  S2062,236.7,2062,332c0,146.7-41.3,279.7-124,399l343,343C2305.7,1098.7,2318,1128.7,2318,1164z"/>
                    </svg>
                </button>
                <button class="nav-toggle toggle" data-opens=".site-nav" aria-expanded="false">
                    <span class="screen-reader-text">Menu</span>
                    <svg class="icon icon-nav-toggle" aria-hidden="true" viewBox="0 0 100 100" height="20">
                        <path d="M5,16h90v16H5z"/>
                        <path d="M5,48h90v16H5z"/>
                        <path d="M5,80h90v16H5z"/>
                    </svg>
                </button>
                <script type="module">
                const searchToggle = document.querySelector('.search-toggle');
                const searchForm = document.querySelector('typesense-minibar');
                const searchInput = searchForm.querySelector('input[type=search]');
                function searchFn(newState) {
                    searchToggle.setAttribute('aria-expanded', String(newState));
                    searchForm.style.display = newState ? 'block' : '';
                    if (newState) {
                        searchInput.focus();
                    }
                }
                const navToggle = document.querySelector('.nav-toggle');
                const navToggleOpens = document.querySelector(navToggle.dataset.opens);
                function navFn(newState) {
                    navToggle.classList.toggle('opened', newState);
                    navToggleOpens.classList.toggle('opened', newState);
                    navToggle.setAttribute('aria-expanded', String(newState));
                    navToggleOpens.setAttribute('aria-expanded', String(newState));
                }
                searchToggle.addEventListener('click', () => {
                    navFn(false);
                    searchFn(searchToggle.getAttribute('aria-expanded') !== 'true');
                });
                navToggle.addEventListener('click', () => {
                    searchFn(false);
                    navFn(!navToggle.classList.contains('opened'));
                });
                </script>
            </div>
        </div>
    </header>
    <div class="main main--columns wrapper">
<div class="content" role="main">
<article>
    <header>
    <h1>QUnit.on()</h1>
    <p class="post-meta">Categories: <a class="category" href="/api/callbacks/">Callback events</a>, <a class="category" href="/api/extension/">Extension interface</a>.</p>
    </header>
    <p class="version-details">
            version added: <a href="https://github.com/qunitjs/qunit/releases/tag/2.2.0">2.2.0</a><span class="sep">.</span></p>
    <h2 id="description" class="screen-reader-text h-api-desc">Description</h2>
<p><code class="language-plaintext highlighter-rouge">QUnit.on( eventName, callback )</code></p>

<p>Register a callback that will be invoked after the specified event is emitted.</p>

<p>This event emitter is the primary interface for QUnit reporters, plugins, and continuous integration support. It is based on the <a href="https://github.com/js-reporters/js-reporters/blob/v2.1.0/spec/cri-draft.adoc">js-reporters CRI standard</a>, and includes a <a href="#reporter-api">Reporter API</a>.</p>

<table>
  <thead>
    <tr>
      <th>type</th>
      <th>parameter</th>
      <th>description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">string</code></td>
      <td><code class="language-plaintext highlighter-rouge">eventName</code></td>
      <td>Name of an event.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Function</code></td>
      <td><code class="language-plaintext highlighter-rouge">callback</code></td>
      <td>A callback function.</td>
    </tr>
  </tbody>
</table>

<h2 id="the-runstart-event">The <code class="language-plaintext highlighter-rouge">runStart</code> event</h2>

<p>The <code class="language-plaintext highlighter-rouge">runStart</code> event indicates the beginning of a test run. It is emitted exactly once, and before any other events.</p>

<table>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Object</code></td>
      <td><code class="language-plaintext highlighter-rouge">testCounts</code></td>
      <td>Aggregate counts about tests.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">number</code></td>
      <td><code class="language-plaintext highlighter-rouge">testCounts.total</code></td>
      <td>Total number of registered tests.</td>
    </tr>
  </tbody>
</table>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">QUnit</span><span class="p">.</span><span class="nf">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">runStart</span><span class="dl">'</span><span class="p">,</span> <span class="nx">runStart</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="s2">`Test plan: </span><span class="p">${</span><span class="nx">runStart</span><span class="p">.</span><span class="nx">testCounts</span><span class="p">.</span><span class="nx">total</span><span class="p">}</span><span class="s2">`</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div></div>

<h2 id="the-suitestart-event">The <code class="language-plaintext highlighter-rouge">suiteStart</code> event</h2>

<p>The <code class="language-plaintext highlighter-rouge">suiteStart</code> event indicates the beginning of a module. It is eventually be followed by a corresponding <code class="language-plaintext highlighter-rouge">suiteEnd</code> event.</p>

<table>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">string</code></td>
      <td><code class="language-plaintext highlighter-rouge">name</code></td>
      <td>Name of the module.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Array&lt;string&gt;</code></td>
      <td><code class="language-plaintext highlighter-rouge">fullName</code></td>
      <td>List of one or more strings, containing (in order) the names of any ancestor modules and the name of the current module.</td>
    </tr>
  </tbody>
</table>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">QUnit</span><span class="p">.</span><span class="nf">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">suiteStart</span><span class="dl">'</span><span class="p">,</span> <span class="nx">suiteStart</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">suiteStart</span><span class="dl">'</span><span class="p">,</span> <span class="nx">suiteStart</span><span class="p">);</span>
  <span class="c1">// name: 'my module'</span>
  <span class="c1">// fullName: ['grandparent', 'parent', 'my module']</span>
<span class="p">});</span>
</code></pre></div></div>

<h2 id="the-suiteend-event">The <code class="language-plaintext highlighter-rouge">suiteEnd</code> event</h2>

<p>The <code class="language-plaintext highlighter-rouge">suiteEnd</code> event indicates the end of a module. It is emitted after its corresponding <code class="language-plaintext highlighter-rouge">suiteStart</code> event.</p>

<table>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">string</code></td>
      <td><code class="language-plaintext highlighter-rouge">name</code></td>
      <td>Name of the module.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Array&lt;string&gt;</code></td>
      <td><code class="language-plaintext highlighter-rouge">fullName</code></td>
      <td>List of one or more strings, containing (in order) the names of any ancestor modules and the name of the current module.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">string</code></td>
      <td><code class="language-plaintext highlighter-rouge">status</code></td>
      <td>Aggregate result of tests in this module, one of:<br /><code class="language-plaintext highlighter-rouge">failed</code>: at least one test has failed; <br /><code class="language-plaintext highlighter-rouge">passed</code>: there were no failing tests, which means there were only tests with a passed, skipped, or todo status.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">number</code></td>
      <td><code class="language-plaintext highlighter-rouge">runtime</code></td>
      <td>Duration of the module in milliseconds.</td>
    </tr>
  </tbody>
</table>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">QUnit</span><span class="p">.</span><span class="nf">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">suiteEnd</span><span class="dl">'</span><span class="p">,</span> <span class="nx">suiteEnd</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="nx">suiteEnd</span><span class="p">);</span>
  <span class="c1">// …</span>
<span class="p">});</span>
</code></pre></div></div>

<h2 id="the-teststart-event">The <code class="language-plaintext highlighter-rouge">testStart</code> event</h2>

<p>The <code class="language-plaintext highlighter-rouge">testStart</code> event indicates the beginning of a test. It is eventually followed by a corresponding <code class="language-plaintext highlighter-rouge">testEnd</code> event.</p>

<table>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">string</code></td>
      <td><code class="language-plaintext highlighter-rouge">name</code></td>
      <td>Name of the test.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">string|null</code></td>
      <td><code class="language-plaintext highlighter-rouge">moduleName</code></td>
      <td>The module the test belongs to, or null for a global test.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Array&lt;string&gt;</code></td>
      <td><code class="language-plaintext highlighter-rouge">fullName</code></td>
      <td>List (in order) of the names of any ancestor modules and the name of the test itself.</td>
    </tr>
  </tbody>
</table>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">QUnit</span><span class="p">.</span><span class="nf">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">testStart</span><span class="dl">'</span><span class="p">,</span> <span class="nx">testStart</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="nx">testStart</span><span class="p">);</span>
  <span class="c1">// name: 'my test'</span>
  <span class="c1">// moduleName: 'my module'</span>
  <span class="c1">// fullName: ['parent', 'my module', 'my test']</span>

  <span class="c1">// name: 'global test'</span>
  <span class="c1">// moduleName: null</span>
  <span class="c1">// fullName: ['global test']</span>
<span class="p">});</span>
</code></pre></div></div>

<h2 id="the-testend-event">The <code class="language-plaintext highlighter-rouge">testEnd</code> event</h2>

<p>The <code class="language-plaintext highlighter-rouge">testEnd</code> event indicates the end of a test. It is emitted after its corresponding <code class="language-plaintext highlighter-rouge">testStart</code> event.</p>

<p>Properties of a testEnd object:</p>

<table>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">string</code></td>
      <td><code class="language-plaintext highlighter-rouge">name</code></td>
      <td>Name of the test.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">string|null</code></td>
      <td><code class="language-plaintext highlighter-rouge">moduleName</code></td>
      <td>The module the test belongs to, or null for a global test.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Array&lt;string&gt;</code></td>
      <td><code class="language-plaintext highlighter-rouge">fullName</code></td>
      <td>List (in order) of the names of any ancestor modules and the name of the test itself.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">string</code></td>
      <td><code class="language-plaintext highlighter-rouge">status</code></td>
      <td>Result of the test, one of:<br /><code class="language-plaintext highlighter-rouge">passed</code>: all assertions passed or no assertions found;<br /><code class="language-plaintext highlighter-rouge">failed</code>: at least one assertion failed or it is a <a href="/api/QUnit/test.todo/">todo test</a> that no longer has any failing assertions;<br /><code class="language-plaintext highlighter-rouge">skipped</code>: the test was intentionally not run; or<br /><code class="language-plaintext highlighter-rouge">todo</code>: the test is “todo” and still has a failing assertion.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">number</code></td>
      <td><code class="language-plaintext highlighter-rouge">runtime</code></td>
      <td>Duration of the test in milliseconds.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Array&lt;FailedAssertion&gt;</code></td>
      <td><code class="language-plaintext highlighter-rouge">errors</code></td>
      <td>For tests with status <code class="language-plaintext highlighter-rouge">failed</code> or <code class="language-plaintext highlighter-rouge">todo</code>, there will be at least one failed assertion. However, the list may be empty if the status is <code class="language-plaintext highlighter-rouge">failed</code> due to a “todo” test having no failed assertions.<br /><br />Note that all negative test outcome communicate their details in this manner. For example, timeouts, uncaught errors, and <a href="/api/config/noglobals/">global pollution</a> also synthesize a failed assertion.</td>
    </tr>
  </tbody>
</table>

<p>Properties of a FailedAssertion object:</p>

<table>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">boolean</code></td>
      <td><code class="language-plaintext highlighter-rouge">passed</code></td>
      <td>False for a failed assertion.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">string|undefined</code></td>
      <td><code class="language-plaintext highlighter-rouge">message</code></td>
      <td>Description of what the assertion checked.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">any</code></td>
      <td><code class="language-plaintext highlighter-rouge">actual</code></td>
      <td>The actual value passed to the assertion.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">any</code></td>
      <td><code class="language-plaintext highlighter-rouge">expected</code></td>
      <td>The expected value passed to the assertion.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">string|undefined</code></td>
      <td><code class="language-plaintext highlighter-rouge">stack</code></td>
      <td>Stack trace, may be undefined if the result came from an old web browsers.</td>
    </tr>
  </tbody>
</table>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">QUnit</span><span class="p">.</span><span class="nf">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">testEnd</span><span class="dl">'</span><span class="p">,</span> <span class="nx">testEnd</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">if </span><span class="p">(</span><span class="nx">testEnd</span><span class="p">.</span><span class="nx">status</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">failed</span><span class="dl">'</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nf">error</span><span class="p">(</span><span class="dl">'</span><span class="s1">Failed! </span><span class="dl">'</span> <span class="o">+</span> <span class="nx">testEnd</span><span class="p">.</span><span class="nx">fullName</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="dl">'</span><span class="s1"> &gt; </span><span class="dl">'</span><span class="p">));</span>
    <span class="nx">testEnd</span><span class="p">.</span><span class="nx">errors</span><span class="p">.</span><span class="nf">forEach</span><span class="p">(</span><span class="nx">assertion</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nf">error</span><span class="p">(</span><span class="nx">assertion</span><span class="p">);</span>
      <span class="c1">// message: speedometer</span>
      <span class="c1">// actual: 75</span>
      <span class="c1">// expected: 88</span>
      <span class="c1">// stack: at dmc.test.js:12</span>
    <span class="p">});</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre></div></div>

<h2 id="the-runend-event">The <code class="language-plaintext highlighter-rouge">runEnd</code> event</h2>

<p>The <code class="language-plaintext highlighter-rouge">runEnd</code> event indicates the end of a test run. It is emitted exactly once.</p>

<p class="note">

The <code class="language-plaintext highlighter-rouge">runEnd</code> event has <strong>memory</strong> (since QUnit 2.24.0). This means listening for this event is possible, even if the event already fired. For example, if you build an integration system that automates running tests in a browser, and are unable to reliably inject a listener before tests have finished executing. You can attach a late event listeners for the <code class="language-plaintext highlighter-rouge">runEnd</code> event. These will be invoked immediately in that case. This removes the need for HTML scraping.

</p>

<table>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">string</code></td>
      <td><code class="language-plaintext highlighter-rouge">status</code></td>
      <td>Aggregate result of all tests, one of:<br /><code class="language-plaintext highlighter-rouge">failed</code>: at least one test failed or a global error occurred;<br /><code class="language-plaintext highlighter-rouge">passed</code>: there were no failed tests, which means there were only tests with a passed, skipped, or todo status. If <a href="/api/config/failOnZeroTests/"><code class="language-plaintext highlighter-rouge">QUnit.config.failOnZeroTests</code></a> is disabled, then the run may also pass if there were no tests.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Object</code></td>
      <td><code class="language-plaintext highlighter-rouge">testCounts</code></td>
      <td>Aggregate counts about tests:</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">number</code></td>
      <td><code class="language-plaintext highlighter-rouge">testCounts.passed</code></td>
      <td>Number of passed tests.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">number</code></td>
      <td><code class="language-plaintext highlighter-rouge">testCounts.failed</code></td>
      <td>Number of failed tests.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">number</code></td>
      <td><code class="language-plaintext highlighter-rouge">testCounts.skipped</code></td>
      <td>Number of skipped tests.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">number</code></td>
      <td><code class="language-plaintext highlighter-rouge">testCounts.todo</code></td>
      <td>Number of todo tests.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">number</code></td>
      <td><code class="language-plaintext highlighter-rouge">testCounts.total</code></td>
      <td>Total number of tests, equal to the sum of the above properties.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">number</code></td>
      <td><code class="language-plaintext highlighter-rouge">runtime</code></td>
      <td>Total duration of the run in milliseconds.</td>
    </tr>
  </tbody>
</table>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">QUnit</span><span class="p">.</span><span class="nf">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">runEnd</span><span class="dl">'</span><span class="p">,</span> <span class="nx">runEnd</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="s2">`Passed: </span><span class="p">${</span><span class="nx">runEnd</span><span class="p">.</span><span class="nx">passed</span><span class="p">}</span><span class="s2">`</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="s2">`Failed: </span><span class="p">${</span><span class="nx">runEnd</span><span class="p">.</span><span class="nx">failed</span><span class="p">}</span><span class="s2">`</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="s2">`Skipped: </span><span class="p">${</span><span class="nx">runEnd</span><span class="p">.</span><span class="nx">skipped</span><span class="p">}</span><span class="s2">`</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="s2">`Todo: </span><span class="p">${</span><span class="nx">runEnd</span><span class="p">.</span><span class="nx">todo</span><span class="p">}</span><span class="s2">`</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="s2">`Total: </span><span class="p">${</span><span class="nx">runEnd</span><span class="p">.</span><span class="nx">total</span><span class="p">}</span><span class="s2">`</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div></div>

<h2 id="the-error-event">The <code class="language-plaintext highlighter-rouge">error</code> event</h2>

<p><em>Version added: <a href="https://github.com/qunitjs/qunit/releases/tag/2.17.0">QUnit 2.17.0</a></em>.</p>

<p>The <code class="language-plaintext highlighter-rouge">error</code> event notifies plugins of uncaught global errors during a test run.</p>

<p>See also <a href="/api/extension/QUnit.onUncaughtException/">QUnit.onUncaughtException()</a> which is where you can report your own uncaught errors.</p>

<p class="note">

The <code class="language-plaintext highlighter-rouge">error</code> event has <strong>memory</strong> (since QUnit 2.24.1). This means listening for this event is possible, even if the event already fired. This improves reliability of reporters in browser automations, where it might be difficult to reliably inject a listener between qunit.js and anything else.

</p>

<table>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Error|any</code></td>
      <td><code class="language-plaintext highlighter-rouge">error</code></td>
    </tr>
  </tbody>
</table>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">QUnit</span><span class="p">.</span><span class="nf">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">error</span><span class="dl">'</span><span class="p">,</span> <span class="nx">error</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nf">error</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div></div>

<h2 id="reporter-api">Reporter API</h2>

<p>The QUnit CLI accepts a <a href="/cli/#--reporter"><code class="language-plaintext highlighter-rouge">--reporter</code> option</a> that loads a reporter from a Node module (e.g. npm package). Such module must export an <code class="language-plaintext highlighter-rouge">init</code> function, which QUnit will call and pass the <code class="language-plaintext highlighter-rouge">QUnit</code> object, which you can then use to call <code class="language-plaintext highlighter-rouge">QUnit.on()</code>. This contract is known as the <em>Reporter API</em>.</p>

<p>You can implement your reporter either as simply an exported function, or as a class with a static <code class="language-plaintext highlighter-rouge">init</code> method.</p>

<h3 id="example-reporter-class">Example: Reporter class</h3>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">MyReporter</span> <span class="p">{</span>
  <span class="kd">static</span> <span class="nf">init </span><span class="p">(</span><span class="nx">QUnit</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nc">MyReporter</span><span class="p">(</span><span class="nx">QUnit</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="nf">constructor </span><span class="p">(</span><span class="nx">QUnit</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">QUnit</span><span class="p">.</span><span class="nf">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">error</span><span class="dl">'</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">onError</span><span class="p">.</span><span class="nf">bind</span><span class="p">(</span><span class="k">this</span><span class="p">));</span>
    <span class="nx">QUnit</span><span class="p">.</span><span class="nf">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">testEnd</span><span class="dl">'</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">onTestEnd</span><span class="p">.</span><span class="nf">bind</span><span class="p">(</span><span class="k">this</span><span class="p">));</span>
    <span class="nx">QUnit</span><span class="p">.</span><span class="nf">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">runEnd</span><span class="dl">'</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">onRunEnd</span><span class="p">.</span><span class="nf">bind</span><span class="p">(</span><span class="k">this</span><span class="p">));</span>
  <span class="p">}</span>

  <span class="nf">onError </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="p">}</span>

  <span class="nf">onTestEnd </span><span class="p">(</span><span class="nx">testEnd</span><span class="p">)</span> <span class="p">{</span>
  <span class="p">}</span>

  <span class="nf">onRunEnd </span><span class="p">(</span><span class="nx">runEnd</span><span class="p">)</span> <span class="p">{</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// CommonJS, or ES Module</span>
<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="nx">MyReporter</span><span class="p">;</span>
<span class="k">export</span> <span class="k">default</span> <span class="nx">MyReporter</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="example-reporter-function">Example: Reporter function</h3>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nf">init</span> <span class="p">(</span><span class="nx">QUnit</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">QUnit</span><span class="p">.</span><span class="nf">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">error</span><span class="dl">'</span><span class="p">,</span> <span class="nx">onError</span><span class="p">);</span>
  <span class="nx">QUnit</span><span class="p">.</span><span class="nf">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">testEnd</span><span class="dl">'</span><span class="p">,</span> <span class="nx">onTestEnd</span><span class="p">);</span>
  <span class="nx">QUnit</span><span class="p">.</span><span class="nf">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">runEnd</span><span class="dl">'</span><span class="p">,</span> <span class="nx">onRunEnd</span><span class="p">);</span>

  <span class="kd">function</span> <span class="nf">onError</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="p">}</span>
  <span class="kd">function</span> <span class="nf">onTestEnd</span> <span class="p">(</span><span class="nx">testEnd</span><span class="p">)</span> <span class="p">{</span>
  <span class="p">}</span>
  <span class="kd">function</span> <span class="nf">onRunEnd</span> <span class="p">(</span><span class="nx">runEnd</span><span class="p">)</span> <span class="p">{</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// CommonJS, or ES Module</span>
<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span><span class="p">.</span><span class="nx">init</span> <span class="o">=</span> <span class="nx">init</span><span class="p">;</span>
<span class="k">export</span> <span class="p">{</span> <span class="nx">init</span> <span class="p">};</span>
</code></pre></div></div>

</article>
</div>
<aside class="sidebar" role="complementary">

	<h4><a href="/api/QUnit/">Main methods</a></h4>
	

	<h4><a href="/api/assert/">Assertions</a></h4>
	

	<h4 class="sidebar-title-open"><a href="/api/callbacks/">Callback events</a></h4>
	<ul class="sidebar-list"><li class="sidebar-item">
		<a href="/api/callbacks/QUnit.begin/">QUnit.begin()</a>
	</li><li class="sidebar-item">
		<a href="/api/callbacks/QUnit.done/">QUnit.done()</a>
	</li><li class="sidebar-item">
		<a href="/api/callbacks/QUnit.log/">QUnit.log()</a>
	</li><li class="sidebar-item">
		<a href="/api/callbacks/QUnit.moduleDone/">QUnit.moduleDone()</a>
	</li><li class="sidebar-item">
		<a href="/api/callbacks/QUnit.moduleStart/">QUnit.moduleStart()</a>
	</li><li class="sidebar-item sidebar-item-active">
		<a href="/api/callbacks/QUnit.on/">QUnit.on()</a>
	</li><li class="sidebar-item">
		<a href="/api/callbacks/QUnit.testDone/">QUnit.testDone()</a>
	</li><li class="sidebar-item">
		<a href="/api/callbacks/QUnit.testStart/">QUnit.testStart()</a>
	</li></ul>

	<h4><a href="/api/async/">Async control</a></h4>
	

	<h4><a href="/api/config/">Configuration</a></h4>
	

	<h4><a href="/api/reporters/">Reporters</a></h4>
	

	<h4><a href="/api/extension/">Extension interface</a></h4>
	

	<h4><a href="/api/deprecated/">Deprecated methods</a></h4>
	

	<h4><a href="/api/removed/">Removed methods</a></h4>
	<hr><div class="toc-wrapper">
		<h4>Table of contents</h4><ol class="toc"><li class="sidebar-item"><a href="#description">Description</a></li><li class="sidebar-item"><a href="#the-runstart-event">The runStart event</a></li><li class="sidebar-item"><a href="#the-suitestart-event">The suiteStart event</a></li><li class="sidebar-item"><a href="#the-suiteend-event">The suiteEnd event</a></li><li class="sidebar-item"><a href="#the-teststart-event">The testStart event</a></li><li class="sidebar-item"><a href="#the-testend-event">The testEnd event</a></li><li class="sidebar-item"><a href="#the-runend-event">The runEnd event</a></li><li class="sidebar-item"><a href="#the-error-event">The error event</a></li><li class="sidebar-item"><a href="#reporter-api">Reporter API</a><ol><li class="sidebar-item"><a href="#example-reporter-class">Example: Reporter class</a></li><li class="sidebar-item"><a href="#example-reporter-function">Example: Reporter function</a></li></ol></li></ol></div><script defer type="module" src="/assets/toc.js?v=348e5a95"></script>
</aside>

</div>

    <footer class="site-footer">
        <div class="wrapper">
            <p class="external-links">
                <a href="https://github.com/qunitjs" target="_blank" rel="noopener">GitHub</a>
                <a href="/intro/#support" target="_blank" rel="noopener">Chat</a>
                <a href="https://fosstodon.org/@qunit" target="_blank" rel="noopener">Mastodon</a>
                
                <a href="https://bsky.app/profile/qunitjs.com" target="_blank" rel="noopener">Bluesky</a>
                
                <a href="https://twitter.com/qunitjs" target="_blank" rel="noopener">Twitter</a>
                </p>
            <p class="copyright">Copyright <a href="https://openjsf.org/" target="_blank" rel="noopener">OpenJS Foundation</a> and contributors.<br><a href="https://github.com/qunitjs/qunit/blob/main/docs/api/callbacks/QUnit.on.md">Edit this page</a></p>
        </div>
    </footer><script defer type="module" src="/assets/typesense-minibar.js?v=830f1ee1"></script></body>
</html>
