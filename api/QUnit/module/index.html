<!DOCTYPE html>
<html lang="en">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="icon" href="/favicon.svg">
<link rel="stylesheet" href="/assets/styles.css?v=b3e1162d" media="screen">
<link rel="alternate" type="application/rss+xml" href="/feed.xml" title="QUnit">
<title>QUnit.module() | QUnit</title><meta property="og:title" content="QUnit.module()"><meta name="description" content="Group related tests under a common label."><meta property="og:description" content="Group related tests under a common label."><link rel="me" href="https://fosstodon.org/@qunit"><meta name="twitter:card" content="summary_large_image">
<body>
    <header class="site-header" role="banner">
        <div class="site-header-wrapper wrapper">
            <a class="site-logo" href="/"><img src="/img/logo-with-colored-text.svg" alt="QUnit" width="250" height="72"></a><typesense-minibar data-origin="https://typesense.jquery.com" data-collection="qunitjs_com" data-key="Zh8mMgohXECel9wjPwqT7lekLSG3OCgz" data-foot="true">
<form role="search" action="https://duckduckgo.com">
    <input type="search" name="q" aria-label="Search" placeholder="Search..." autocomplete="off">
    <input type="hidden" name="sites" value="qunitjs.com">
</form>
</typesense-minibar>
<nav class="site-nav"><ul class="site-nav-list"><li class="site-nav-item has-sub-list"><span class="site-nav-link has-sub-list" tabindex="0">Guides</span>
                        <ul class="site-nav-sub-list"><li><a class="site-sub-nav-link" href="/intro/">Getting Started</a></li><li><a class="site-sub-nav-link" href="/intro/#download">Download</a></li><li><a class="site-sub-nav-link" href="/browser/">Browser Runner</a></li><li><a class="site-sub-nav-link" href="/cli/">Command-line Interface</a></li><li><a class="site-sub-nav-link" href="/intro/#compatibility">Compatibility</a></li><li><a class="site-sub-nav-link" href="/lifecycle/">Test lifecycle</a></li><li><a class="site-sub-nav-link" href="/upgrade-guide-2.x/">QUnit 2.0 Upgrade Guide</a></li></ul></li><li class="site-nav-item"><a class="site-nav-link" href="/api/">Documentation</a></li><li class="site-nav-item"><a class="site-nav-link" href="/blog/">Blog</a></li><li class="site-nav-item has-sub-list"><span class="site-nav-link has-sub-list" tabindex="0">Community</span>
                        <ul class="site-nav-sub-list"><li><a class="site-sub-nav-link" href="/intro/#support">Support &amp; Chat</a></li><li><a class="site-sub-nav-link" href="/plugins/">Plugins</a></li><li><a class="site-sub-nav-link" href="/projects/">Who&#39;s using QUnit?</a></li><li><a class="site-sub-nav-link" href="/about/">About QUnit</a></li><li><a class="site-sub-nav-link" href="/badge/">Badge</a></li><li><a class="site-sub-nav-link" href="/brand/">Brand Guidelines</a></li></ul></li></ul></nav>
            <div class="site-toggles">
                <button class="search-toggle toggle" aria-expanded="false">
                    <span class="screen-reader-text">Search</span>
                    <svg class="icon aa-input-icon" aria-hidden="true" viewBox="654 -372 1664 1664" height="20">
                        <path d="M1806,332c0-123.3-43.8-228.8-131.5-316.5C1586.8-72.2,1481.3-116,1358-116s-228.8,43.8-316.5,131.5  C953.8,103.2,910,208.7,910,332s43.8,228.8,131.5,316.5C1129.2,736.2,1234.7,780,1358,780s228.8-43.8,316.5-131.5  C1762.2,560.8,1806,455.3,1806,332z M2318,1164c0,34.7-12.7,64.7-38,90s-55.3,38-90,38c-36,0-66-12.7-90-38l-343-342  c-119.3,82.7-252.3,124-399,124c-95.3,0-186.5-18.5-273.5-55.5s-162-87-225-150s-113-138-150-225S654,427.3,654,332  s18.5-186.5,55.5-273.5s87-162,150-225s138-113,225-150S1262.7-372,1358-372s186.5,18.5,273.5,55.5s162,87,225,150s113,138,150,225  S2062,236.7,2062,332c0,146.7-41.3,279.7-124,399l343,343C2305.7,1098.7,2318,1128.7,2318,1164z"/>
                    </svg>
                </button>
                <button class="nav-toggle toggle" data-opens=".site-nav" aria-expanded="false">
                    <span class="screen-reader-text">Menu</span>
                    <svg class="icon icon-nav-toggle" aria-hidden="true" viewBox="0 0 100 100" height="20">
                        <path d="M5,16h90v16H5z"/>
                        <path d="M5,48h90v16H5z"/>
                        <path d="M5,80h90v16H5z"/>
                    </svg>
                </button>
                <script type="module">
                const searchToggle = document.querySelector('.search-toggle');
                const searchForm = document.querySelector('typesense-minibar');
                const searchInput = searchForm.querySelector('input[type=search]');
                function searchFn(newState) {
                    searchToggle.setAttribute('aria-expanded', String(newState));
                    searchForm.style.display = newState ? 'block' : '';
                    if (newState) {
                        searchInput.focus();
                    }
                }
                const navToggle = document.querySelector('.nav-toggle');
                const navToggleOpens = document.querySelector(navToggle.dataset.opens);
                function navFn(newState) {
                    navToggle.classList.toggle('opened', newState);
                    navToggleOpens.classList.toggle('opened', newState);
                    navToggle.setAttribute('aria-expanded', String(newState));
                    navToggleOpens.setAttribute('aria-expanded', String(newState));
                }
                searchToggle.addEventListener('click', () => {
                    navFn(false);
                    searchFn(searchToggle.getAttribute('aria-expanded') !== 'true');
                });
                navToggle.addEventListener('click', () => {
                    searchFn(false);
                    navFn(!navToggle.classList.contains('opened'));
                });
                </script>
            </div>
        </div>
    </header>
    <div class="main main--columns wrapper">
<div class="content" role="main">
<article>
    <header>
    <h1>QUnit.module()</h1>
    <p class="post-meta">Categories: <a class="category" href="/api/QUnit/">Main methods</a>.</p>
    </header>
    <p class="version-details">
            version added: <a href="https://github.com/qunitjs/qunit/releases/tag/1.0.0">1.0.0</a><span class="sep">.</span></p>
    <h2 id="description" class="screen-reader-text h-api-desc">Description</h2>
<p><code class="language-plaintext highlighter-rouge">QUnit.module( name )</code><br />
<code class="language-plaintext highlighter-rouge">QUnit.module( name, scope )</code><br />
<code class="language-plaintext highlighter-rouge">QUnit.module( name, options )</code><br />
<code class="language-plaintext highlighter-rouge">QUnit.module( name, options, scope )</code></p>

<p>Group related tests under a common label.</p>

<table>
  <thead>
    <tr>
      <th>parameter</th>
      <th>description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">name</code> (string)</td>
      <td>Label for this group of tests.</td>
    </tr>
    <tr>
      <td><a href="#options-parameter"><code class="language-plaintext highlighter-rouge">options</code></a> (object)</td>
      <td>Set hook callbacks.</td>
    </tr>
    <tr>
      <td><a href="#module-scope"><code class="language-plaintext highlighter-rouge">scope</code></a> (function)</td>
      <td>A scope for tests, nested modules, and/or hooks.</td>
    </tr>
  </tbody>
</table>

<p>All tests inside a module will be grouped under that module. Tests can be added to a module using the <a href="/api/QUnit/test/"><code class="language-plaintext highlighter-rouge">QUnit.test</code></a> method. Modules help organize, select, and filter tests to run.</p>

<p>Modules may be nested inside the scope of another module. Test results are prefixed with the names of any parent modules. E.g. “Grandparent &gt; Parent &gt; Child &gt; my test”.</p>

<p><code class="language-plaintext highlighter-rouge">QUnit.module.only( name, … )</code><br />
<code class="language-plaintext highlighter-rouge">QUnit.module.skip( name, … )</code><br />
<code class="language-plaintext highlighter-rouge">QUnit.module.todo( name, … )</code><br />
<code class="language-plaintext highlighter-rouge">QUnit.module.if( name, condition, … )</code></p>

<p>These methods are aliases for <code class="language-plaintext highlighter-rouge">QUnit.module()</code> that apply the behaviour of <a href="/api/QUnit/test.only/"><code class="language-plaintext highlighter-rouge">QUnit.test.only()</code></a>,  <a href="/api/QUnit/test.skip/"><code class="language-plaintext highlighter-rouge">QUnit.test.skip()</code></a>, <a href="/api/QUnit/test.todo/"><code class="language-plaintext highlighter-rouge">QUnit.test.todo()</code></a>, or <a href="/api/QUnit/test.if/"><code class="language-plaintext highlighter-rouge">QUnit.test.if()</code></a> to all a module’s tests at once.</p>

<h3 id="organizing-your-tests">Organizing your tests</h3>

<p>By default, if <code class="language-plaintext highlighter-rouge">QUnit.module</code> is called without a <code class="language-plaintext highlighter-rouge">scope</code> callback, all subsequently defined tests are automatically grouped into that module, until the next module is defined.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">QUnit</span><span class="p">.</span><span class="nf">module</span><span class="p">(</span><span class="dl">'</span><span class="s1">Group A</span><span class="dl">'</span><span class="p">);</span>

<span class="nx">QUnit</span><span class="p">.</span><span class="nf">test</span><span class="p">(</span><span class="dl">'</span><span class="s1">foo</span><span class="dl">'</span><span class="p">,</span> <span class="nf">function </span><span class="p">(</span><span class="nx">assert</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">assert</span><span class="p">.</span><span class="nf">true</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
<span class="p">});</span>
<span class="nx">QUnit</span><span class="p">.</span><span class="nf">test</span><span class="p">(</span><span class="dl">'</span><span class="s1">bar</span><span class="dl">'</span><span class="p">,</span> <span class="nf">function </span><span class="p">(</span><span class="nx">assert</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">assert</span><span class="p">.</span><span class="nf">true</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
<span class="p">});</span>

<span class="nx">QUnit</span><span class="p">.</span><span class="nf">module</span><span class="p">(</span><span class="dl">'</span><span class="s1">Group B</span><span class="dl">'</span><span class="p">);</span>

<span class="nx">QUnit</span><span class="p">.</span><span class="nf">test</span><span class="p">(</span><span class="dl">'</span><span class="s1">baz</span><span class="dl">'</span><span class="p">,</span> <span class="nf">function </span><span class="p">(</span><span class="nx">assert</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">assert</span><span class="p">.</span><span class="nf">true</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
<span class="p">});</span>
<span class="nx">QUnit</span><span class="p">.</span><span class="nf">test</span><span class="p">(</span><span class="dl">'</span><span class="s1">quux</span><span class="dl">'</span><span class="p">,</span> <span class="nf">function </span><span class="p">(</span><span class="nx">assert</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">assert</span><span class="p">.</span><span class="nf">true</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div></div>

<p><span id="nested-scope"></span><span id="nested-module-scope"></span></p>

<h3 id="module-scope">Module scope</h3>

<p>The module scope can be used to group tests under a common label. These can be nested to create child modules under a common parent. The module scope can add <a href="#hooks">hooks</a> by calling methods on the <code class="language-plaintext highlighter-rouge">hooks</code> parameter.</p>

<table>
  <thead>
    <tr>
      <th>parameter</th>
      <th>description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">hooks</code> (object)</td>
      <td>An object for adding hooks.</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Fruit &gt; Berries &gt; cowberry.</span>
<span class="c1">// Fruit &gt; Berries &gt; cranberry.</span>
<span class="c1">// Fruit &gt; Melons &gt; galia.</span>
<span class="c1">// Bread &gt; bake.</span>
<span class="c1">// Bread &gt; toast.</span>
<span class="nx">QUnit</span><span class="p">.</span><span class="nf">module</span><span class="p">(</span><span class="dl">'</span><span class="s1">Fruit</span><span class="dl">'</span><span class="p">,</span> <span class="nf">function </span><span class="p">(</span><span class="nx">hooks</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">QUnit</span><span class="p">.</span><span class="nf">module</span><span class="p">(</span><span class="dl">'</span><span class="s1">Berries</span><span class="dl">'</span><span class="p">,</span> <span class="nf">function </span><span class="p">(</span><span class="nx">hooks</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">QUnit</span><span class="p">.</span><span class="nf">test</span><span class="p">(</span><span class="dl">'</span><span class="s1">cowberry</span><span class="dl">'</span><span class="p">,</span> <span class="nf">function </span><span class="p">(</span><span class="nx">assert</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">assert</span><span class="p">.</span><span class="nf">true</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
    <span class="p">});</span>

    <span class="nx">QUnit</span><span class="p">.</span><span class="nf">test</span><span class="p">(</span><span class="dl">'</span><span class="s1">cranberry</span><span class="dl">'</span><span class="p">,</span> <span class="nf">function </span><span class="p">(</span><span class="nx">assert</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">assert</span><span class="p">.</span><span class="nf">true</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
    <span class="p">});</span>
  <span class="p">});</span>

  <span class="nx">QUnit</span><span class="p">.</span><span class="nf">module</span><span class="p">(</span><span class="dl">'</span><span class="s1">Melons</span><span class="dl">'</span><span class="p">,</span> <span class="nf">function </span><span class="p">(</span><span class="nx">hooks</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">QUnit</span><span class="p">.</span><span class="nf">test</span><span class="p">(</span><span class="dl">'</span><span class="s1">galia</span><span class="dl">'</span><span class="p">,</span> <span class="nf">function </span><span class="p">(</span><span class="nx">assert</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">assert</span><span class="p">.</span><span class="nf">true</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
    <span class="p">});</span>

    <span class="c1">// ...</span>
  <span class="p">});</span>
<span class="p">});</span>

<span class="nx">QUnit</span><span class="p">.</span><span class="nf">module</span><span class="p">(</span><span class="dl">'</span><span class="s1">Bread</span><span class="dl">'</span><span class="p">,</span> <span class="nf">function </span><span class="p">(</span><span class="nx">hooks</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">QUnit</span><span class="p">.</span><span class="nf">test</span><span class="p">(</span><span class="dl">'</span><span class="s1">bake</span><span class="dl">'</span><span class="p">,</span> <span class="nf">function </span><span class="p">(</span><span class="nx">assert</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">assert</span><span class="p">.</span><span class="nf">true</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
  <span class="p">});</span>

  <span class="nx">QUnit</span><span class="p">.</span><span class="nf">test</span><span class="p">(</span><span class="dl">'</span><span class="s1">toast</span><span class="dl">'</span><span class="p">,</span> <span class="nf">function </span><span class="p">(</span><span class="nx">assert</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">assert</span><span class="p">.</span><span class="nf">true</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
  <span class="p">});</span>
<span class="p">});</span>
</code></pre></div></div>

<h3 id="hooks">Hooks</h3>

<p>You can use hooks to run shared code for every test in a module.  Add hooks via the <code class="language-plaintext highlighter-rouge">hooks</code> parameter in the module scope (as demonstrated below), or via the <a href="#options-parameter">options parameter</a>.</p>

<p>Instead of preparing the same fixture code in every test, you can de-duplicate these steps by performing your setup steps in a  <code class="language-plaintext highlighter-rouge">beforeEach()</code> hook instead.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">QUnit</span><span class="p">.</span><span class="nf">module</span><span class="p">(</span><span class="dl">'</span><span class="s1">example</span><span class="dl">'</span><span class="p">,</span> <span class="nf">function </span><span class="p">(</span><span class="nx">hooks</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">hooks</span><span class="p">.</span><span class="nf">before</span><span class="p">(</span><span class="nf">function </span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// once for all tests</span>
  <span class="p">});</span>

  <span class="nx">hooks</span><span class="p">.</span><span class="nf">beforeEach</span><span class="p">(</span><span class="nf">function </span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// before every test</span>
  <span class="p">});</span>

  <span class="nx">hooks</span><span class="p">.</span><span class="nf">afterEach</span><span class="p">(</span><span class="nf">function </span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// after every test</span>
  <span class="p">});</span>

  <span class="nx">hooks</span><span class="p">.</span><span class="nf">after</span><span class="p">(</span><span class="nf">function </span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// once after all tests are done</span>
  <span class="p">});</span>

  <span class="c1">// define tests here...</span>
<span class="p">});</span>
</code></pre></div></div>

<p>To apply a hook globally to all modules in a project, use <a href="/api/QUnit/hooks/"><code class="language-plaintext highlighter-rouge">QUnit.hooks</code></a>.</p>

<figure>
<a href="/lifecycle/"><img src="/resources/qunit-lifecycle-hooks-order.svg" width="338" height="450" alt="" /></a>
<figcaption>
    <p>Learn about execution order in the <a href="/lifecycle/">Test lifecycle</a></p>
  </figcaption>
</figure>

<p><span id="async-hook-callback"></span></p>

<h4 id="hook-callback">Hook callback</h4>

<table>
  <thead>
    <tr>
      <th>parameter</th>
      <th>description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">assert</code> (object)</td>
      <td>An <a href="/api/assert/">Assert</a> object.</td>
    </tr>
  </tbody>
</table>

<p>Each hook for a given <a href="/api/QUnit/test/">QUnit.test</a>, has access to the same <code class="language-plaintext highlighter-rouge">assert</code> object, and the same <code class="language-plaintext highlighter-rouge">this</code> <a href="/lifecycle/#test-context">test context</a>, as the test function.</p>

<p>A hook callback may be an async function, or return a Promise or other then-able. QUnit will automatically wait for your hook’s asynchronous work to finish before continuing to execute the tests.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">QUnit</span><span class="p">.</span><span class="nf">module</span><span class="p">(</span><span class="dl">'</span><span class="s1">Database connection</span><span class="dl">'</span><span class="p">,</span> <span class="nf">function </span><span class="p">(</span><span class="nx">hooks</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">hooks</span><span class="p">.</span><span class="nf">before</span><span class="p">(</span><span class="k">async</span> <span class="nf">function </span><span class="p">()</span> <span class="p">{</span>
    <span class="k">await</span> <span class="nx">MyDb</span><span class="p">.</span><span class="nf">connect</span><span class="p">();</span>
  <span class="p">});</span>

  <span class="nx">hooks</span><span class="p">.</span><span class="nf">after</span><span class="p">(</span><span class="k">async</span> <span class="nf">function </span><span class="p">()</span> <span class="p">{</span>
    <span class="k">await</span> <span class="nx">MyDb</span><span class="p">.</span><span class="nf">disconnect</span><span class="p">();</span>
  <span class="p">});</span>

  <span class="c1">// define tests...</span>
<span class="p">});</span>
</code></pre></div></div>

<p>See <a href="/lifecycle/#example-async-hook-callback">Test lifecycle § Async hook callback</a> for how to return a Promise without modern async-await syntax.</p>

<p class="note">It is discouraged to dynamically create a <a href="/api/QUnit/test/">QUnit.test</a> from inside a hook. In order to satisfy the requirement for the <code class="language-plaintext highlighter-rouge">after</code> hook to only run once and to be the last hook in a module, QUnit may associate dynamically defined tests with the parent module instead, or as global test. It is recommended to define any dynamic tests via <a href="/api/callbacks/QUnit.begin/"><code class="language-plaintext highlighter-rouge">QUnit.begin()</code></a> instead.</p>

<p><span id="hooks-via-module-options"></span>
<span id="options-object"></span></p>

<h3 id="options-parameter">Options parameter</h3>

<p>You can set the following options to add <a href="#hooks">hooks</a>.</p>

<table>
  <thead>
    <tr>
      <th>name</th>
      <th>description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">before</code> (function)</td>
      <td>Runs before the first test.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">beforeEach</code> (function)</td>
      <td>Runs before each test.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">afterEach</code> (function)</td>
      <td>Runs after each test.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">after</code> (function)</td>
      <td>Runs after the last test.</td>
    </tr>
  </tbody>
</table>

<p>Any other properties on the <code class="language-plaintext highlighter-rouge">options</code> object are copied into the base <a href="/lifecycle/#test-context">test context</a> for the module, which each test inherits from. See also <a href="/lifecycle/#example-set-context-via-options">Test lifecycle § Example: Set context via options</a>.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">QUnit</span><span class="p">.</span><span class="nf">module</span><span class="p">(</span><span class="dl">'</span><span class="s1">example</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
  <span class="nf">before </span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// once for all tests</span>
  <span class="p">},</span>
  <span class="nf">beforeEach </span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// before every test</span>
  <span class="p">},</span>
  <span class="nf">afterEach </span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// after every test</span>
  <span class="p">},</span>
  <span class="nf">after </span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// once after all tests are done</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre></div></div>

<h2 id="changelog">Changelog</h2>

<table>
  <tbody>
    <tr>
      <td><a href="https://github.com/qunitjs/qunit/releases/tag/2.22.0">QUnit 2.22</a></td>
      <td>Added <code class="language-plaintext highlighter-rouge">QUnit.module.if()</code> alias.</td>
    </tr>
    <tr>
      <td><a href="https://github.com/qunitjs/qunit/releases/tag/2.4.0">QUnit 2.4</a></td>
      <td>Added <code class="language-plaintext highlighter-rouge">QUnit.module.only()</code>, <code class="language-plaintext highlighter-rouge">QUnit.module.skip()</code>, and <code class="language-plaintext highlighter-rouge">QUnit.module.todo()</code> aliases.</td>
    </tr>
    <tr>
      <td><a href="https://github.com/qunitjs/qunit/releases/tag/2.0.0">QUnit 2.0</a></td>
      <td>Added <code class="language-plaintext highlighter-rouge">before</code> and <code class="language-plaintext highlighter-rouge">after</code> options.<br />The deprecated <code class="language-plaintext highlighter-rouge">setup</code> and <code class="language-plaintext highlighter-rouge">teardown</code> options were removed.</td>
    </tr>
    <tr>
      <td><a href="https://github.com/qunitjs/qunit/releases/tag/1.20.0">QUnit 1.20</a></td>
      <td>Introduce <code class="language-plaintext highlighter-rouge">scope</code> feature.</td>
    </tr>
    <tr>
      <td><a href="https://github.com/qunitjs/qunit/releases/tag/1.16.0">QUnit 1.16</a></td>
      <td>Added <code class="language-plaintext highlighter-rouge">beforeEach</code> and <code class="language-plaintext highlighter-rouge">afterEach</code> options.<br />The <code class="language-plaintext highlighter-rouge">setup</code> and <code class="language-plaintext highlighter-rouge">teardown</code> options were deprecated in QUnit 1.16 and removed in QUnit 2.0.</td>
    </tr>
  </tbody>
</table>

<h2 id="examples">Examples</h2>

<h3 id="example-hooks">Example: Hooks</h3>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">QUnit</span><span class="p">.</span><span class="nf">module</span><span class="p">(</span><span class="dl">'</span><span class="s1">Machine Maker</span><span class="dl">'</span><span class="p">,</span> <span class="nf">function </span><span class="p">(</span><span class="nx">hooks</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nx">parts</span><span class="p">;</span>
  <span class="nx">hooks</span><span class="p">.</span><span class="nf">beforeEach</span><span class="p">(</span><span class="nf">function </span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">parts</span> <span class="o">=</span> <span class="p">[</span><span class="dl">'</span><span class="s1">A</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">B</span><span class="dl">'</span><span class="p">];</span>
  <span class="p">});</span>

  <span class="nx">QUnit</span><span class="p">.</span><span class="nf">test</span><span class="p">(</span><span class="dl">'</span><span class="s1">make alphabet</span><span class="dl">'</span><span class="p">,</span> <span class="nf">function </span><span class="p">(</span><span class="nx">assert</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">parts</span><span class="p">.</span><span class="nf">push</span><span class="p">(</span><span class="dl">'</span><span class="s1">C</span><span class="dl">'</span><span class="p">);</span>
    <span class="nx">assert</span><span class="p">.</span><span class="nf">equal</span><span class="p">(</span><span class="nx">parts</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="dl">''</span><span class="p">),</span> <span class="dl">'</span><span class="s1">ABC</span><span class="dl">'</span><span class="p">);</span>
  <span class="p">});</span>

  <span class="nx">QUnit</span><span class="p">.</span><span class="nf">test</span><span class="p">(</span><span class="dl">'</span><span class="s1">make music</span><span class="dl">'</span><span class="p">,</span> <span class="nf">function </span><span class="p">(</span><span class="nx">assert</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">parts</span><span class="p">.</span><span class="nf">push</span><span class="p">(</span><span class="dl">'</span><span class="s1">B</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">A</span><span class="dl">'</span><span class="p">);</span>
    <span class="nx">assert</span><span class="p">.</span><span class="nf">equal</span><span class="p">(</span><span class="nx">parts</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="dl">''</span><span class="p">),</span> <span class="dl">'</span><span class="s1">ABBA</span><span class="dl">'</span><span class="p">);</span>
  <span class="p">});</span>
<span class="p">});</span>
</code></pre></div></div>

<h3 id="example-skip-a-module">Example: Skip a module</h3>

<p>Use <code class="language-plaintext highlighter-rouge">QUnit.module.skip()</code> to treat an entire module’s tests as if they used <a href="/api/QUnit/test.skip/"><code class="language-plaintext highlighter-rouge">QUnit.test.skip</code></a>. For example, if a module is failing due to a known but unsolved problem.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">QUnit</span><span class="p">.</span><span class="nx">module</span><span class="p">.</span><span class="nf">skip</span><span class="p">(</span><span class="dl">'</span><span class="s1">Robot</span><span class="dl">'</span><span class="p">,</span> <span class="p">(</span><span class="nx">hooks</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nx">android</span><span class="p">;</span>
  <span class="nx">hooks</span><span class="p">.</span><span class="nf">beforeEach</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">android</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Robot</span><span class="p">();</span>
  <span class="p">});</span>

  <span class="nx">QUnit</span><span class="p">.</span><span class="nf">test</span><span class="p">(</span><span class="dl">'</span><span class="s1">hello</span><span class="dl">'</span><span class="p">,</span> <span class="nf">function </span><span class="p">(</span><span class="nx">assert</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">assert</span><span class="p">.</span><span class="nf">strictEqual</span><span class="p">(</span><span class="nx">android</span><span class="p">.</span><span class="nf">hello</span><span class="p">(),</span> <span class="dl">'</span><span class="s1">Hello, my name is AN-2178!</span><span class="dl">'</span><span class="p">);</span>
  <span class="p">});</span>
<span class="p">});</span>
</code></pre></div></div>

<p>Use <code class="language-plaintext highlighter-rouge">QUnit.module.if()</code>, to conditionally skip an entire module. For example, if these tests are only meant to run in certain environments, operating systems, or when certain optional dependencies are installed.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">QUnit</span><span class="p">.</span><span class="nx">module</span><span class="p">.</span><span class="k">if</span><span class="p">(</span><span class="dl">'</span><span class="s1">MyApp</span><span class="dl">'</span><span class="p">,</span> <span class="k">typeof</span> <span class="nb">document</span> <span class="o">!==</span> <span class="dl">'</span><span class="s1">undefined</span><span class="dl">'</span><span class="p">,</span> <span class="p">(</span><span class="nx">hooks</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">QUnit</span><span class="p">.</span><span class="nf">test</span><span class="p">(</span><span class="dl">'</span><span class="s1">render</span><span class="dl">'</span><span class="p">,</span> <span class="nf">function </span><span class="p">(</span><span class="nx">assert</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">assert</span><span class="p">.</span><span class="nf">strictEqual</span><span class="p">(</span><span class="nx">MyApp</span><span class="p">.</span><span class="nf">render</span><span class="p">(),</span> <span class="dl">'</span><span class="s1">&lt;p&gt;Hello world!&lt;/p&gt;</span><span class="dl">'</span><span class="p">);</span>
  <span class="p">});</span>
<span class="p">});</span>
</code></pre></div></div>

<p>During development you can programatically focus QUnit to only run tests that you’re currently working on, by changing a call to <code class="language-plaintext highlighter-rouge">QUnit.module.only()</code>. This treats an entire module as if their tests are defined via <a href="/api/QUnit/test.only/"><code class="language-plaintext highlighter-rouge">QUnit.test.only</code></a>.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">QUnit</span><span class="p">.</span><span class="nx">module</span><span class="p">.</span><span class="nf">only</span><span class="p">(</span><span class="dl">'</span><span class="s1">Robot</span><span class="dl">'</span><span class="p">,</span> <span class="p">(</span><span class="nx">hooks</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nx">android</span><span class="p">;</span>
  <span class="nx">hooks</span><span class="p">.</span><span class="nf">beforeEach</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">android</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Robot</span><span class="p">();</span>
  <span class="p">});</span>

  <span class="nx">QUnit</span><span class="p">.</span><span class="nf">test</span><span class="p">(</span><span class="dl">'</span><span class="s1">hello</span><span class="dl">'</span><span class="p">,</span> <span class="nf">function </span><span class="p">(</span><span class="nx">assert</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">assert</span><span class="p">.</span><span class="nf">strictEqual</span><span class="p">(</span><span class="nx">android</span><span class="p">.</span><span class="nf">hello</span><span class="p">(),</span> <span class="dl">'</span><span class="s1">Hello, my name is AN-2178!</span><span class="dl">'</span><span class="p">);</span>
  <span class="p">});</span>
<span class="p">});</span>
</code></pre></div></div>

<p>Use <code class="language-plaintext highlighter-rouge">QUnit.module.todo()</code> to mark a feature that is still under development, and is known to not yet be passing all its tests. This treats an entire module’s tests as if they used <a href="/api/QUnit/test.todo/"><code class="language-plaintext highlighter-rouge">QUnit.test.todo</code></a>.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">QUnit</span><span class="p">.</span><span class="nx">module</span><span class="p">.</span><span class="nf">todo</span><span class="p">(</span><span class="dl">'</span><span class="s1">Robot</span><span class="dl">'</span><span class="p">,</span> <span class="p">(</span><span class="nx">hooks</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nx">android</span><span class="p">;</span>
  <span class="nx">hooks</span><span class="p">.</span><span class="nf">beforeEach</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">android</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Robot</span><span class="p">();</span>
  <span class="p">});</span>

  <span class="nx">QUnit</span><span class="p">.</span><span class="nf">test</span><span class="p">(</span><span class="dl">'</span><span class="s1">hello</span><span class="dl">'</span><span class="p">,</span> <span class="nf">function </span><span class="p">(</span><span class="nx">assert</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">assert</span><span class="p">.</span><span class="nf">strictEqual</span><span class="p">(</span><span class="nx">android</span><span class="p">.</span><span class="nf">hello</span><span class="p">(),</span> <span class="dl">'</span><span class="s1">Hello</span><span class="dl">'</span><span class="p">);</span>
    <span class="c1">// TODO</span>
    <span class="c1">// Actual: Goodbye</span>
    <span class="c1">// Expected: Hello</span>
  <span class="p">});</span>
<span class="p">});</span>
</code></pre></div></div>

<h3 id="E0002">Error: Cannot add hook outside the containing module</h3>

<p>If you encounter this error, it means you have called <code class="language-plaintext highlighter-rouge">hooks.beforeEach()</code> or <code class="language-plaintext highlighter-rouge">hooks.afterEach()</code> on the “hooks” parameter of a module outside the current module scope. Detection of this issue was <a href="https://github.com/qunitjs/qunit/issues/1576">introduced</a> in QUnit 3.0.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Error: Cannot add beforeEach hook outside the containing module.
</code></pre></div></div>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Error: Cannot add afterEach hook outside the containing module.
Called on "X", instead of expected "Y".
</code></pre></div></div>

<p>This can happen if you use a module scope and forget to specify the <code class="language-plaintext highlighter-rouge">hooks</code> parameter on the inner scope:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">QUnit</span><span class="p">.</span><span class="nf">module</span><span class="p">(</span><span class="dl">'</span><span class="s1">MyGroup</span><span class="dl">'</span><span class="p">,</span> <span class="p">(</span><span class="nx">hooks</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">QUnit</span><span class="p">.</span><span class="nf">module</span><span class="p">(</span><span class="dl">'</span><span class="s1">Child</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="c1">//                  ^ Oops, forgot "hooks" here!</span>

    <span class="nx">hooks</span><span class="p">.</span><span class="nf">beforeEach</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="c1">// ...</span>
    <span class="p">});</span>

    <span class="nx">QUnit</span><span class="p">.</span><span class="nf">test</span><span class="p">(</span><span class="dl">'</span><span class="s1">example</span><span class="dl">'</span><span class="p">);</span>
  <span class="p">});</span>
<span class="p">});</span>
</code></pre></div></div>

<p>Another way that this might happen is if you have named them differently, or perhaps misspelled one, and are referring to the outer parameter from the inner module. Is is recommended to name hooks parameters the same, as this will naturally refer to the correct and closest one always, thus avoiding any mistake.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">QUnit</span><span class="p">.</span><span class="nf">module</span><span class="p">(</span><span class="dl">'</span><span class="s1">MyGroup</span><span class="dl">'</span><span class="p">,</span> <span class="p">(</span><span class="nx">hooksOuter</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">QUnit</span><span class="p">.</span><span class="nf">module</span><span class="p">(</span><span class="dl">'</span><span class="s1">Child</span><span class="dl">'</span><span class="p">,</span> <span class="p">(</span><span class="nx">hooksInner</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">hooksOuter</span><span class="p">.</span><span class="nf">beforeEach</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="c1">// ^ Oops, used "hooksOuter" instead of "hooksInner"!</span>
    <span class="p">});</span>

    <span class="nx">QUnit</span><span class="p">.</span><span class="nf">test</span><span class="p">(</span><span class="dl">'</span><span class="s1">example</span><span class="dl">'</span><span class="p">);</span>
  <span class="p">});</span>
<span class="p">});</span>
</code></pre></div></div>

</article>
</div>
<aside class="sidebar" role="complementary">

	<h4 class="sidebar-title-open"><a href="/api/QUnit/">Main methods</a></h4>
	<ul class="sidebar-list"><li class="sidebar-item sidebar-item-active">
		<a href="/api/QUnit/module/">QUnit.module()</a>
	</li><li class="sidebar-item">
		<a href="/api/QUnit/start/">QUnit.start()</a>
	</li><li class="sidebar-item">
		<a href="/api/QUnit/test/">QUnit.test()</a>
	</li><li class="sidebar-item">
		<a href="/api/QUnit/test.each/">QUnit.test.each()</a>
	</li><li class="sidebar-item">
		<a href="/api/QUnit/test.if/">QUnit.test.if()</a>
	</li><li class="sidebar-item">
		<a href="/api/QUnit/test.only/">QUnit.test.only()</a>
	</li><li class="sidebar-item">
		<a href="/api/QUnit/test.skip/">QUnit.test.skip()</a>
	</li><li class="sidebar-item">
		<a href="/api/QUnit/test.todo/">QUnit.test.todo()</a>
	</li></ul>

	<h4><a href="/api/assert/">Assertions</a></h4>
	

	<h4><a href="/api/callbacks/">Callback events</a></h4>
	

	<h4><a href="/api/async/">Async control</a></h4>
	

	<h4><a href="/api/config/">Configuration</a></h4>
	

	<h4><a href="/api/reporters/">Reporters</a></h4>
	

	<h4><a href="/api/extension/">Extension interface</a></h4>
	

	<h4><a href="/api/deprecated/">Deprecated methods</a></h4>
	

	<h4><a href="/api/removed/">Removed methods</a></h4>
	<hr><div class="toc-wrapper">
		<h4>Table of contents</h4><ol class="toc"><li class="sidebar-item"><a href="#description">Description</a><ol><li class="sidebar-item"><a href="#organizing-your-tests">Organizing your tests</a></li><li class="sidebar-item"><a href="#module-scope">Module scope</a></li><li class="sidebar-item"><a href="#hooks">Hooks</a></li><li class="sidebar-item"><a href="#options-parameter">Options parameter</a></li></ol></li><li class="sidebar-item"><a href="#changelog">Changelog</a></li><li class="sidebar-item"><a href="#examples">Examples</a><ol><li class="sidebar-item"><a href="#example-hooks">Example: Hooks</a></li><li class="sidebar-item"><a href="#example-skip-a-module">Example: Skip a module</a></li><li class="sidebar-item"><a href="#E0002">Error: Cannot add hook outside the containing module</a></li></ol></li></ol></div><script defer type="module" src="/assets/toc.js?v=348e5a95"></script>
</aside>

</div>

    <footer class="site-footer">
        <div class="wrapper">
            <p class="external-links">
                <a href="https://github.com/qunitjs" target="_blank" rel="noopener">GitHub</a>
                <a href="/intro/#support" target="_blank" rel="noopener">Chat</a>
                <a href="https://fosstodon.org/@qunit" target="_blank" rel="noopener">Mastodon</a>
                
                <a href="https://bsky.app/profile/qunitjs.com" target="_blank" rel="noopener">Bluesky</a>
                
                <a href="https://twitter.com/qunitjs" target="_blank" rel="noopener">Twitter</a>
                </p>
            <p class="copyright">Copyright <a href="https://openjsf.org/" target="_blank" rel="noopener">OpenJS Foundation</a> and contributors.<br><a href="https://github.com/qunitjs/qunit/blob/main/docs/api/QUnit/module.md">Edit this page</a></p>
        </div>
    </footer><script defer type="module" src="/assets/typesense-minibar.js?v=830f1ee1"></script></body>
</html>
